---
layout: post
title: "Diffusers ä¸€å²å•¦ !"
date: "2023-07-27T01:04:16.156Z"
---
Diffusers ä¸€å²å•¦ !
===============

ååˆ†é«˜å…´ ðŸ¤— Diffusers è¿Žæ¥å®ƒçš„ä¸€å²ç”Ÿæ—¥ï¼è¿™æ˜¯ä»¤äººæ¿€åŠ¨çš„ä¸€å¹´ï¼Œæ„Ÿè°¢ç¤¾åŒºå’Œå¼€æºè´¡çŒ®è€…ï¼Œæˆ‘ä»¬å¯¹æˆ‘ä»¬çš„å·¥ä½œæ„Ÿåˆ°ååˆ†éª„å‚²å’Œè‡ªè±ªã€‚åŽ»å¹´ï¼Œæ–‡æœ¬åˆ°å›¾åƒçš„æ¨¡åž‹ï¼Œå¦‚ DALL-E 2, Imagen, å’Œ Stable Diffusion ä»¥å…¶ä»Žæ–‡æœ¬ç”Ÿæˆé€¼çœŸçš„å›¾åƒçš„èƒ½åŠ›ï¼Œå¸å¼•äº†å…¨ä¸–ç•Œçš„å…³æ³¨ï¼Œä¹Ÿå¸¦åŠ¨äº†å¯¹ç”Ÿæˆå¼ AI çš„å¤§é‡å…´è¶£å’Œå¼€å‘å·¥ä½œã€‚ä½†æ˜¯è¿™äº›å¼ºå¤§çš„å·¥ä½œä¸æ˜“èŽ·å–ã€‚

åœ¨ Hugging Face, æˆ‘ä»¬çš„ä½¿å‘½æ˜¯ä¸€èµ·é€šè¿‡ç›¸äº’åˆä½œå’Œå¸®åŠ©ï¼Œæž„å»ºä¸€ä¸ªå¼€æ”¾å’Œæœ‰é“å¾·çš„ AI æœªæ¥ï¼Œè®©æœºå™¨å­¦ä¹ æ°‘ä¸»åŒ–ã€‚æˆ‘ä»¬çš„ä½¿å‘½ä¿ƒä½¿æˆ‘ä»¬åˆ›é€ äº† ðŸ¤— Diffusers åº“ï¼Œè®© _æ¯ä¸ªäºº_ èƒ½å®žéªŒï¼Œç ”ç©¶ï¼Œæˆ–è€…å°è¯•æ–‡æœ¬åˆ°å›¾åƒçš„ç”Ÿæˆæ¨¡åž‹ã€‚è¿™ä¾¿æ˜¯æˆ‘ä»¬è®¾è®¡è¿™ä¸ªæ¨¡å—åŒ–çš„åº“çš„åˆè¡·ï¼Œä½ å¯ä»¥ä¸ªæ€§åŒ–æ‰©æ•£æ¨¡åž‹çš„æŸä¸ªéƒ¨åˆ†ï¼Œæˆ–è€…ä»…ä»…æ˜¯å¼€ç®±å³ç”¨ã€‚

ä½œä¸º ðŸ¤— Diffusers çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œä¸‹é¢æ˜¯åœ¨ç¤¾åŒºçš„å¸®åŠ©ä¸‹ï¼Œæˆ‘ä»¬åŠ å…¥çš„æœ€å€¼å¾—ä¸€æçš„ç‰¹æ€§ã€‚æˆ‘ä»¬å¯¹ä½œç¤¾åŒºçš„ä¸€å‘˜ï¼Œæé«˜åŠŸèƒ½æ€§ï¼ŒæŽ¨åŠ¨æ‰©æ•£æ¨¡åž‹ä¸å±€é™äºŽæ–‡æœ¬åˆ°å›¾åƒçš„ç”Ÿæˆï¼Œæ„Ÿåˆ°éª„å‚²å’Œæ„Ÿæ¿€ã€‚

**ç›®å½•**

*   æé«˜é€¼çœŸæ€§
*   è§†é¢‘ç”Ÿæˆ
*   æ–‡æœ¬åˆ° 3D æ¨¡åž‹ç”Ÿæˆ
*   å›¾åƒç¼–è¾‘
*   åŠ é€Ÿæ‰©æ•£æ¨¡åž‹
*   ç§æ—åè§å’Œå®‰å…¨æ€§
*   å¯¹ LoRA çš„æ”¯æŒ
*   åŸºäºŽ Torch 2.0 çš„ä¼˜åŒ–
*   ç¤¾åŒºè´¡çŒ®
*   åŸºäºŽ ðŸ¤— Diffusers çš„äº§å“
*   å±•æœ›

æé«˜é€¼çœŸæ€§
-----

ä¼—æ‰€å‘¨çŸ¥ï¼Œç”Ÿæˆæ¨¡åž‹èƒ½ç”Ÿæˆé€¼çœŸçš„å›¾åƒï¼Œä½†å¦‚æžœä½ å‡‘è¿‘çœ‹ï¼Œç»å¯¹èƒ½å‘çŽ°æŸäº›ç‘•ç–µï¼Œæ¯”å¦‚å¤šä½™çš„æ‰‹æŒ‡ã€‚ä»Šå¹´ï¼ŒDeepFloyd IF å’Œ Stability AI SDXL æ¨¡åž‹ç»™å‡ºäº†è®©ç”Ÿæˆå›¾åƒæ›´é€¼çœŸçš„æ–¹æ³•ã€‚

[DeepFloyd IF](https://stability.ai/blog/deepfloyd-if-text-to-image-model) - ä¸€ä¸ªåˆ†æ­¥ç”Ÿæˆå›¾ç‰‡çš„æ¨¡å—åŒ–æ‰©æ•£æ¨¡åž‹ (æ¯”å¦‚ï¼Œä¸€ä¸ªå›¾ç‰‡è¢«ä¸‰å€åœ°ä¸Šé‡‡æ ·ä»¥æé«˜åˆ†è¾¨çŽ‡)ï¼Œä¸åƒ Stable Diffusionï¼ŒIF æ¨¡åž‹ç›´æŽ¥åœ¨åƒç´ å±‚æ¬¡ä¸Šæ“ä½œï¼Œå¹¶é‡‡ç”¨ä¸€ä¸ªå¤§è¯­è¨€æ¨¡åž‹æ¥ç¼–ç æ–‡æœ¬ã€‚

[Stable Diffusion XL (SDXL)](https://stability.ai/blog/sdxl-09-stable-diffusion) - Stability AI çš„æœ€å‰æ²¿çš„ Stable Diffusion æ¨¡åž‹ï¼Œå’Œä¹‹å‰çš„ Stable Diffusion 2 ç›¸æ¯”ï¼Œå‚æ•°é‡æ˜¾è‘—åœ°å¢žåŠ äº†ã€‚å®ƒèƒ½ç”Ÿæˆè¶…çœŸå®žçš„å›¾ç‰‡ï¼Œå…ˆç”¨ä¸€ä¸ªåŸºç¡€æ¨¡åž‹è®©å›¾åƒå¾ˆæŽ¥è¿‘è¾“å…¥æç¤ºè¯ï¼Œç„¶åŽç”¨ä¸€ä¸ªæ”¹å–„æ¨¡åž‹ä¸“é—¨æé«˜ç»†èŠ‚å’Œé«˜é¢‘çŽ‡çš„å†…å®¹ã€‚

çŽ°åœ¨å°±åŽ»æŸ¥é˜… DeepFloyd IF çš„ [æ–‡æ¡£](https://huggingface.co/docs/diffusers/v0.18.2/en/api/pipelines/if#texttoimage-generation) å’Œ SDXL çš„ [æ–‡æ¡£](https://huggingface.co/docs/diffusers/v0.18.2/en/api/pipelines/stable_diffusion/stable_diffusion_xl)ï¼Œç„¶åŽç”Ÿæˆä½ è‡ªå·±çš„å›¾ç‰‡å§ï¼

è§†é¢‘ç”Ÿæˆ
----

æ–‡æœ¬åˆ°å›¾åƒå¾ˆé…·ï¼Œä½†æ–‡æœ¬åˆ°è§†é¢‘æ›´é…·ï¼æˆ‘ä»¬çŽ°åœ¨èƒ½æ”¯æŒä¸¤ç§æ–‡æœ¬åˆ°è§†é¢‘çš„æ–¹æ³•: [VideoFusion](https://huggingface.co/docs/diffusers/main/en/api/pipelines/text_to_video) å’Œ [Text2Video-Zero](https://huggingface.co/docs/diffusers/main/en/api/pipelines/text_to_video_zero)ã€‚

å¦‚æžœä½ å¯¹æ–‡æœ¬åˆ°å›¾åƒçš„æµç¨‹ç†Ÿæ‚‰ï¼Œé‚£ä¹ˆæ–‡æœ¬åˆ°è§†é¢‘ä¹Ÿä¸€æ ·:

    import torch
    from diffusers import DiffusionPipeline
    from diffusers.utils import export_to_video
    
    pipe = DiffusionPipeline.from_pretrained("cerspense/zeroscope_v2_576w", torch_dtype=torch.float16)
    pipe.enable_model_cpu_offload()
    
    prompt = "Darth Vader surfing a wave"
    video_frames = pipe(prompt, num_frames=24).frames
    video_path = export_to_video(video_frames)
    

![Generated video of Darth Vader surfing.](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251858586.gif)

æˆ‘ä»¬æœŸå¾…æ–‡ç”Ÿè§†é¢‘èƒ½åœ¨ ðŸ¤— Diffusers çš„ç¬¬äºŒå¹´è¿Žæ¥é©å‘½ï¼Œä¹Ÿååˆ†æ¿€åŠ¨èƒ½çœ‹åˆ°ç¤¾åŒºåœ¨æ­¤ä¹‹ä¸Šçš„å·¥ä½œï¼Œè¿›ä¸€æ­¥æŽ¨è¿›è§†é¢‘ç”Ÿæˆé¢†åŸŸçš„è¿›æ­¥ï¼

æ–‡æœ¬åˆ° 3D
------

é™¤äº†æ–‡æœ¬åˆ°è§†é¢‘ï¼Œæˆ‘ä»¬ä¹Ÿæä¾›äº†æ–‡æœ¬åˆ° 3D çš„ç”Ÿæˆæ¨¡åž‹ï¼Œå¤šäºäº† OpenAI çš„ [Shap-E](https://hf.co/papers/2305.02463) æ¨¡åž‹ã€‚Shap-E åœ¨å¤§é‡ 3D å’Œæ–‡æœ¬çš„æ•°æ®å¯¹ä¸Šä»¥ç¼–ç çš„å½¢å¼è®­ç»ƒï¼Œåœ¨ç¼–ç å™¨çš„è¾“å‡ºå±‚æ¡ä»¶åŒ–äº†ä¸€ä¸ªæ‰©æ•£æ¨¡åž‹ã€‚ä½ ç”¨å®ƒå¯ä»¥ä¸ºæ¸¸æˆï¼Œå†…éƒ¨è®¾è®¡å’Œå»ºç­‘ç”Ÿæˆ 3D èµ„äº§ã€‚

çŽ°åœ¨å°±å°è¯• [`ShapEPipeline`](https://huggingface.co/docs/diffusers/main/en/api/pipelines/shap_e#diffusers.ShapEPipeline) å’Œ [`ShapEImg2ImgPipeline`](https://huggingface.co/docs/diffusers/main/en/api/pipelines/shap_e#diffusers.ShapEImg2ImgPipeline) å§ã€‚

![3D render of a birthday cupcake generated using SHAP-E.](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251859219.gif)

å›¾åƒç¼–è¾‘
----

å›¾åƒç¼–è¾‘æ˜¯åœ¨æ—¶å°šï¼Œææ–™è®¾è®¡å’Œæ‘„å½±é¢†åŸŸæœ€å®žç”¨çš„åŠŸèƒ½ä¹‹ä¸€ã€‚è€Œå›¾ç‰‡ç¼–è¾‘çš„å¯èƒ½æ€§è¢«æ‰©æ•£æ¨¡åž‹è¿›ä¸€æ­¥å¢žåŠ ã€‚

åœ¨ ðŸ¤— Diffusers ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†è®¸å¤š [æµæ°´çº¿](https://huggingface.co/docs/diffusers/main/en/using-diffusers/controlling_generation) ç”¨æ¥åšå›¾åƒç¼–è¾‘ã€‚æœ‰äº›å›¾åƒç¼–è¾‘æµæ°´çº¿èƒ½æ ¹æ®ä½ çš„æç¤ºè¯ä»Žå¿ƒæ‰€æ¬²åœ°ä¿®æ”¹å›¾åƒï¼Œä»Žå›¾ç‰‡ä¸­ç§»é™¤æŸä¸ªæ¦‚å¿µï¼Œç”šè‡³æœ‰æµæ°´çº¿ç»¼åˆäº†å¾ˆå¤šåˆ›é€ é«˜è´¨é‡å›¾ç‰‡ (å¦‚å…¨æ™¯å›¾) çš„ç”Ÿæˆæ–¹æ³•ã€‚ç”¨ ðŸ¤— Diffusersï¼Œä½ çŽ°åœ¨å°±å¯ä»¥ä½“éªŒæœªæ¥çš„å›¾ç‰‡ç¼–è¾‘æŠ€æœ¯ï¼

æ›´å¿«çš„æ‰©æ•£æ¨¡åž‹
-------

ä¼—æ‰€å‘¨çŸ¥ï¼Œæ‰©æ•£æ¨¡åž‹ä»¥å…¶è¿­ä»£çš„è¿‡ç¨‹è€Œè€—æ—¶ã€‚åˆ©ç”¨ OpenAI çš„ [Consistency Models](https://huggingface.co/papers/2303.01469)ï¼Œå›¾åƒç”Ÿæˆæµç¨‹çš„é€Ÿåº¦æœ‰æ˜¾è‘—æé«˜ã€‚ç”Ÿæˆå•å¼  256x256 åˆ†è¾¨çŽ‡çš„å›¾ç‰‡ï¼ŒçŽ°åœ¨åœ¨ä¸€å¼  CPU ä¸Šåªè¦ 3/4 ç§’ï¼ä½ å¯ä»¥åœ¨ ðŸ¤— Diffusers ä¸Šå°è¯• [`ConsistencyModelPipeline`](https://huggingface.co/docs/diffusers/main/en/api/pipelines/consistency_models)ã€‚

åœ¨æ›´å¿«çš„æ‰©æ•£æ¨¡åž‹ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿæä¾›è®¸å¤šé¢å‘æ›´å¿«æŽ¨ç†çš„æŠ€æœ¯ï¼Œæ¯”å¦‚ [PyTorch 2.0 çš„ `scaled_dot_product_attention()` (SDPA) å’Œ `torch.compile()`](https://pytorch.org/blog/accelerated-diffusers-pt-20), sliced attention, feed-forward chunking, VAE tiling, CPU and model offloading, ä»¥åŠæ›´å¤šã€‚è¿™äº›ä¼˜åŒ–èŠ‚çº¦å†…å­˜ï¼ŒåŠ å¿«ç”Ÿæˆï¼Œå…è®¸ä½ èƒ½åœ¨å®¢æˆ·ç«¯ GPU ä¸Šè¿è¡Œã€‚å½“ä½ ç”¨ ðŸ¤— Diffusers éƒ¨ç½²ä¸€ä¸ªæ¨¡åž‹ï¼Œæ‰€æœ‰çš„ä¼˜åŒ–éƒ½å³åˆ»æ”¯æŒï¼

é™¤æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿæ”¯æŒå…·ä½“çš„ç¡¬ä»¶æ ¼å¼å¦‚ ONNXï¼ŒPytorch ä¸­ Apple èŠ¯ç‰‡çš„ `mps` è®¾å¤‡ï¼ŒCore ML ä»¥åŠå…¶ä»–çš„ã€‚

æ¬²äº†è§£æ›´å¤šå…³äºŽ ðŸ¤— Diffusers çš„ä¼˜åŒ–ï¼Œè¯·æŸ¥çœ‹ [æ–‡æ¡£](https://huggingface.co/docs/diffusers/optimization/opt_overview)ï¼

é“å¾·å’Œå®‰å…¨
-----

ç”Ÿæˆæ¨¡åž‹å¾ˆé…·ï¼Œä½†æ˜¯å®ƒä»¬ä¹Ÿå¾ˆå®¹æ˜“ç”Ÿæˆæœ‰å®³çš„å’Œ NSFW å†…å®¹ï¼Œä¸ºäº†å¸®åŠ©ç”¨æˆ·è´Ÿè´£å’Œæœ‰é“å¾·åœ°ä½¿ç”¨è¿™äº›æ¨¡åž‹ï¼Œæˆ‘ä»¬æ·»åŠ äº† [`safety_checker`](https://github.com/huggingface/diffusers/blob/main/src/diffusers/pipelines/stable_diffusion/safety_checker.py) æ¨¡å—æ¥æ ‡è®°ç”Ÿæˆå†…å®¹ä¸­ä¸åˆé€‚çš„ã€‚æ¨¡åž‹çš„åˆ›é€ è€…å¯ä»¥å†³å®šæ˜¯åŠ å…¥ç•™è¯¥æ¨¡å—ã€‚

å¦å¤–ï¼Œç”Ÿæˆæ¨¡åž‹ä¹Ÿèƒ½ç”Ÿæˆè¯¯å¯¼æ€§çš„ä¿¡æ¯ï¼Œä»Šå¹´æ—©äº›æ—¶å€™ï¼Œ[Balenciaga Pope](https://www.theverge.com/2023/3/27/23657927/ai-pope-image-fake-midjourney-computer-generated-aesthetic)  
ä»¥ç”»é¢çœŸå®žå¦‚ç—…æ¯’èˆ¬ä¼ æ’­ï¼Œè™½ç„¶æ˜¯è™šå‡çš„ã€‚è¿™å‘¼åäº†æˆ‘ä»¬åŒºåˆ†ç”Ÿæˆçš„å’ŒçœŸå®žçš„å†…å®¹çš„é‡è¦æ€§ã€‚è¿™ä¾¿æ˜¯æˆ‘ä»¬å¯¹ SDXL æ¨¡åž‹çš„ç”Ÿæˆå†…å®¹æ·»åŠ ä¸€ä¸ªä¸å¯è§æ°´å°çš„åŽŸå› ï¼Œä»¥å¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°è¾¨åˆ«ã€‚

è¿™äº›ç‰¹æ€§çš„å¼€å‘éƒ½æ˜¯ç”±æˆ‘ä»¬çš„ [ethical charter](https://huggingface.co/docs/diffusers/main/en/conceptual/ethical_guidelines) ä¸»æŒï¼Œä½ èƒ½åœ¨æˆ‘ä»¬çš„æ–‡æ¡£ä¸­çœ‹åˆ°ã€‚

å¯¹ LoRA çš„æ”¯æŒ
----------

å¯¹æ‰©æ•£æ¨¡åž‹çš„å¾®è°ƒæ˜¯æ˜‚è´µï¼Œä¸”è¶…å‡ºå®¢æˆ·ç«¯ GPU èƒ½åŠ›çš„ã€‚æˆ‘ä»¬æ·»åŠ äº†ä½Žç§©é€‚åº” (Low-Rank Adaptation, [LoRA](https://huggingface.co/papers/2106.09685)ï¼Œæ˜¯ä¸€ç§å‚æ•°é«˜æ•ˆçš„å¾®è°ƒç­–ç•¥) æŠ€æœ¯æ¥å¡«è¡¥æ­¤ç©ºç¼ºï¼Œä½ å¯ä»¥æ›´å¿«é€Ÿåœ°ä»¥æ›´å°‘å†…å­˜åœ°å¾®è°ƒæ‰©æ•£æ¨¡åž‹ã€‚æœ€ç»ˆçš„æ¨¡åž‹å‚æ•°å’ŒåŽŸæ¨¡åž‹ç›¸æ¯”ä¹Ÿååˆ†è½»é‡ï¼Œæ‰€ä»¥ä½ å¯ä»¥å®¹æ˜“åœ°åˆ†äº«ä½ çš„ä¸ªæ€§åŒ–æ¨¡åž‹ã€‚æ¬²äº†è§£æ›´å¤šï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„ [æ–‡æ¡£](https://huggingface.co/docs/diffusers/main/en/training/lora)ï¼Œå…¶å±•ç¤ºäº†å¦‚ä½•ç”¨ LoRA åœ¨ Stable Diffusion ä¸Šè¿›è¡Œå¾®è°ƒã€‚

åœ¨ LoRA ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯¹ä¸ªæ€§åŒ–çš„ç”Ÿæˆä¹Ÿæä¾›äº†å…¶ä»–çš„ [è®­ç»ƒæŠ€æœ¯](https://huggingface.co/docs/diffusers/main/en/training/overview)ï¼ŒåŒ…æ‹¬ DreamBooth, textual inversion, custom diffusion ä»¥åŠæ›´å¤šï¼

é¢å‘ Torch 2.0 çš„ä¼˜åŒ–
----------------

PyTorch 2.0 [å¼•å…¥äº†æ”¯æŒ](https://pytorch.org/get-started/pytorch-2.0/#pytorch-2x-faster-more-pythonic-and-as-dynamic-as-ever) `torch.compile()` å’Œ `scaled_dot_product_attention()` (  
ä¸€ç§æ³¨æ„åŠ›æœºåˆ¶çš„æ›´é«˜æ•ˆå®žçŽ°)ã€‚ðŸ¤— Diffusers æä¾›äº†å¯¹è¿™äº›ç‰¹æ€§çš„ [æ”¯æŒ](https://huggingface.co/docs/diffusers/optimization/torch2.0)ï¼Œå¸¦æ¥äº†é€Ÿåº¦çš„å¤§é‡æå‡ï¼Œæœ‰æ—¶ç”šè‡³èƒ½å¿«ä¸¤å€å¤šã€‚

åœ¨è§†è§‰å†…å®¹ (å›¾ç‰‡ï¼Œè§†é¢‘ï¼Œä¸‰ç»´èµ„äº§ç­‰) å¤–ï¼Œæˆ‘ä»¬ä¹Ÿæä¾›äº†éŸ³é¢‘æ”¯æŒï¼è¯·æŸ¥é˜… [æ–‡æ¡£](https://huggingface.co/docs/diffusers/using-diffusers/audio) ä»¥äº†è§£æ›´å¤šã€‚

ç¤¾åŒºçš„äº®ç‚¹
-----

è¿‡åŽ»ä¸€å¹´ä¸­ï¼Œæœ€ä»¤äººæ„‰æ‚¦çš„ç»åŽ†ï¼Œä¾¿æ˜¯çœ‹åˆ°ç¤¾åŒºå¦‚ä½•æŠŠ ðŸ¤— Diffusers èžå…¥åˆ°ä»–ä»¬çš„é¡¹ç›®ä¸­ã€‚ä»Žä½¿ç”¨ LoRA åˆ°æ›´å¿«çš„æ–‡æœ¬åˆ°å›¾åƒçš„ç”Ÿæˆæ¨¡åž‹ï¼Œåˆ°å®žçŽ°æœ€å‰æ²¿çš„ç»˜ç”»å·¥å…·ï¼Œè¿™é‡Œæ˜¯å‡ ä¸ªæˆ‘ä»¬æœ€å–œæ¬¢çš„é¡¹ç›®:

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251859307.jpeg)
> 
> æˆ‘ä»¬æž„å»º Core ML Stable Diffusionï¼Œè®©å®ƒå¯¹å¼€å‘è€…è€Œè¨€ï¼Œåœ¨ä»–ä»¬çš„ iOS, iPadOS å’Œ macOS åº”ç”¨ä¸­ï¼Œä»¥ Apple Silicon æœ€é«˜çš„æ•ˆçŽ‡ï¼Œæ›´å®¹æ˜“æ·»åŠ æœ€å‰æ²¿çš„ç”Ÿæˆå¼ AI èƒ½åŠ›ã€‚æˆ‘ä»¬åœ¨ ðŸ¤— Diffusers çš„åŸºç¡€ä¸Šæž„å»ºï¼Œè€Œä¸æ˜¯ä»Žå¤´å¼€å§‹ï¼Œå› ä¸ºä¸è®ºæƒ³æ³•æ–°æ—§ï¼ŒðŸ¤— Diffusers èƒ½æŒç»­å¿«é€Ÿåœ°è·Ÿè¿›é¢†åŸŸçš„å‘å±•ï¼Œå¹¶ä¸”åšåˆ°ä½çš„æ”¹è¿›ã€‚  
> \- Atila Orhon

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251859947.jpeg)
> 
> ðŸ¤— Diffusers å¯¹æˆ‘æ·±å…¥äº†è§£ Stable Diffusion æ¨¡åž‹è€Œè¨€ååˆ†å‹å¥½ã€‚ðŸ¤— Diffusers çš„å®žçŽ°æœ€ç‹¬ç‰¹ä¹‹å¤„æ˜¯ï¼Œå®ƒä¸æ˜¯æ¥è‡ªç§‘ç ”é˜¶æ®µçš„ä»£ç ï¼Œè€Œä¸»è¦ç”±é€Ÿåº¦é©±åŠ¨ã€‚ç§‘ç ”æ—¶çš„ä»£ç æ€»æ˜¯å†™çš„å¾ˆç³Ÿç³•ï¼Œéš¾äºŽç†è§£ (ç¼ºå°‘è§„èŒƒä¹¦å†™ï¼Œæ–­è¨€ï¼Œè®¾è®¡å’Œè®°å·ä¸ä¸€è‡´)ï¼Œåœ¨ ðŸ¤— Diffusers ä¸Šåœ¨æ•°å°æ—¶å†…å®žçŽ°æˆ‘çš„æƒ³æ³•ï¼ŒçŠ¹å¦‚å‘¼å¸ä¸€èˆ¬ç®€å•ã€‚æ²¡æœ‰å®ƒï¼Œæˆ‘ä¼°è®¡ä¼šèŠ±æ›´å¤šçš„æ—¶é—´æ‰å¼€å§‹ hack ä»£ç ã€‚è§„èŒƒçš„æ–‡æ¡£å’Œä¾‹å­ä¹Ÿååˆ†æœ‰å¸®åŠ©ã€‚  
> \- Simo

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251900006.jpeg)
> 
> BentoML æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„æ¡†æž¶ï¼Œå¯¹æž„å»ºï¼Œè£…è½½ï¼Œå’Œé‡åŒ–äº§å“çº§ AI åº”ç”¨ï¼Œæ¶‰åŠä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ï¼Œé¢„è®­ç»ƒ AI æ¨¡åž‹ï¼Œç”Ÿæˆå¼å’Œå¤§è¯­è¨€æ¨¡åž‹ã€‚æ‰€æœ‰çš„ Hugging Face çš„ Diffusers æ¨¡åž‹å’Œç®¡çº¿éƒ½èƒ½æ— ç¼åœ°æ•´åˆè¿› BentoML çš„åº”ç”¨ä¸­ï¼Œè®©æ¨¡åž‹çš„è¿è¡Œèƒ½åœ¨æœ€åˆé€‚çš„ç¡¬ä»¶å¹¶æŒ‰éœ€å®žçŽ°è‡ªä¸»è§„æ¨¡ç¼©æ”¾ã€‚  
> \- BentoML

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251900668.png)
> 
> Invoke AI æ˜¯ä¸€ä¸ªå¼€æºçš„ç”Ÿæˆå¼ AI å·¥å…·ï¼Œç”¨æ¥åŠ©åŠ›ä¸“ä¸šåˆ›ä½œï¼Œä»Žæ¸¸æˆè®¾è®¡å’Œæ‘„åƒåˆ°å»ºç­‘å’Œäº§å“è®¾è®¡ã€‚Invoke æœ€è¿‘å¼€æ”¾äº† invoke.aiï¼Œå…è®¸ç”¨æˆ·ä»¥æœ€æ–°çš„å¼€æºç ”ç©¶æˆæžœåŠ©åŠ›ï¼Œåœ¨ä»»æ„ç”µè„‘ä¸Šç”Ÿæˆèµ„äº§ã€‚  
> \- InvokeAI

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251900009.png)
> 
> TaskMatrix è¿žæŽ¥å¤§è¯­è¨€æ¨¡åž‹å’Œä¸€ç³»åˆ—è§†è§‰æ¨¡åž‹ï¼ŒåŠ©åŠ›èŠå¤©åŒæ—¶å‘é€é€å’ŒæŽ¥å—å›¾ç‰‡ã€‚  
> \-Chenfei Wu

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251900492.png)
> 
> Lama Cleaner æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å›¾åƒç»˜ç”»å·¥å…·ï¼Œç”¨ Stable Diffusion çš„æŠ€æœ¯ç§»é™¤ä¸æƒ³è¦çš„ç‰©ä½“ã€ç‘•ç–µã€æˆ–è€…äººç‰©ã€‚å®ƒä¹Ÿå¯ä»¥æ“¦é™¤å’Œæ›¿æ¢å›¾åƒä¸­çš„ä»»æ„ä¸œè¥¿ã€‚  
> \- Qing

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251900074.png)
> 
> Grounded-SAM ç»“åˆäº†ä¸€ä¸ªå¼ºå¤§çš„é›¶æ ·æœ¬æ£€æµ‹å™¨ Grounding-DINO å’Œ Segment-Anything-Model (SAM) æ¥æž„å»ºä¸€ä¸ªå¼ºå¤§çš„æµæ°´çº¿ï¼Œä»¥ç”¨æ–‡æœ¬è¾“å…¥æ£€æµ‹å’Œåˆ†å‰²ä»»æ„ç‰©ä½“ã€‚å½“å’Œ ðŸ¤— Diffusers ç»˜ç”»æ¨¡åž‹ç»“åˆèµ·æ¥æ—¶ï¼ŒGrounded-SAM èƒ½åšé«˜å¯æŽ§çš„å›¾åƒç¼–è¾‘äººç‰©ï¼ŒåŒ…æ‹¬æ›¿æ¢ç‰¹å®šçš„ç‰©ä½“ï¼Œç»˜ç”»èƒŒæ™¯ç­‰ç­‰ã€‚  
> \- Tianhe Ren

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251901700.jpeg)
> 
> Stable-Dreamfusion ç»“åˆ ðŸ¤— Diffusers ä¸­æ–¹ä¾¿çš„ 2D æ‰©æ•£æ¨¡åž‹æ¥å¤çŽ°æœ€è¿‘æ–‡æœ¬åˆ° 3D å’Œå›¾åƒåˆ° 3D çš„æ–¹æ³•ã€‚  
> \- kiui

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251901167.png)
> 
> MMagic (Multimodal Advanced, Generative, and Intelligent Creation) æ˜¯ä¸€ä¸ªå…ˆè¿›å¹¶ä¸”æ˜“äºŽç†è§£çš„ç”Ÿæˆå¼ AI å·¥å…·ç®±ï¼Œæä¾›æœ€å‰æ²¿çš„ AI æ¨¡åž‹ (æ¯”å¦‚ ðŸ¤— Diffusers çš„æ‰©æ•£æ¨¡åž‹å’Œ GAN æ¨¡åž‹)ï¼Œç”¨æ¥åˆæˆï¼Œç¼–è¾‘å’Œæ”¹å–„å›¾åƒå’Œè§†é¢‘ã€‚åœ¨ MMagic ä¸­ï¼Œç”¨æˆ·å¯ä»¥ç”¨ä¸°å¯Œçš„éƒ¨ä»¶æ¥ä¸ªæ€§åŒ–ä»–ä»¬çš„æ¨¡åž‹ï¼Œå°±åƒçŽ©ä¹é«˜ä¸€æ ·ï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“åœ°ç®¡ç†è®­ç»ƒçš„è¿‡ç¨‹ã€‚  
> \- mmagic

> ![](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307251901142.png)
> 
> Tune-A-Videoï¼Œç”± Jay Zhangjie Wu å’Œä»–æ¥è‡ª Show Lab çš„å›¢é˜Ÿå¼€å‘ï¼Œæ˜¯ç¬¬ä¸€ä¸ªç”¨å•ä¸ªæ–‡æœ¬-è§†é¢‘å¯¹å®žçŽ°å¾®è°ƒé¢„è®­ç»ƒæ–‡æœ¬åˆ°å›¾åƒçš„æ‰©æ•£æ¨¡åž‹ï¼Œå®ƒèƒ½å¤Ÿåœ¨æ”¹å˜è§†é¢‘å†…å®¹çš„åŒæ—¶ä¿æŒå†…å®¹çš„è¿åŠ¨çŠ¶æ€ã€‚  
> \- Jay Zhangjie Wu

åŒæ—¶æˆ‘ä»¬ä¹Ÿå’Œ Google Cloud åˆä½œ (ä»–ä»¬æ…·æ…¨åœ°æä¾›äº†è®¡ç®—èµ„æº) æ¥æä¾›æŠ€æœ¯æ€§çš„æŒ‡å¯¼å’Œç›‘ç£ï¼Œä»¥å¸®åŠ©ç¤¾åŒºç”¨ TPU æ¥è®­ç»ƒæ‰©æ•£æ¨¡åž‹ (è¯·å‚è€ƒ [æ¯”èµ›](http://opensource.googleblog.com/2023/06/controlling-stable-diffusion-with-jax-diffusers-and-cloud-tpus.html) )ã€‚æœ‰å¾ˆå¤šå¾ˆé…·çš„æ¨¡åž‹ï¼Œæ¯”å¦‚è¿™ä¸ª [demo](https://huggingface.co/spaces/mfidabel/controlnet-segment-anything) ç»“åˆäº† ControlNet å’Œ Segment Anythingã€‚

![ControlNet and SegmentAnything demo of a hot air balloon in various styles](https://man-archives.oss-cn-hangzhou.aliyuncs.com/goofan/202307260018221.png)

æœ€åŽï¼Œæˆ‘ä»¬ååˆ†é«˜å…´æ”¶åˆ°è¶…è¿‡ 300 ä¸ªè´¡çŒ®è€…å¯¹æˆ‘ä»¬çš„ä»£ç çš„æ”¹è¿›ï¼Œä»¥ä¿è¯æˆ‘ä»¬èƒ½ä»¥æœ€å¼€æ”¾çš„å½¢å¼åˆä½œã€‚è¿™æ˜¯ä¸€äº›æ¥è‡ªæˆ‘ä»¬ç¤¾åŒºçš„è´¡çŒ®:

*   [Model editing](https://github.com/huggingface/diffusers/pull/2721) by [@bahjat-kawar](https://github.com/bahjat-kawar), ä¸€ä¸ªä¿®æ”¹æ¨¡åž‹éšå¼å‡è®¾çš„æµæ°´çº¿ã€‚
*   [LDM3D](https://github.com/huggingface/diffusers/pull/3668) by [@estelleafl](https://github.com/estelleafl), ä¸€ä¸ªç”Ÿæˆ 3D å›¾ç‰‡çš„æ‰©æ•£æ¨¡åž‹ã€‚
*   [DPMSolver](https://github.com/huggingface/diffusers/pull/3314) by [@LuChengTHU](https://github.com/LuChengTHU), æ˜¾è‘—åœ°æé«˜æŽ¨ç†é€Ÿåº¦ã€‚
*   [Custom Diffusion](https://github.com/huggingface/diffusers/pull/3031) by [@nupurkmr9](https://github.com/nupurkmr9), ä¸€é¡¹ç”¨åŒä¸€ç‰©ä½“çš„å°‘é‡å›¾ç‰‡ç”Ÿæˆä¸ªæ€§åŒ–å›¾ç‰‡çš„æŠ€æœ¯ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œç”±è¡·åœ°æ„Ÿè°¢å¦‚ä¸‹è´¡çŒ®è€…ï¼Œä¸ºæˆ‘ä»¬å®žçŽ°äº† Diffusers ä¸­æœ€æœ‰ç”¨çš„åŠŸèƒ½ã€‚

*   [@takuma104](https://github.com/huggingface/diffusers/commits?author=takuma104)
*   [@nipunjindal](https://github.com/huggingface/diffusers/commits?author=nipunjindal)
*   [@isamu-isozaki](https://github.com/huggingface/diffusers/commits?author=isamu-isozaki)
*   [@piEsposito](https://github.com/huggingface/diffusers/commits?author=piEsposito)
*   [@Birch-san](https://github.com/huggingface/diffusers/commits?author=Birch-san)
*   [@LuChengTHU](https://github.com/huggingface/diffusers/commits?author=LuChengTHU)
*   [@duongna21](https://github.com/huggingface/diffusers/commits?author=duongna21)
*   [@clarencechen](https://github.com/huggingface/diffusers/commits?author=clarencechen)
*   [@dg845](https://github.com/huggingface/diffusers/commits?author=dg845)
*   [@Abhinay1997](https://github.com/huggingface/diffusers/commits?author=Abhinay1997)
*   [@camenduru](https://github.com/huggingface/diffusers/commits?author=camenduru)
*   [@ayushtues](https://github.com/huggingface/diffusers/commits?author=ayushtues)

ç”¨ ðŸ¤— Diffusers åšäº§å“
------------------

åœ¨è¿‡åŽ»ä¸€å¹´ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†è®¸å¤šå…¬å¸åœ¨ ðŸ¤— Diffusers çš„åŸºç¡€ä¸Šæž„å»ºä»–ä»¬çš„äº§å“ã€‚è¿™æ˜¯å‡ ä¸ªå¸å¼•åˆ°æˆ‘ä»¬å…³æ³¨çš„äº§å“:

*   [PlaiDay](http://plailabs.com/): â€œPlaiDay æ˜¯ä¸€ä¸ªç”Ÿæˆå¼ AI äº§å“ï¼Œäººä»¬å¯ä»¥åˆä½œï¼Œåˆ›é€ å’Œè¿žæŽ¥ã€‚æˆ‘ä»¬çš„å¹³å°è§£é”äº†äººè„‘çš„æ— é™åˆ›é€ åŠ›ï¼Œä¸ºè¡¨è¾¾æä¾›äº†ä¸€ä¸ªå®‰å…¨ï¼Œæœ‰è¶£çš„ç”»æ¿ã€‚â€
*   [Previs One](https://previs.framer.wiki/): â€œPrevis One æ˜¯ä¸€ä¸ªé¢å‘ç”µå½±æ•…äº‹æ¿å’Œé¢„å¯è§†åŒ–çš„æ‰©æ•£æ¨¡åž‹ - å®ƒèƒ½å¦‚åŒå¯¼æ¼”èˆ¬ç†è§£ç”µå½±å’Œç”µè§†çš„åˆæˆè§„åˆ™ã€‚â€
*   [Zust.AI](https://zust.ai/): â€œæˆ‘ä»¬åˆ©ç”¨ç”Ÿæˆå¼ AI æ¥ä¸ºå“ç‰Œå’Œå¸‚åœºè¥é”€åˆ›é€ å·¥ä½œå®¤çº§åˆ«çš„å›¾åƒäº§å“ã€‚â€
*   [Dashtoon](https://dashtoon.com/): â€œDashtoon åœ¨æž„å»ºä¸€ä¸ªåˆ›é€ å’Œæ¶ˆè€—è§†è§‰å†…å®¹çš„å¹³å°ã€‚æˆ‘ä»¬æœ‰å¤šä¸ªæµæ°´çº¿é…ç½®å¤šä¸ª LoRAï¼Œå¤šä¸ª Control-Netï¼Œç”šè‡³å¤šä¸ª Diffusers æ¨¡åž‹ã€‚Diffusers å·²ç»è®©äº§å“è®¾è®¡å¸ˆå’Œ ML è®¾è®¡å¸ˆä¹‹é—´çš„é¸¿æ²Ÿååˆ†å°äº†ï¼Œè¿™è®© dashtoon èƒ½æ›´åŠ é‡è§†ç”¨æˆ·çš„ä»·å€¼ã€‚â€
*   [Virtual Staging AI](https://www.virtualstagingai.app/): â€œç”¨ç”Ÿæˆæ¨¡åž‹åšå®¶å…·ï¼Œæ¥å¡«æ»¡ç©ºè¡è¡çš„æˆ¿é—´å§ã€‚â€
*   [Hexo.AI](https://www.hexo.ai/): â€œHexo AI å¸®åŠ©å“ç‰Œåœ¨å¸‚åœºä¸Šå¾—åˆ°æ›´é«˜çš„ ROIï¼Œé€šè¿‡ä¸ªæ€§åŒ–çš„å¸‚åœºè§„æ¨¡ã€‚Hexo åœ¨æž„å»ºä¸€ä¸ªä¸“é—¨çš„ç”Ÿæˆå¼•æ“Žï¼Œé€šè¿‡å¼•å…¥ç”¨æˆ·æ•°æ®ï¼Œç”Ÿæˆå…¨éƒ¨ä¸ªæ€§åŒ–çš„åˆ›é€ ã€‚â€

å¦‚æžœä½ åœ¨ç”¨ ðŸ¤— Diffusers æž„å»ºäº§å“ï¼Œæˆ‘ä»¬ååˆ†ä¹æ„è®¨è®ºå¦‚ä½•è®©æˆ‘ä»¬çš„åº“æ›´åŠ å¥½ï¼æ¬¢è¿Žé€šè¿‡ [patrick@hf.co](mailto:patrick@hf.co) æˆ–è€… [patrick@hf.co](sayak@hf.co) æ¥è”ç³»æˆ‘ä»¬ã€‚

å±•æœ›
--

ä½œä¸ºæˆ‘ä»¬çš„ä¸€å‘¨å¹´åº†ï¼Œæˆ‘ä»¬å¯¹ç¤¾åŒºå’Œå¼€æºè´¡çŒ®è€…ååˆ†æ„Ÿæ¿€ï¼Œä»–ä»¬å¸®æˆ‘ä»¬åœ¨å¦‚æ­¤çŸ­çš„æ—¶é—´å¦‚æ­¤å¤šçš„äº‹æƒ…ã€‚æˆ‘ä»¬ååˆ†å¼€å¿ƒï¼Œå°†åœ¨ä»Šå¹´ç§‹å¤©çš„ ICCV 2023 å±•ç¤ºä¸€ä¸ª ðŸ¤— Diffusers çš„ demo - å¦‚æžœä½ å‚åŠ ï¼Œè¯·è¿‡æ¥çœ‹æˆ‘ä»¬çš„è¡¨æ¼”ï¼æˆ‘ä»¬å°†æŒç»­å‘å±•å’Œæé«˜æˆ‘ä»¬çš„åº“ï¼Œè®©å®ƒå¯¹æ¯ä¸ªäººè€Œè¨€æ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚æˆ‘ä»¬ä¹Ÿååˆ†æ¿€åŠ¨èƒ½çœ‹åˆ°ç¤¾åŒºç”¨æˆ‘ä»¬çš„å·¥å…·å’Œèµ„æºåšçš„ä¸‹ä¸€æ­¥åˆ›é€ ã€‚æ„Ÿè°¢ä½ ä»¬ä½œä¸ºæˆ‘ä»¬ç›®å‰æ—…é€”ä¸­çš„ä¸€å‘˜ï¼Œæˆ‘ä»¬æœŸå¾…ç»§ç»­ä¸€èµ·ä¸ºæœºå™¨å­¦ä¹ çš„æ°‘ä¸»åŒ–åšè´¡çŒ®ï¼ðŸ¥³  
â¤ï¸ Diffusers å›¢é˜Ÿ

* * *

**è‡´è°¢**: æ„Ÿè°¢ [Omar Sanseviero](https://huggingface.co/osanseviero), [Patrick von Platen](https://huggingface.co/patrickvonplaten), [Giada Pistilli](https://huggingface.co/giadap) çš„å®¡æ ¸ï¼Œä»¥åŠ [Chunte Lee](https://huggingface.co/Chunte) è®¾è®¡çš„ thumbnailã€‚

* * *

> è‹±æ–‡åŽŸæ–‡: [https://hf.co/blog/diffusers-turns-1](https://hf.co/blog/diffusers-turns-1)
> 
> ä½œè€…: Steven Liu, Sayak Paul, Pedro Cuenca
> 
> è¯‘è€…: Vermillion-Qi
> 
> å®¡æ ¡/æŽ’ç‰ˆ: zhongdongy (é˜¿ä¸œ)