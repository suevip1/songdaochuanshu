---
layout: post
title: "viteä¸èƒ½é€‰é…æ–¹æ¡ˆï¼Ÿvite-createrå¼ºåŠ¿æ¥è¢­ï¼"
date: "2023-04-29T01:05:48.663Z"
---
viteä¸èƒ½é€‰é…æ–¹æ¡ˆï¼Ÿvite-createrå¼ºåŠ¿æ¥è¢­ï¼
============================

æˆ‘æ­£åœ¨å‚åŠ ã€Œæ˜é‡‘Â·å¯èˆªè®¡åˆ’ã€

### é¡¹ç›®èƒŒæ™¯

viteå‡ºç°ä¹‹åï¼Œè¿…é€Ÿå¸¦èµ°äº†ä¸€å¤§æ³¢webpackçš„ä½¿ç”¨è€…ï¼Œå³ä½¿æ˜¯å¯¹æ‰“åŒ…å·¥å…·ä¸ç†Ÿæ‚‰çš„å°ç™½ï¼Œä¹Ÿèƒ½å¾ˆå¿«æ„Ÿå—åˆ°ä¸¤è€…çš„åŒºåˆ«â€”â€”viteå¿«çš„å¤šï¼

viteå®˜æ–¹æ–‡æ¡£ç¬¬ä¸€å¥ä¹Ÿæ˜¯è®²è¿°å…¶åå­—çš„ç”±æ¥ [Vite (æ³•è¯­æ„ä¸º "å¿«é€Ÿçš„")](https://cn.vitejs.dev/guide/) ,å…¶logoä¹Ÿä¸å…¶åå­—ä¸€æ ·ï¼Œå¤„å¤„éƒ½é€éœ²ç€ä¸€ä¸ªå­—ï¼Œé‚£å°±æ˜¯å¿«ï¼

ä½†æ˜¯ä¹ æƒ¯äº†vue-cliçš„åŒå­¦ï¼ˆæˆ‘ï¼‰ï¼Œå¯¹äºä¸€ä¸ªä¸èƒ½ä¿å­˜æ¨¡æ¿ç­–ç•¥çš„å·¥å…·ï¼Œæ˜¯æ— æ³•å¿å—çš„ï¼Œå®ƒå±…ç„¶æ¯æ¬¡éƒ½éœ€è¦æˆ‘é€‰æ‹©æ¨¡æ¿ã€é€‰æ‹©ç”¨jsè¿˜æ˜¯tsï¼Œè¿™æ˜¯è®©äººæ— æ³•å¿å—çš„ã€‚å½“ç„¶ï¼Œviteå®˜æ–¹è¿˜æä¾›äº†ç¤¾åŒºç»´æŠ¤çš„æ¨¡æ¿ å³ ![image-20230428111113806](https://glnf123456.obs.cidc-rp-13.joint.cmecloud.cn/fileUpload/202304281111834.png) **[awesome-vite](https://github.com/vitejs/awesome-vite)** ï¼ŒåŒå­¦å¯ç‚¹å‡»é“¾æ¥æ„Ÿå—ä¸€ä¸‹è¿™äº›æ¨¡æ¿ï¼Œä¸èƒ½è¯´æˆ‘ä»¬å°ç™½ç”¨ä¸åˆ°å§ï¼Œå¯ä»¥è¯´æ˜¯å®Œå…¨ä¸è®¤è¯†ã€‚

ä¸ºæ­¤ï¼Œ"å¥½ä¸œè¥¿" **vite-creater** è¯ç”Ÿäº† [githubæºç  ğŸ‘‰ ç‚¹å‡»èµ°ä½ ](https://github.com/995231030/vite-creater)

### ä»€ä¹ˆæ˜¯vite-creater?

vite-createræ˜¯viteçš„ä¸€ä¸ªå‰ç½®çš„è‡ªåŠ¨åŒ–cliç¨‹åºï¼Œå®ƒå¯ä»¥æŒ‰ç…§ç”¨æˆ·è‡ªå®šä¹‰çš„æµç¨‹å…¨è‡ªåŠ¨çš„åˆ›å»ºé¡¹ç›®ï¼Œå¹¶å®‰è£…ä¾èµ–ï¼Œå½“vite-createræç¤ºå®Œæˆæ—¶ï¼Œä½ å°±å¯ä»¥ç›´æ¥npm runäº†ï¼å®ƒè°ƒç”¨çš„æ˜¯npm create viteï¼Œé™¤äº†é€‰æ‹©æ¡†æ¶å¤–ï¼Œå…¶ä½™çš„ä¸€åˆ‡æ“ä½œéƒ½ä¸éœ€è¦ä½ åŠ¨æ‰‹ï¼Œä½ åªéœ€é¢„è®¾ä¸€ä¸ªç­–ç•¥å³å¯ï¼

### æˆ‘éœ€è¦vite-createrå—ï¼Ÿ

å¦‚æœä½ æ˜¯ä¸€ä¸ªç†Ÿç»ƒçš„vueç©å®¶ï¼Œæˆ‘çŒœä½ å¯èƒ½éœ€è¦å®ƒï¼Œå®ƒå¯ä»¥åƒvue-cliä¸€æ ·ï¼Œå‚¨å­˜ä¸€ä¸ªè‡ªå·±çš„é€‰é…ç­–ç•¥ï¼Œå®ƒç”šè‡³æ”¯æŒä½ åŒ…å«è‡ªå®šä¹‰çš„ç¬¬ä¸‰æ–¹åº“ã€‚

å¦‚æœä½ è¿˜ä¸äº†è§£viteï¼Œæˆ–è€…ä½ å¸Œæœ›ä½¿ç”¨viteåŸæ±åŸå‘³çš„åŠŸèƒ½ï¼Œä½ å¯èƒ½ä¸éœ€è¦vite-createrï¼Œä¸è¿‡æ¬¢è¿ä½ ä½¿ç”¨ï¼Œvite-createrä¼šéšç€viteçš„æ›´æ–°è€Œæ›´æ–°ï¼

### ä½¿ç”¨vite-creater

#### å®‰è£…vite-creater

    npm i vite-creater -g
    

#### å¿«é€Ÿå¼€å§‹

    vcreater init <yourProjectName>
    

vite-createrå†…ç½®äº†ä¸€ä¸ªè´´å¿ƒçš„é€‰é…ç­–ç•¥ï¼š

![image-20230428112459247](https://glnf123456.obs.cidc-rp-13.joint.cmecloud.cn/fileUpload/202304281124290.png)

è¿™ä¹Ÿæ˜¯ç›®å‰åº”ç”¨æœ€å¤šçš„ï¼Œå¼€å‘èµ·æ¥æœ€å®¹æ˜“çš„ä¸€å¥—ç­–ç•¥ï¼Œåœ¨æ­¤ç›´æ¥å›è½¦ï¼Œä½ ä¼šç›´æ¥ä¸€é”®ç”Ÿæˆé¡¹ç›®

![image-20230428112853574](https://glnf123456.obs.cidc-rp-13.joint.cmecloud.cn/fileUpload/202304281128621.png)

å¦‚æœä½ ä¸å–œæ¬¢ï¼Œæˆ–è€…ä½ éœ€è¦æ›´å¤šçš„ä¸œè¥¿ï¼Œå¯ä»¥ç‚¹å‡» "ç‚¹å‡»è¿›å…¥è‡ªå®šä¹‰æµç¨‹"

#### è‡ªå®šä¹‰é€‰é…

vite-createrä¼šé—®è¯¢ä¸€ç³»åˆ—å¸¸ç”¨å¥—ä»¶ï¼ŒåŒ…æ‹¬ï¼šcssé¢„å¤„ç†å™¨ã€ä½¿ç”¨jsè¿˜æ˜¯tsã€æ˜¯å¦ä½¿ç”¨vue-routerã€ä½¿ç”¨vuexè¿˜æ˜¯pinia

ï¼ˆvite-createrç›®å‰ç‰ˆæœ¬åªæ”¯æŒ é—®è¯¢vueå¸¸ç”¨åŒ…ï¼Œå¦‚éœ€å…¶ä»–æ¡†æ¶ï¼Œå¯ä»¥å…¨é€‰æ‹©noï¼Œç„¶ååœ¨è‡ªå®šä¹‰ç¬¬ä¸‰æ–¹åŒ…ä¸­æ·»åŠ ä½ çš„æ¡†æ¶éœ€è¦çš„åŒ…å³å¯ï¼‰

æœ€åï¼Œvite-createrä¼šé—®ä½ ï¼Œæ˜¯å¦éœ€è¦å…¶ä»–çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ [è¶…å¥½ç”¨çš„å¤§å±è‡ªé€‚åº”å·¥å…· vue-autofit](https://juejin.cn/post/7224015103481118757) ,æˆ‘ä»¬å°±è¾“å…¥vue-autofit

![image-20230428113321682](https://glnf123456.obs.cidc-rp-13.joint.cmecloud.cn/fileUpload/202304281133718.png)

æœ€åï¼Œå¯ä»¥é€‰æ‹©å°†æ­¤é€‰é…æ–¹æ¡ˆä¿å­˜ï¼Œä½ å¯ä»¥é€‰æ‹©ç»™å®ƒå–ä¸€ä¸ªåå­—ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸å–ï¼Œå› ä¸ºvite-createrä¼šåœ¨é¢„è®¾æ–¹æ¡ˆåˆ—è¡¨ä¸­å±•ç¤ºæ‰€æœ‰ä¾èµ–åç§°å’Œä½¿ç”¨çš„è¯­è¨€ã€‚

å¦‚æœvite-createrè¦æ±‚ä½ é€‰æ‹©æ¡†æ¶ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©ä½ çš„æ¡†æ¶ï¼š![image-20230428113518967](https://glnf123456.obs.cidc-rp-13.joint.cmecloud.cn/fileUpload/202304281135011.png)

å½“é€‰æ‹©å®Œæ¡†æ¶åï¼Œå³å¯å¿«é€Ÿå®Œæˆé¡¹ç›®åˆ›å»ºäº†ï¼å¹¶ä¸”å·²ç»ä¸‹è½½äº†ä½ çš„è‡ªå®šä¹‰åŒ…ã€‚

![image-20230428113553834](https://glnf123456.obs.cidc-rp-13.joint.cmecloud.cn/fileUpload/202304281135882.png)

![image-20230428115522189](https://glnf123456.obs.cidc-rp-13.joint.cmecloud.cn/fileUpload/202304281155264.png)

#### ä½¿ç”¨ä¿å­˜çš„é€‰é…æ–¹æ¡ˆ

![image-20230428115850797](https://glnf123456.obs.cidc-rp-13.joint.cmecloud.cn/fileUpload/202304281158833.png)

å½“ä½ åˆ›å»ºè¿‡ä¸€ä¸ªæ–¹æ¡ˆå¹¶é€‰æ‹©äº†ä¿å­˜åï¼Œå·¥å…·ä¼šåœ¨ä¸‹æ¬¡ä½¿ç”¨æ—¶å‘ä½ å±•ç¤ºä½ ä¿å­˜çš„é€‰é…æ–¹æ¡ˆï¼Œç›´æ¥é€‰æ‹©å³å¯ä¸€é”®ç”Ÿæˆé¡¹ç›®ï¼Œä¸ç”¨å†é‡å¤é€‰é…è¿‡ç¨‹ã€‚

### vite-createræ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ

vite-createræ˜¯nodeç¼–å†™çš„ã€‚

è°ƒç”¨Nodeç¼–å†™çš„cliç¨‹åºï¼Œå¿…é¡»åœ¨nodeç¯å¢ƒä¸‹æ‰å¯ä»¥è¿è¡Œï¼Œå› ä¸ºnodeçš„cliå®é™…ä¸Šæ˜¯ç”±nodeä»£ç†æ‰§è¡Œçš„ï¼Œå³V8å¼•æ“å»è§£æå’Œæ‰§è¡Œçš„ï¼Œå½“æˆ‘ä»¬å…¨å±€å®‰è£…äº†ä¸€ä¸ªnode cliç¨‹åºæ—¶ï¼Œnodeä¼šè‡ªåŠ¨æŠŠå…¶å‘½ä»¤åŠ è½½åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œå½“æˆ‘ä»¬çš„JSä»£ç è¢«æ‰§è¡Œæ—¶ï¼Œæ˜¯nodeåœ¨ä¸æ“ä½œç³»ç»Ÿäº¤äº’ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸éœ€è¦äº†è§£å®ƒå…·ä½“çš„è¿è¡ŒåŸç†ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“JSæ€ä¹ˆå†™å°±å¯ä»¥äº†ã€‚

#### å¼€å‘æ‰€éœ€çš„åº“

"commander": "^10.0.1" `å¯ä»¥æ‰§è¡Œdoså‘½ä»¤`

"inquirer": "^9.2.0" `äº¤äº’å¼è¾“å‡ºå·¥å…·ï¼Œæä¾›é—®è¯¢å¼å‘½ä»¤è¡Œäº¤äº’ä¼šç”¨åˆ°`

"configstore": "^6.0.0" `æœ¬åœ°å­˜å‚¨ï¼Œç›¸å½“äºæ˜¯cookieæˆ–è€…localStorageï¼Œç”¨æ¥å‚¨å­˜ç”¨æˆ·ä¿å­˜çš„é€‰é…`

#### å¼€å‘æ­¥éª¤

##### ä½¿ç”¨npm åˆå§‹åŒ–é¡¹ç›®

    npm init
    

éœ€è¦è¾“å…¥é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼Œæ­¤æ­¥éª¤ä¼šåˆå§‹åŒ–ä¸€ä¸ªæ ‡å‡†çš„NpmåŒ…ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªpackage.json ï¼Œ

> æ³¨æ„å¦‚æœå¸Œæœ›å‘å¸ƒåˆ°npmï¼Œåº”è¯¥å…ˆåœ¨npmå®˜ç½‘æŸ¥çœ‹æ˜¯å¦æœ‰ç›¸åŒæˆ–ç›¸ä¼¼çš„åŒ…åï¼Œæœ‰çš„è¯æ˜¯å‘å¸ƒä¸äº†çš„ï¼Œéœ€è¦å–ä¸€ä¸ªæ ‡æ–°ç«‹å¼‚çš„åŒ…åï¼Œæˆ–è€…å°±éœ€è¦å¸¦ä¸Š@userName/çš„å‰ç¼€

##### ä½¿ç”¨commanderåº“åˆå§‹åŒ–å‘½ä»¤

    import { program } from 'commander';
    program
      .version('1.0.0')
      .description(`vite-createræ˜¯ä¸€æ¬¾ç”¨äºå¿«é€Ÿåˆ›å»ºviteé¡¹ç›®çš„è„šæ‰‹æ¶å·¥å…·`);
    
    program
      .command('init <projectName>')
      .description('ä½¿ç”¨vite-createråˆ›å»ºé¡¹ç›®')
      .option('-p, --projectName <string>', 'project name')
      .action(async (initProjectName) => {
        await askForOptions(initProjectName) //è¿™é‡Œè°ƒç”¨æˆ‘ä»¬çš„è‡ªå®šä¹‰é—®è¯¢å‡½æ•°
      });
    program.parse(process.argv);
    
    

åœ¨nodeå¼€å‘çš„cliä¸­ï¼Œå¯ä»¥ä½¿ç”¨async/awaitæ¥é˜»å¡ç¨‹åºï¼Œä»¥ç­‰å¾…æ­¥éª¤å®Œæˆæˆ–è€…ç”¨æˆ·è¾“å…¥ã€‚

##### ä½¿ç”¨inquireråˆ›å»ºäº¤äº’å¼é—®è¯¢è¾“å‡º

    import inquirer from 'inquirer';
    
    let preSetRules = [
        {
          name: 'selectRule',
          type: 'list',
          message: 'é€‰æ‹©ä¸€ä¸ªé¢„è®¾è§„åˆ™ï¼Œæˆ–è€…è¿›å…¥è‡ªå®šä¹‰æµç¨‹',
          choices: preSetRulesList, //è¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä»…å¯åŒ…å«å­—ç¬¦ä¸²ï¼Œå¦‚["item1","item2"]
        }
      ]
     let isPreSetRules = await inquirer.prompt(preSetRules)
    

å½“å¦‚ä¸Šä»£ç è¢«æ‰§è¡Œæ—¶ï¼Œå°†ä¼šè¾“å‡ºä¸€ä¸ªå¯ä»¥é€šè¿‡ä¸Šä¸‹ç®­å¤´é”®é€‰æ‹©çš„åˆ—è¡¨ï¼ˆlistï¼‰

##### ä½¿ç”¨configstore å‚¨å­˜ç”¨æˆ·çš„é€‰é…æ–¹æ¡ˆ

    import Configstore from 'configstore';
    const conf = new Configstore('vite-creater');
    conf.set("customRulesList", customRulesList); //æ–°å»ºæˆ–ä¿®æ”¹ å‚æ•°ï¼šé”®åï¼Œæ•°æ®
    let customRulesList = conf.get('customRulesList');
    

å…¶ä¸­customRulesList å¯ä»¥æ˜¯æ•°ç»„æˆ–è€…å¯¹è±¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ç­‰ï¼Œä½ å¯ä»¥æŠŠconfigstore å®Œå…¨å½“ä½œcookieæ¥ä½¿ç”¨ã€‚

##### ä½¿ç”¨child\_processåˆ›å»ºå­è¿›ç¨‹

è¿™æ˜¯ä¸€ä¸ªnodeå†…ç½®çš„åº“ï¼Œå…è®¸å¼€å‘è€…åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œå¹¶ä¸å­è¿›ç¨‹é€šè®¯

    import { exec } from 'child_process';
    function execCreateTs(command) {
      console.log('execï¼š', command);
      return new Promise((resolve, reject) => {
        const child = exec(command, (err, stdout, stderr) => {
          if (err) {
            console.log('err::: ', err);
            reject(err)
          }
        })
        child.stdout.on('data', async data => { //ç›‘å¬å­è¿›ç¨‹çš„è¾“å‡º
          if (data.includes('Package name')) {
            process.stdout.write('\x1b[32m' + data + '\x1b[0m');
            child.stdin.write('\n');
          }
          if (data.includes('Vue')) {
            process.stdout.write('\x1b[2J\x1b[0f');
            process.stdout.write('\x1b[32m' + data + '\x1b[0m');
            clearAnimation()
            selectFramework(child)
          }
          if (data.includes('TypeScript')) {
            process.stdout.write('\x1b[32m' + data + '\x1b[0m');
            process.stdout.write('\x1b[2J\x1b[0f');
            child.stdin.write('\n');
            resolve(child.stdout)
          }
          if (data.includes('is not empty')) {
            // é€€å‡ºè¿›ç¨‹
            console.log('\n\x1b[31mÃ—\x1b[0m ç›®å½•å·²å­˜åœ¨');
            process.exit();
          }
        })
      })
    }
    

ä¸Šè¿°ä»£ç ç”±vite-createråˆ›å»ºtsé¡¹ç›®ä¸ºä¾‹ï¼Œå‚æ•°commandå³å¯ä»¥æ˜¯ä»»ä½•doså‘½ä»¤ã€‚ä¸‹é¢çš„ifæ¥æŸ¥è¯¢å­è¿›ç¨‹çš„è¾“å‡ºä¸­åŒ…å«çš„å­—ç¬¦ï¼Œä»¥æ­¤æ¥ç¡®å®šå­è¿›ç¨‹è¿›è¡Œåˆ°å“ªä¸€æ­¥äº†ï¼ˆæˆ‘ä¸çŸ¥é“è¿™ä¹ˆåšæ˜¯ä¸æ˜¯ç¬¦åˆè§„èŒƒçš„ï¼Œä¸è¿‡å¼€å‘çš„æ—¶å€™æˆ‘æƒ³åˆ°äº†è¿™ä¸ªåŠæ³•ã€‚ï¼‰

ç»†å¿ƒçš„åŒå­¦æ³¨æ„åˆ°äº†selectFramework()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨å­è¿›ç¨‹ä¸­å‡ºç°äº†Vueå­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬åˆ¤å®šviteè¿›å…¥äº†æ¡†æ¶é€‰æ‹©æ­¥éª¤ï¼Œäºæ˜¯æˆ‘ä»¬å°†å­è¿›ç¨‹çš„è¾“å‡ºå±•ç¤ºåˆ°ä¸»è¿›ç¨‹ä¸­ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„æ¡†æ¶é€‰æ‹©é¡µé¢

selectFrameworkæ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š

    async function waitUserPresskey() {
      // è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡
      return await new Promise((resolve, reject) => {
        process.stdin.setRawMode(true);
        process.stdin.resume();
        process.stdin.on('data', (key) => {
          key = key.toString('ascii'); //éœ€è¦è½¬ä¸ºasciiç 
          resolve(key)
        });
      });
    }
    async function selectFramework(child) {
      let input = await waitUserPresskey();
      // å¦‚æœæŒ‰ä¸‹ctrl+cï¼Œé€€å‡ºè¿›ç¨‹
      if (input === '\u0003') {
        process.exit();
      }
      child.stdin.write(input); // å‘å­è¿›ç¨‹è½¬å‘å‘½ä»¤
    }
    

å½“è°ƒç”¨å®ƒæ—¶ï¼Œç¨‹åºä¼šç­‰å¾…ä¸€ä¸ªç”¨æˆ·è¾“å…¥ï¼Œç„¶åç›´æ¥è½¬å‘åˆ°å­è¿›ç¨‹ä¸­ï¼Œå½“å­è¿›ç¨‹å†æ¬¡è¾“å‡ºå…¶ä»–ä¿¡æ¯æ—¶ï¼Œåˆä¼šå›åˆ°æˆ‘ä»¬ä¸Šé¢çš„ç›‘å¬ï¼Œäºæ˜¯ï¼Œåªè¦ç”¨æˆ·è¿˜æ²¡æœ‰é€‰å®šæ¡†æ¶ï¼Œviteä¼šä¸€ç›´å¤„åœ¨æ¡†æ¶é€‰æ‹©é¡µé¢ï¼Œä¹Ÿå°±æ˜¯è¿˜åŒ…å«Vueå­—ç¬¦ï¼Œæ‰€ä»¥ä¼šå†æ¬¡è¿›å…¥selectFrameworkå‡½æ•°ï¼Œè¿™æ ·å°±å®Œæˆäº†ä¸€ä¸ªé€’å½’é—®è¯¢ï¼Œç›´åˆ°ç”¨æˆ·é€‰æ‹©äº†æ¡†æ¶ã€‚

##### å…¨è‡ªåŠ¨åŒ–æµç¨‹å®ç°

å½“å®Œæˆä¸Šè¿°æ­¥éª¤ä¹‹åï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥çœ‹åˆ°vite+vueçš„é¡¹ç›®å·²ç»åˆ›å»ºå®Œæˆäº†ï¼Œè¿™æ—¶å°±å·²ç»å®Œæˆäº†viteå®˜æ–¹å·¥å…·æ‰€åšçš„ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦è¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰§è¡Œnpm i ï¼Œç„¶åå®‰è£…æˆ‘ä»¬éœ€è¦çš„åŒ… npm i ....

æ ¹æ®ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬ç†æ‰€å½“ç„¶çš„å¯ä»¥å°†è¿™ä¸€æ­¥æ”¶çº³è¿›è‡ªåŠ¨åŒ–çš„èŒƒç•´ï¼Œåªéœ€æ‰§è¡Œä¸¤æ¡ç®€å•çš„doså‘½ä»¤å³å¯ã€‚

        await execNpmInstall('npm i')
        await execNpmInstall(installCommand)
    function execNpmInstall(command) {
      console.log('execï¼š', command);
      return new Promise((resolve, reject) => {
        const child = exec(command, (err, stdout, stderr) => {
          if (err) {
            reject(err)
          }
        })
        child.stdout.on('data', async data => {
          // å½“npm i å®Œæˆæ—¶
          if (data.includes('packages in')) {
            console.log('\n', data);
            resolve(child.stdout)
          }
        })
      })
    }
    

å¦‚æœæˆ‘ä»¬éœ€è¦å®‰è£… ä¹‹å‰ç”¨æˆ·å‚¨å­˜çš„ç¬¬ä¸‰æ–¹åº“ï¼Œåªéœ€è¦ä½¿ç”¨ä½¿ç”¨conf.get('xxx');å»è·å–æ•°æ®ï¼Œç„¶åä¼ å…¥è¯¥å‡½æ•°å³å¯ã€‚

##### å®Œæˆ

ä¸Šé¢ç®€è¿°äº†vite-createrçš„å¼€å‘è¿‡ç¨‹ï¼Œè‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ•´ç†æ‰€æœ‰çš„åŠŸèƒ½ï¼Œæ‰“åŒ…å‘å¸ƒäº†ï¼Œåœ¨æœ¬åœ°ç™»å½•è‡ªå·±çš„npmè´¦å·åï¼Œä½¿ç”¨npm publishå‘½ä»¤å³å¯å‘å¸ƒã€‚

æŸ¥çœ‹ [vite-creater çš„ npmä¸»é¡µ](https://www.npmjs.com/package/vite-creater)

æœ¬é¡¹ç›®å·²åœ¨ githubå¼€æº [githubæºç  ğŸ‘‰ ç‚¹å‡»èµ°ä½ ](https://github.com/995231030/vite-creater)

### ç»“è¯­

æ‡¦å¼±ä¹‹ä¸¾ï¼Œæˆ‘å†³ä¸å§‘æ¯ï¼