---
layout: post
title: "Understanding UML in seconds"
date: "2023-09-14T00:56:32.641Z"
---
Understanding UML in seconds
----------------------------

UML 是一种分析设计语言，也就是一种建模语言。

UML结构解析
=======

UML其结构主要包括以下几个部分：

*   视图（View）  
    多个图形组成的集合；
*   图（Diagram）  
    图的种类有13种图，但常用的也就两种（1.需求用例图，2.开发类图）；
*   模型元素（Model Element）  
    如类、对象、消息以及这些概念之间的关系，如关联关系、依赖关系、泛化关系等；
*   通用机制（General Mechanism）  
    UML提供的通用机制为模型元素提供额外的注释、信息和语义（没啥用）；

开发类图
====

类图（Class Diagram）主要用来描述不同的类以及它们之间的关系。

类图的三段式结构为：

类名

类的属性

类的操作

类图示例：  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913100729665-1185320580.png)

对应的Java示例代码：  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913101738610-306356558.png)

观察后发现，示例类图和示例代码的差别不大，无非是类型写在变量后面而已。

UML规定**类属性**的表示方式为：  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913102013368-337055996.png)

UML规定**类操作**的表示方式为：  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913102205065-1004332478.png)  
注意：如果是构造方法，则无返回类型。

其中：`可见性`表示该属性对于类外的元素而言是否可见，包括:

*   公有（public）, 在类图中分别用符号 `+`表示;
*   私有（private）, 在类图中分别用符号 `-`表示;
*   受保护（protected），在类图中分别用符号 `＃` 表示;  
    表示这个元素或这个方法对这个类及其子类的其他元素访问。
*   包可见性，对同一个包中的其他元素可见，在类图中分别用符号 `*` 表示；  
    表示这个元素可以被其所属类的子类以及与其所属类处于同一包中的其他类所访问。

类图间的关系
======

> 一共九种关联关系，他们的符号可以记不住，这个没关系，用到再回来查。但是，他们各个图间的关系概念得分辨明晰，不要有含混不明的地方。

其实整篇文章都被归纳到了这张图中：  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913160818811-1652812146.jpg)

类图之间最重要的关系主要有以下4种：

1.  关联关系（有6种）
    *   1.1 双向关联
        *   默认情况下，关联是双向的；
        *   在UML种用**一个根实线**连接两个类表示。
    *   1.2 单向关联
        *   类的关联关系也可以是单向的，在UML中单向关联**用带箭头的实线**表示。
    *   1.3 自关联
        *   也是单向关联，只不是关联的是自己；
        *   在系统中可能会存在一些类的属性对象类型为该类本身，这种特殊的关联关系称为自关联。
    *   1.4 多重关联
        *   表示两个关联对象在数量上的对应关系（数量关系、数量范围的描述）；
        *   在UML中，对象之间的多重性可以直接在关联**直线上用一个数字**或一个数字范围表示。
    *   1.5 聚合关系（Aggregation）
        *   聚合关系表示整体与部分的关系；
        *   组合关系与聚合关系的区别在于**生命周期的管理**。在聚合关系中，整体对象和部分对象之间的关联是比较宽松的，**部分对象可以独立存在**而不受整体对象的控制。
        *   在UML中，聚合关系用**带空心菱形的直线**表示。
    *   1.6 组合关系（Composition）
        *   组合关系**也**表示类之间整体和部分的关系；
        *   组合关系与聚合关系的区别在于**生命周期的管理**。在组合关系中，整体对象**拥有和管理部分对象的全生命周期**；
        *   在UML中，组合关系用**带实心菱形的直线**表示；
2.  依赖关系
    *   依赖（Dependency）关系是一种**使用关系**；
    *   大多数情况下，依赖关系体现在某个类的方法使用另一个类的对象作为参数。
    *   在UML中，依赖关系用**带箭头的虚线表示**，由依赖的一方指向**被依赖**的一方。
3.  泛化关系
    *   泛化（Generalization）关系也就是**继承关系**，用于描述**父类与子类之间的关系**；
    *   在UML中，泛化关系用带**空心三角形的直线**来表示。
4.  接口与实现关系
    *   在接口中，通常没有属性，而且所有的操作都是抽象的，只有操作的声明，没有操作的实现；
    *   接口之间也可以有与类之间关系类似的继承关系和依赖关系，但是接口和类之间还存在一种实现（Realization）关系。在这种关系中，类实现了接口，类中的操作实现了接口中所声明的操作。
    *   在UML中，**类与接口之间的实现关系**用带**空心三角形的虚线**来表示。

双向关联
----

*   双向关联**类似** 我拥有你，你也拥有我；
*   在UML种用**一个根实线**连接两个类表示。

例如，顾客（Customer）购买商品（Product）并拥有商品，反之，卖出的商品总有某个顾客与之相关联。因此，Customer类和Product类之间具有双向关联关系，如下图。  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913135220182-688707487.png)

    public class Customer {
        private Product[] products;
    }
    
    public class Product {
        private Customer customer;
    }
    

单向关联
----

*   类的关联关系也可以是单向的，就**类似** 我拥有你，但你不能拥有我；
*   在UML中单向关联用带箭头的实线表示。

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913135648872-1996880978.png)

    public class Customer {
        private Address address;
    }
    
    public class Address {}
    

自关联
---

*   这个也是单向关联，只是指向的不是别人，是自己。
*   在系统中可能会存在一些类的属性对象类型为该类本身，这种特殊的关联关系称为自关联。
*   例如，一个节点类（Node）的成员又是节点Node类型的对象，

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913135953005-1452013000.png)

    public class Node {
        private Node node;
    }
    

多重性关联
-----

> 这个应该是最复杂的，需要好好看看；

*   又称为重数性（Multiplicity）关联关系，表示**两个关联对象**在**数量上的对应关系**。
*   多重性应用于关联的目标端，说明源类的每个实例与目标类实例的连接个数。除非显式说明，否则关系的多重性就是未指定的。
*   在UML类图中，关系连线的两端有时会有1..1、\*..1等符号，通过下图来做一个说明。

用一个数字或一个数字范围表示, 这里的数字范围一遍指符号，下面有说明表格。  
符号说明：  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913144124137-663871508.png)

例如：一个界面(Form)可以拥有零个或多个按钮(Button)，但是一个按钮只能属于一个界面，因此，一个Form类的对象可以与零个或多个Button类的对象相关联，但一个Button类的对象只能与一个Form类的对象关联，如下图:  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913154133029-969998481.png)

对应的Java代码：

    public class Form {
      private Button[] buttons; //定义一个集合对象
    }
     
    public class Button {}
    

**注意：** 类之间的多重性有时会直接在关系连线上**用一个数字**表示，这应该是一种简化的表达式；

符号

说明

1

一个

\*

零个或多个

聚合关系
----

*   是一种描述 整体与成员间的关系；
*   在聚合关系中，成员对象是整体对象的一部分，但是成员对象可以脱离整体对象独立存在；
*   简而言之，**整体死去了，成员还活着**；
*   在UML中，聚合关系用**带空心菱形**的直线表示。

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913143804026-2000718581.png)

在代码实现聚合关系时，`成员对象`通常作为`构造方法`、`Setter\Getter方法`或`业务方法的参数`注入到整体对象中，对应的Java代码片段如下：

    public class Car {
    	private Engine engine;
     
        //构造注入
    	public Car(Engine engine) {
    		this.engine = engine;
    	}
        
        //设值注入
        public void setEngine(Engine engine) {
          this.engine = engine;
        }
    }
     
    public class Engine {
    	// ...
    }
    

组合关系
----

*   是一种描述 整体与成员间的关系；
*   在组合关系中整体对象可以控制成员对象的生命周期，一旦整体对象不存在，成员对象也将不存在，成员对象与整体对象之间具有同生共死的关系
*   简而言之，**整体死去了，成员也死了**；
*   在UML中，组合关系用带**实心菱形**的直线表示；

例如：人的头(Head)与嘴巴(Mouth)，嘴巴是头的组成部分之一，而且如果头没了，嘴巴也就没了，因此头和嘴巴是组合关系。

在代码实现组合关系时，通常在整体类的构造方法中直接实例化成员类，下面是对应的Java实现：  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913143853023-522860082.png)

    public class Head {
    	private Mouth mouth;
     
    	public Head() {
    		this.mouth = new Mouth(); //实例化成员类
    	}
    
    }
     
    public class Mouth {
    	// ...
    }
    

依赖关系案例
------

在UML中，依赖关系用**带箭头的虚线表示**，由依赖的一方指向**被依赖**的一方。

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913110119349-48881909.png)

对应的Java代码:

    public class Driver {
      public void drive(Car car){
        car.move();
      }
    }
    
    public class Car {
      public void move(){
        // ...  
      }
    }
    

泛化关系案例
------

在UML中，泛化关系用带**空心三角形的直线**来表示。  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913105440731-1191437173.png)

对应的Java代码:

    //父类
    public class Person (
      protected String name;
      protected int age;
    
      public void move( ) {
        // ...
      }
      public void say( ) {
        // ...
      }
    }
    
    //子类
    public class Student extends Person {
      private String teacherNo;
    
      public void study( ) {
        // ...
      }
    }
    
    //子类
    public class Teacher extends Person {
      private String teacherNo;
    
      public void teach() {
        // ...
      }
    }
    

接口与实现关系案例
---------

在UML中，**类与接口之间的实现关系**用带**空心三角形的虚线**来表示。  
![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913104837057-513560432.png)  
对应的Java代码

    public interface Vehicle {
      public void move() 
    }
    
    public class Ship implements Vehicle {
      public void move(){
        // ...
      }
    }
    
    public class Car implements Vehicle {
      public void move() {
        // ...
      }
    }
    

Practies
========

> Can you recognize them?

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913151847808-956981200.png)

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913151921761-1659597405.png)

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913152019793-2002073668.png)

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913152528149-543909246.png)

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913152350830-1116847641.png)

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913152403192-1568920732.png)

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913152832059-942331326.png)

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913152854437-1407584671.png)

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913153159526-812167044.png)

![](https://img2023.cnblogs.com/blog/1552062/202309/1552062-20230913162109765-1467883520.png)

posted on 2023-09-13 14:42  [Mysticbinary](https://www.cnblogs.com/mysticbinary/)  阅读(84)  评论(1)  [编辑](https://i.cnblogs.com/EditPosts.aspx?postid=17695993)  [收藏](javascript:void(0))  [举报](javascript:void(0))