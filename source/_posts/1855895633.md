---
layout: post
title: "西门子HMI切换页面时的指示功能"
date: "2023-07-27T01:04:16.307Z"
---
西门子HMI切换页面时的指示功能
================

怎么样才能做到像这样按下切换界面的按钮，切换过去之后对应的切换按钮还进行高亮指示呢？

![](https://img2023.cnblogs.com/blog/2773715/202307/2773715-20230726193217055-1594882650.gif)

首先我们要先新建模板，把我们的画面拖拽到模板里就会形成按钮

![](https://img2023.cnblogs.com/blog/2773715/202307/2773715-20230726193453670-987251323.png)

在画面的“**属性**”中

![](https://img2023.cnblogs.com/blog/2773715/202307/2773715-20230726193529152-772441248.png)

在属性中选上我们刚刚新建的模板，并记住这个画面的编号（每个界面都要），当看到界面里面有模板中元素的虚影就是可以了

![](https://img2023.cnblogs.com/blog/2773715/202307/2773715-20230726194849438-1305712459.png)![](https://img2023.cnblogs.com/blog/2773715/202307/2773715-20230726195236302-1213088311.png)

在HMI的变量表新建一个变量用于是否高亮的判断，不需要选择任何连接，连接选择HMI的**内部变量**即可

![](https://img2023.cnblogs.com/blog/2773715/202307/2773715-20230726200207399-674268021.png)

　　在界面的属性里的事件栏目中，在 “**已加载**” 中用 “设置变量” 这个属性去修改 刚刚新建的 “**画面指示**” 变量，因为画面的编号具有唯一性所以设置值就用当前画面的编号即可，而用 “**已加载**” 这个属性则是保证这个画面成功加载出来后相应的按钮才进行高亮。

例如，**主界面**的编号是3，那么在**主界面**加载出来后就将画面指示设置为3

![](https://img2023.cnblogs.com/blog/2773715/202307/2773715-20230726200357938-606205872.png)![](https://img2023.cnblogs.com/blog/2773715/202307/2773715-20230726194849438-1305712459.png)

打开模板，依然是以  “**主界面**”  作为例子，在切换主界面的按钮中，选择动画 -- 选择显示 -- 添加新动画（外观），变量选择画面指示，范围选择 3（画面编号）背景色是高亮时要变化的颜色，每个界面重复这些步骤（变量只需要建一个）就可以实现触摸屏的指示功能

![](https://img2023.cnblogs.com/blog/2773715/202307/2773715-20230726202335110-1684153119.png)