---
layout: post
title: "Cilium ç³»åˆ—-2-Cilium å¿«é€Ÿå®‰è£…"
date: "2023-07-23T01:16:47.691Z"
---
Cilium ç³»åˆ—-2-Cilium å¿«é€Ÿå®‰è£…
=======================

ç³»åˆ—æ–‡ç« 
----

*   [Cilium ç³»åˆ—æ–‡ç« ](https://ewhisper.cn/tags/Cilium/)

å‰è¨€
--

åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†ç›´æ¥å°† Cilium å®‰è£…åˆ° Kubernetes é›†ç¾¤ä¸­ã€‚

åœ¨å®éªŒä¸­ï¼Œæˆ‘ä»¬ç”¨åˆ°çš„ç»„ä»¶åŠç‰ˆæœ¬ä¸ºï¼š

*   Cilium 1.13.4
*   K3s v1.26.6+k3s1
*   OS
    *   Debian 10, Kernel 4.19.232, arm64
    *   Ubuntu 23.04, Kernel 6.2, x86

> ğŸ“**Notes**:
> 
> å¦‚å‰æ–‡æ‰€è¿°ï¼ŒCilium å¯¹ Linux Kernel ç‰ˆæœ¬è¦æ±‚å¾ˆé«˜ã€‚1.13.4 æ¨è Kernel â‰¥ 5.10ï¼ˆä½¿ç”¨æœ€æ–° LTS ç¨³å®šç‰ˆ Kernel), æœ€ä½ Linux Kernel å¾—æ˜¯ 4.19.57.  
> æ‰€ä»¥æˆ‘ä»¬é€‰æ‹© 2 ä¸ª OS, ä¸€ä¸ªåªæ»¡è¶³æœ€ä½ Kernel è¦æ±‚ï¼Œä¸€ä¸ªæ˜¯å°½å¯èƒ½æ–°çš„ Kernel, çœ‹çœ‹å®‰è£…å’ŒåŠŸèƒ½æœ‰å“ªäº›å·®åˆ«ã€‚

Cilium å®‰è£…æ–¹å¼
-----------

Cilium æ”¯æŒ 2 ç§å®‰è£…æ–¹å¼ï¼š

1.  Cilium CLI
2.  Helm chart

CLI å·¥å…·èƒ½è®©ä½ è½»æ¾ä¸Šæ‰‹ Ciliumï¼Œå°¤å…¶æ˜¯åœ¨åˆšå¼€å§‹å­¦ä¹ æ—¶ã€‚å®ƒç›´æ¥ä½¿ç”¨ Kubernetes API æ¥æ£€æŸ¥ä¸ç°æœ‰ kubectl ä¸Šä¸‹æ–‡ç›¸å¯¹åº”çš„é›†ç¾¤ï¼Œå¹¶ä¸ºæ£€æµ‹åˆ°çš„ Kubernetes å®æ–½**é€‰æ‹©åˆé€‚çš„å®‰è£…é€‰é¡¹**ã€‚

Helm Chart æ–¹æ³•é€‚ç”¨äºéœ€è¦å¯¹ Cilium å®‰è£…è¿›è¡Œ**ç²¾ç»†æ§åˆ¶çš„é«˜çº§å®‰è£…å’Œç”Ÿäº§ç¯å¢ƒ**ã€‚å®ƒè¦æ±‚ä½ ä¸ºç‰¹å®šçš„ Kubernetes ç¯å¢ƒæ‰‹åŠ¨é€‰æ‹©æœ€ä½³æ•°æ®è·¯å¾„ (datapath) å’Œ IPAM æ¨¡å¼ã€‚

ç³»ç»Ÿéœ€æ±‚
----

è¦å®‰è£… Cilium, æœ€ä½ç³»ç»Ÿéœ€æ±‚å¦‚ä¸‹ï¼š

*   ä¸»æœºæ˜¯ AMD64 æˆ– AArch64ï¼ˆå³ arm64) æ¶æ„
*   éœ€è¦å¼€é€šæŸäº›é˜²ç«å¢™è§„åˆ™ï¼Œè¯¦è§ï¼š[https://docs.cilium.io/en/stable/operations/system\_requirements/#firewall-rules](https://docs.cilium.io/en/stable/operations/system_requirements/#firewall-rules)
*   Linux Kernel >= 4.19.57ï¼ˆå¯¹äº RHEL8, Linux Kernel >= 4.18)
*   Linux Kernel éœ€è¦å¯ç”¨ç›¸å…³é…ç½®ï¼Œå…·ä½“å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š[ç©è½¬ PI ç³»åˆ—-å¦‚ä½•åœ¨ Rockchip arm å¼€å‘æ¿ä¸Šå®‰è£… docker tailscale k3s cilium?](https://ewhisper.cn/posts/50964/)
*   å¦‚æœéœ€è¦ç”¨åˆ° Cilium çš„é«˜çº§åŠŸèƒ½ï¼Œåˆ™éœ€è¦æ›´é«˜ç‰ˆæœ¬çš„å†…æ ¸ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

Cilium åŠŸèƒ½

æœ€å° Kernel ç‰ˆæœ¬

[Bandwidth Manager](https://docs.cilium.io/en/stable/network/kubernetes/bandwidth-manager/#bandwidth-manager)

\>= 5.1

[Egress Gateway](https://docs.cilium.io/en/stable/network/egress-gateway/#egress-gateway)

\>= 5.2

VXLAN Tunnel Endpoint (VTEP) Integration

\>= 5.2

[WireGuard Transparent Encryption](https://docs.cilium.io/en/stable/security/network/encryption-wireguard/#encryption-wg)

\>= 5.6

Full support for [Session Affinity](https://docs.cilium.io/en/stable/network/kubernetes/kubeproxy-free/#session-affinity)

\>= 5.7

BPF-based proxy redirection

\>= 5.7

Socket-level LB bypass in pod netns

\>= 5.7

L3 devices

\>= 5.8

BPF-based host routing

\>= 5.10

IPv6 BIG TCP support

\>= 5.19

Cilium å®‰è£…
---------

é¦–æ¬¡å®‰è£…ï¼Œæˆ‘ä»¬ä½¿ç”¨ Cilium CLI æ–¹å¼å®‰è£…ã€‚OS ä¸ºï¼šDebian 10, Kernel 4.19 4.19.232, arm64

### å®‰è£… K3s

æˆ‘ä»¬é€šè¿‡ K3s å®‰è£… Kubernetes é›†ç¾¤ã€‚å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š

    # Server Node
    curl -sfL https://rancher-mirror.rancher.cn/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn INSTALL_K3S_EXEC='--write-kubeconfig-mode=644 --flannel-backend=none --disable-network-policy --prefer-bundled-bin' INSTALL_K3S_VERSION=v1.26.6+k3s1 sh -
    

> ğŸ“**Notes**:
> 
> å‡ ä¸ªä¸»æµ Linux å‘è¡Œç‰ˆå‘å¸ƒçš„ iptables ç‰ˆæœ¬åŒ…å«ä¸€ä¸ªé”™è¯¯ï¼Œè¯¥é”™è¯¯ä¼šå¯¼è‡´é‡å¤è§„åˆ™çš„ç´¯ç§¯ï¼Œä»è€Œå¯¹èŠ‚ç‚¹çš„æ€§èƒ½å’Œç¨³å®šæ€§äº§ç”Ÿè´Ÿé¢å½±å“ã€‚æœ‰å…³å¦‚ä½•ç¡®å®šä½ æ˜¯å¦å—æ­¤é—®é¢˜å½±å“ï¼Œè¯·å‚é˜… [issue #3117](https://github.com/k3s-io/k3s/issues/3117)ã€‚  
> K3s å…·æœ‰ä¸€ä¸ªå¯ä»¥æ­£å¸¸è¿è¡Œçš„ iptables (v1.8.8) ç‰ˆæœ¬ã€‚ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ `--prefer-bundled-bin` é€‰é¡¹æ¥å¯åŠ¨ K3sï¼Œæˆ–ä»æ“ä½œç³»ç»Ÿä¸­å¸è½½ iptables/nftables åŒ…ï¼Œä»è€Œè®© K3s ä½¿ç”¨æ†ç»‘çš„ iptables ç‰ˆæœ¬ã€‚  
> ç‰ˆæœ¬`--prefer-bundled-bin` æ ‡å¿—ä» 2022-12 ç‰ˆæœ¬å¼€å§‹å¯ç”¨ï¼ˆv1.26.0+k3s1ã€v1.25.5+k3s1ã€v1.24.9+k3s1ã€v1.23.15+k3s1ï¼‰ã€‚

éªŒè¯ï¼š

    $ systemctl status k3s
    â— k3s.service - Lightweight Kubernetes
       Loaded: loaded (/etc/systemd/system/k3s.service; enabled; vendor preset: enabled)
       Active: active (running)
    

    $ k3s kubectl get node
    NAME          STATUS   ROLES                  AGE    VERSION
    linaro-alip   NotReady    control-plane,master   3d1h   v1.26.6+k3s1
    

ğŸ¾æ³¨æ„ï¼Œç”±äºæ²¡æœ‰å®‰è£… flannel, ä¹Ÿè¿˜æ²¡å¼€å§‹å®‰è£… Cilium, æ‰€ä»¥ node çŠ¶æ€åº”ä¸ºï¼š`NotReady`.

### å®‰è£… Cilium CLI

    CILIUM_CLI_VERSION=$(curl -s https://raw.githubusercontent.com/cilium/cilium-cli/master/stable.txt)
    CLI_ARCH=amd64
    if [ "$(uname -m)" = "aarch64" ]; then CLI_ARCH=arm64; fi
    curl -L --fail --remote-name-all https://github.com/cilium/cilium-cli/releases/download/${CILIUM_CLI_VERSION}/cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum}
    sha256sum --check cilium-linux-${CLI_ARCH}.tar.gz.sha256sum
    sudo tar xzvfC cilium-linux-${CLI_ARCH}.tar.gz /usr/local/bin
    rm cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum}
    

éªŒè¯ï¼š

    $ cilium version
    cilium-cli: v0.15.2 compiled with go1.20.4 on linux/arm64
    cilium image (default): v1.13.4
    cilium image (stable): v1.13.4
    cilium image (running): 1.13.4
    

### Cilium Install

    export KUBECONFIG=/etc/rancher/k3s/k3s.yaml
    cilium install
    

é€šè¿‡è¯¥å‘½ä»¤ï¼Œcilium ä¼šè‡ªåŠ¨è¿›è¡Œä¸€äº›ç¯å¢ƒä¿¡æ¯çš„è¯†åˆ«ï¼Œä»¥åŠå‚æ•°çš„é€‰æ‹©å’Œåˆ¤æ–­ï¼š

    ğŸ”® Auto-detected Kubernetes kind: k3s
    âœ¨ Running "k3s" validation checks
    âœ… Detected k3s version "v1.26.6+k3s1"
    â„¹ï¸ Using Cilium version 1.13.4
    ğŸ”® Auto-detected cluster name: default
    ğŸ”® Auto-detected datapath mode: tunnel
    ğŸ”® Auto-detected kube-proxy has been installed
    â„¹ï¸ helm template --namespace kube-system cilium cilium/cilium --version 1.13.4 --set
    cluster.id=0,cluster.name=default,encryption.nodeEncryption=false,ipam.mode=kubernetes,kubeProxyReplacement=disabled,operator.replicas=1,serviceAccounts.cilium.name=cilium,serviceAccounts.operator.name=cilium-operator,tunnel=vxlan
    â„¹ï¸ Storing helm values file in kube-system/cilium-cli-helm-values Secret
    ğŸ”‘ Created CA in secret cilium-ca
    ğŸ”‘ Generating certificates for Hubble...
    ğŸš€ Creating Service accounts...
    ğŸš€ Creating Cluster roles...
    ğŸš€ Creating ConfigMap for Cilium version 1.13.4...
    ğŸš€ Creating Agent DaemonSet...
    ğŸš€ Creating Operator Deployment...
    âŒ› Waiting for Cilium to be installed and ready...
    

éªŒè¯ï¼š

    $ cilium status --wait
        /Â¯Â¯\
     /Â¯Â¯\__/Â¯Â¯\    Cilium:             OK
     \__/Â¯Â¯\__/    Operator:           OK
     /Â¯Â¯\__/Â¯Â¯\    Envoy DaemonSet:    disabled (using embedded mode)
     \__/Â¯Â¯\__/    Hubble Relay:       disabled
        \__/       ClusterMesh:        disabled
    
    DaemonSet              cilium             Desired: 1, Ready: 1/1, Available: 1/1
    Deployment             cilium-operator    Desired: 1, Ready: 1/1, Available: 1/1
    Containers:            cilium             Running: 1
                           cilium-operator    Running: 1
    Cluster Pods:          7/7 managed by Cilium
    Helm chart version:    1.13.4
    Image versions         cilium             quay.io/cilium/cilium:v1.13.4@sha256:bde8800d61aaad8b8451b10e247ac7bdeb7af187bb698f83d40ad75a38c1ee6b: 1
                           cilium-operator    quay.io/cilium/operator-generic:v1.13.4@sha256:09ab77d324ef4d31f7d341f97ec5a2a4860910076046d57a2d61494d426c6301: 1
    

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ç¾¤é›†æ˜¯å¦å…·æœ‰æ­£ç¡®çš„ç½‘ç»œè¿æ¥ï¼š

    $ cilium connectivity test --request-timeout 30s --connect-timeout 10s
    â„¹ï¸  Monitor aggregation detected, will skip some flow validation steps
    âœ¨ [k8s-cluster] Creating namespace for connectivity check...
    (...)
    ---------------------------------------------------------------------------------------------------------------------
    ğŸ“‹ Test Report
    ---------------------------------------------------------------------------------------------------------------------
    âœ… 69/69 tests successful (0 warnings)
    

> ğŸ¾**Warning**:
> 
> åœ¨ä¸­å›½å®‰è£…æ—¶ï¼Œç”±äºç½‘ç»œç¯å¢ƒæ‰€é™ï¼Œå¯èƒ½éƒ¨åˆ†æµ‹è¯•ä¼šå¤±è´¥ï¼ˆå¦‚è®¿é—® 1.1.1.1:443).  
> å±äºæ­£å¸¸æƒ…å†µã€‚  
> è¿æ¥æ€§æµ‹è¯•éœ€è¦è‡³å°‘**ä¸¤ä¸ª worker node** æ‰èƒ½åœ¨ç¾¤é›†ä¸­æˆåŠŸéƒ¨ç½²ã€‚è¿æ¥æ€§æµ‹è¯• pod ä¸ä¼šåœ¨ä»¥æ§åˆ¶é¢è§’è‰²è¿è¡Œçš„èŠ‚ç‚¹ä¸Šè°ƒåº¦ã€‚å¦‚æœæ‚¨æ²¡æœ‰ä¸ºç¾¤é›†é…ç½®ä¸¤ä¸ª worker nodeï¼Œè¿æ¥æ€§æµ‹è¯•å‘½ä»¤å¯èƒ½ä¼šåœ¨ç­‰å¾…æµ‹è¯•ç¯å¢ƒéƒ¨ç½²å®Œæˆæ—¶åœæ»ã€‚

æŸ¥çœ‹ Cilium Install å…·ä½“å¯ç”¨äº†å“ªäº›åŠŸèƒ½ï¼š

    $ kubectl -n kube-system exec ds/cilium -- cilium status
    Defaulted container "cilium-agent" out of: cilium-agent, config (init), mount-cgroup (init), apply-sysctl-overwrites (init), mount-bpf-fs (init), clean-cilium-state (init), install-cni-binaries (init)
    KVStore:                 Ok   Disabled
    Kubernetes:              Ok   1.26 (v1.26.6+k3s1) [linux/arm64]
    Kubernetes APIs:         ["cilium/v2::CiliumClusterwideNetworkPolicy", "cilium/v2::CiliumEndpoint", "cilium/v2::CiliumNetworkPolicy", "cilium/v2::CiliumNode", "core/v1::Namespace", "core/v1::Node", "core/v1::Pods", "core/v1::Service", "discovery/v1::EndpointSlice", "networking.k8s.io/v1::NetworkPolicy"]
    KubeProxyReplacement:    Disabled
    Host firewall:           Disabled
    CNI Chaining:            none
    CNI Config file:         CNI configuration file management disabled
    Cilium:                  Ok   1.13.4 (v1.13.4-4061cdfc)
    NodeMonitor:             Listening for events on 4 CPUs with 64x4096 of shared memory
    Cilium health daemon:    Ok
    IPAM:                    IPv4: 9/254 allocated from 10.0.0.0/24,
    IPv6 BIG TCP:            Disabled
    BandwidthManager:        Disabled
    Host Routing:            Legacy
    Masquerading:            IPtables
    Controller Status:       48/48 healthy
    Proxy Status:            No managed proxy redirect
    Global Identity Range:   min 256, max 65535
    Hubble:                  Ok   Current/Max Flows: 4095/4095 (100.00%), Flows/s: 11.68   Metrics: Disabled
    Encryption:              Disabled
    Cluster health:          1/1 reachable   (2023-07-19T12:25:40Z)
    

è¿™é‡Œæœ‰å‡ ä¸ªç‚¹æ³¨æ„ä¸€ä¸‹ï¼š

1.  `datapath mode: tunnel`: å› ä¸ºå…¼å®¹æ€§åŸå› ï¼ŒCilium ä¼šé»˜è®¤å¯ç”¨ tunnelï¼ˆåŸºäº vxlan) çš„ datapatch æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯ overlay ç½‘ç»œç»“æ„ã€‚
2.  `KubeProxyReplacement: Disabled` Cilium æ˜¯æ²¡æœ‰å®Œå…¨æ›¿æ¢æ‰ kube-proxy çš„ï¼Œåé¢æˆ‘ä»¬ä¼šå‡ºæ–‡ç« ä»‹ç»å¦‚ä½•å®ç°æ›¿æ¢ã€‚
3.  `IPv6 BIG TCP: Disabled` è¯¥åŠŸèƒ½è¦æ±‚ Linux Kernel >= 5.19, æ‰€ä»¥åœ¨ Kernel 4.19.232 çŠ¶æ€ä¸ºç¦ç”¨ã€‚
4.  `BandwidthManager: Disabled` è¯¥åŠŸèƒ½è¦æ±‚ Linux Kernel >= 5.1, æ‰€ä»¥ç›®å‰æ˜¯ç¦ç”¨çš„
5.  `Host Routing: Legacy` Legacy Host Routing è¿˜æ˜¯ä¼šç”¨åˆ° iptables, æ€§èƒ½è¾ƒå¼±ï¼›ä½†æ˜¯ BPF-based host routing éœ€è¦ Linux Kernel >= 5.10
6.  `Masquerading: IPtables` IP ä¼ªè£…æœ‰å‡ ç§æ–¹å¼ï¼šåŸºäº eBPF çš„ï¼Œå’ŒåŸºäº iptables çš„ã€‚é»˜è®¤ä½¿ç”¨åŸºäº iptables, æ¨èä½¿ç”¨ åŸºäº eBPF çš„ã€‚
7.  `Hubble Relay: disabled` é»˜è®¤ Hubble ä¹Ÿæ˜¯ç¦ç”¨çš„ã€‚

Cilium çš„æœ€é‡è¦çš„ç‰¹ç‚¹å°±æ˜¯å…¶æ€§èƒ½ï¼Œæ‰€ä»¥åªè¦æ˜¯å¯ä»¥å¢å¼ºæ€§èƒ½çš„ï¼Œåç»­ä¼šä¸€ä¸€ä»‹ç»å¦‚ä½•å¯ç”¨ã€‚

### å®‰è£… Cilium Hubble

    $ cilium hubble enable --ui
    âœ¨ Patching ConfigMap cilium-config to enable Hubble...
    ğŸš€ Creating ConfigMap for Cilium version 1.13.4...
    â™»ï¸ Restarted Cilium pods
    âŒ› Waiting for Cilium to become ready before deploying other Hubble component(s)...
    ğŸš€ Creating Peer Service...
    âœ¨ Generating certificates...
    ğŸ”‘ Generating certificates for Relay...
    âœ¨ Deploying Relay...
    âœ¨ Deploying Hubble UI and Hubble UI Backend...
    âŒ› Waiting for Hubble to be installed...
    â„¹ï¸ Storing helm values file in kube-system/cilium-cli-helm-values Secret
    âœ… Hubble was successfully enabled!
    

éªŒè¯ï¼š

    $ cilium status
        /Â¯Â¯\
     /Â¯Â¯\__/Â¯Â¯\    Cilium:             OK
     \__/Â¯Â¯\__/    Operator:           OK
     /Â¯Â¯\__/Â¯Â¯\    Envoy DaemonSet:    disabled (using embedded mode)
     \__/Â¯Â¯\__/    Hubble Relay:       OK
        \__/       ClusterMesh:        disabled
    
    Deployment             hubble-ui          Desired: 1, Ready: 1/1, Available: 1/1
    DaemonSet              cilium             Desired: 1, Ready: 1/1, Available: 1/1
    Deployment             cilium-operator    Desired: 1, Ready: 1/1, Available: 1/1
    Deployment             hubble-relay       Desired: 1, Ready: 1/1, Available: 1/1
    Containers:            hubble-ui          Running: 1
                           cilium             Running: 1
                           cilium-operator    Running: 1
                           hubble-relay       Running: 1
    Cluster Pods:          9/9 managed by Cilium
    Helm chart version:    1.13.4
    Image versions         cilium             quay.io/cilium/cilium:v1.13.4@sha256:bde8800d61aaad8b8451b10e247ac7bdeb7af187bb698f83d40ad75a38c1ee6b: 1
                           cilium-operator    quay.io/cilium/operator-generic:v1.13.4@sha256:09ab77d324ef4d31f7d341f97ec5a2a4860910076046d57a2d61494d426c6301: 1
                           hubble-relay       quay.io/cilium/hubble-relay:v1.13.4@sha256:bac057a5130cf75adf5bc363292b1f2642c0c460ac9ff018fcae3daf64873871: 1
                           hubble-ui          quay.io/cilium/hubble-ui:v0.11.0@sha256:bcb369c47cada2d4257d63d3749f7f87c91dde32e010b223597306de95d1ecc8: 1
                           hubble-ui          quay.io/cilium/hubble-ui-backend:v0.11.0@sha256:14c04d11f78da5c363f88592abae8d2ecee3cbe009f443ef11df6ac5f692d839: 1
    

### ä½¿ç”¨ Kubectl æ£€æŸ¥é›†ç¾¤çŠ¶æ€

    $ kubectl get nodes
    NAME          STATUS   ROLES                  AGE    VERSION
    linaro-alip   Ready    control-plane,master   3d1h   v1.26.6+k3s1
    

    $ kubectl get daemonsets --all-namespaces
    NAMESPACE     NAME                     DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE
    kube-system   cilium                   1         1         1       1            1           kubernetes.io/os=linux   28h
    kube-system   svclb-traefik-29b9c193   1         1         1       1            1           <none>                   2d23h
    

    $ kubectl get deployments --all-namespaces
    NAMESPACE     NAME                     READY   UP-TO-DATE   AVAILABLE   AGE
    kube-system   local-path-provisioner   1/1     1            1           3d1h
    default       my-nginx                 2/2     2            2           32h
    kube-system   coredns                  1/1     1            1           3d1h
    kube-system   traefik                  1/1     1            1           2d23h
    kube-system   metrics-server           1/1     1            1           3d1h
    kube-system   cilium-operator          1/1     1            1           28h
    kube-system   hubble-relay             1/1     1            1           5m39s
    kube-system   hubble-ui                1/1     1            1           5m38s
    

ä½ åº”è¯¥ä¼šå‘ç° cilium daemonset æ­£åœ¨é›†ç¾¤çš„æ‰€æœ‰èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œè€Œ cilium-operator éƒ¨ç½²æ­£åœ¨å•ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œã€‚

æ­å–œä½ ï¼ğŸ‰ğŸ‰ğŸ‰ä½ ç°åœ¨å·²ç»å®‰è£…äº† Ciliumï¼Œä¸º Kubernetes é›†ç¾¤æä¾›è¿æ¥ã€‚

æ€»ç»“
--

æœ¬æ–‡æˆ‘ä»¬ä¸»è¦ä»‹ç»äº† Cilium çš„å¿«é€Ÿå®‰è£…è¿‡ç¨‹ã€‚

è¦å®‰è£… Cilium, éœ€è¦æ»¡è¶³ä¸€äº›åŸºæœ¬éœ€æ±‚ï¼Œå…¶ä¸­ Cilium å¯¹ Linux Kernel ç‰ˆæœ¬çš„è¦æ±‚è¾ƒé«˜ã€‚

é€šè¿‡ `cilium install`, åœ¨ Debian 10, Kernel 4.19.232, arm64 æœºå™¨ä¸Šï¼Œå®‰è£…äº† K3s v1.26.6+k3s1 å’Œ Cilium 1.13.4, å¯ç”¨äº† Hubble, å¹¶è¿›è¡Œäº†éªŒè¯ã€‚ğŸ‰ğŸ‰ğŸ‰

ğŸ“šï¸å‚è€ƒæ–‡æ¡£
-------

*   [System Requirements â€” Cilium 1.13.4 documentation](https://docs.cilium.io/en/stable/operations/system_requirements/)
*   [Cilium Quick Installation â€” Cilium 1.13.4 documentation](https://docs.cilium.io/en/stable/gettingstarted/k8s-install-default/)
*   [Installation using Helm â€” Cilium 1.13.4 documentation](https://docs.cilium.io/en/stable/installation/k8s-install-helm/)

> _ä¸‰äººè¡Œ, å¿…æœ‰æˆ‘å¸ˆ; çŸ¥è¯†å…±äº«, å¤©ä¸‹ä¸ºå…¬._ æœ¬æ–‡ç”±ä¸œé£å¾®é¸£æŠ€æœ¯åšå®¢ [EWhisper.cn](https://EWhisper.cn) ç¼–å†™.