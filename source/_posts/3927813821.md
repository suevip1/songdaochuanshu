---
layout: post
title: "手写RISC-V处理器（1）"
date: "2023-08-27T00:59:08.975Z"
---
手写RISC-V处理器（1）
==============

由于去年工作变动，有幸进入了芯片行业，但主要工作内容为基于RISC-V的嵌入式应用软件开发，几乎接触不到芯片设计的相关知识，然而随着工作的深入，越来越想探究一下运行在软件之下的CPU的世界，于是便产生了自己手写一个RISC-V处理器的想法，同时在博客里记录和分享一下自己学习和探索的过程。作为芯片设计领域的小白，深感道阻且长，幸运的是，有无数前辈们留下的足迹作为指引，再者说，事在认为，那就抖胆试一试吧。

由来
==

由于去年工作变动，有幸进入了芯片行业，但主要工作内容为基于RISC-V的嵌入式应用软件开发，几乎接触不到芯片设计的相关知识，然而随着工作的深入，越来越想探究一下运行在软件之下的CPU的世界，于是便产生了自己手写一个RISC-V处理器的想法，同时在博客里记录和分享一下自己学习和探索的过程。作为芯片设计领域的小白，深感道阻且长，幸运的是，有无数前辈们留下的足迹作为指引，再者说，事在认为，那就抖胆试一试吧。

思路
==

在尝试一个新的领域的时候，我会希望先从宏观上理一下思路，分解一下可能需要的做的1234，然后再按照这个思路一步一步向目标靠近。那么手写一个RISC-V处理器，需要哪些基础和步骤呢？

1\. 计算机理论基础
-----------

这方面最经典的书籍应该是《深入理解计算机系统》，相信从事软件行业的人大部分都读过，在自己实现一个处理器的同时，再回过头来温习一下这本书，一定有不一样的收获。

2\. 数字电子技术基础
------------

这个在大学阶段相关专业都学过，我们需要理解和掌握组合逻辑电路和时序逻辑电路的设计，以及一些基本概念。

3\. Verilog语言
-------------

编程语言最终还是选择了Verilog，是目前比较主流的语言，语法比较容易上手，入门教程有很多，比如[这里](https://www.runoob.com/w3cnote/verilog-tutorial.html)。

4\. RISC-V指令集
-------------

我们需要非常熟悉RISC-V指令集，它的指令分类，构成、用法等，最直接的就是在处理器的**译码**和**执行**阶段一定会用到。

5\. FPGA开发平台
------------

选择一个FPGA开发平台，目前主流的三大FPGA厂商是Xilinx、Altera、Lattice，可以根据自己的需要，选择购买一款对应的开发板，熟悉和掌握它的开发环境。

6\. 芯片的bring up
---------------

这里需要熟悉汇编语言，熟悉和理解C运行环境前的准备工作。我们不仅要手写一个处理器，还要通过bring up让它真正运行起来。

小结
==

以上列举的是一些需要掌握的基础，可以针对性的进行学习和掌握，边做边学，我基本都是在上班通勤的路上学习这些理论基础，这里推荐大家读一下刘未鹏的[暗时间](http://mindhacks.cn/2009/12/20/dark-time/)，充分利用起暗时间，是我们业余时间学习的关键。