---
layout: post
title: "树莓派烧录系统并在无外接屏幕的情况下连接VNC"
date: "2023-08-08T01:04:43.440Z"
---
树莓派烧录系统并在无外接屏幕的情况下连接VNC
=======================

​ 上个月老板给了块树莓派3B，开心坏了，在咸鱼上掏了很多零件，花了一段时间做出了一个二驱动的智能小车，但是觉得小车太小，就在又在咸鱼上掏了个四区的地盘，但是在拆卸的过程中，发现树莓派WIFI没有了，一开始我以为是零件的影响，拆了零件单独运行树莓派还是没有wifi，刷了个系统还是没有，最后得出结论wifi模块被我碰坏了。但是小车还得继续做，不然wifi死的太亏了，想着又要重新来，不如写点东西记录下过程。

一.格式化内存卡并新建磁盘
-------------

​ 关于树莓派烧录系统的教程，网上绝大多数都是拿一张没有使用过的卡直接烧录，我的卡因为已经烧录过系统了，所以我需要重新格式化，分盘才能烧录。对于一个已经使用过的内存卡，网上格式化的软件一般推荐使用SD Card Formatter或者DiskGenius，这里我使用windows自带的命令和磁盘管理器进行格式化分盘，无需安装任何软件。

1.  利用读卡器将内存卡插入电脑
    
    这步骤没啥好说的！！！
    
2.  在左下角搜索栏输入 diskpart，打开软件
    
    ![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210229663-1153140322.png)
    

3.输入list disk

![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210229408-2120154840.png)

4.  选择要格式的磁盘，磁盘2是我的内存卡，所以输入 select disk 2
    
    ![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210229160-579929072.png)
    
5.  清空磁盘 输入：clean
    
    ![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210228920-859181158.png)
    
6.  我的电脑右键管理，点击磁盘管理
    

![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210228588-1611666226.png)

7.  点击下方的磁盘2，右键选择新建卷，连续三个下一步，到格式化分区的时候，将文件系统选择为FAT32，之后下一步，完成即可。

![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210228319-465773801.png)

二.系统烧录并配置VNC
------------

1.  准备树莓派系统和烧录软件
    
    ​ 树莓派系统最好去树莓派官网获取https://www.raspberrypi.com/software/，同时树莓派官网也提供了非常容易操作的树莓派软件，由于个人习惯，我这里使用的是Win32DiskImager进行烧录，界面如下：
    
    ![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210228076-2072817964.png)
    
2.  导入镜像烧录系统到内存卡
    
    ![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210227837-440299802.png)
    
3.  配置SSH
    
    烧录好系统后一般会将内存卡分成了两个盘，一个boot，一个可能显示不出来。此时我们先进入boot，新建一个txt(不用写任何东西)，将名字命名为SSH(一定要大写)同时删除扩展名并保存。
    

![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210227566-346154410.png)

4.  利用PuTTY连接树莓派
    
    将内存卡插入进树莓派找一个网线连接到树莓派上（该网线要和pc端是同一个网关），并且开机。启动PUTTY，在IP地址处填写raspberrypi.local 端口号为22
    

![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210227273-1074192502.png)

​ 点击open，第一次连接会有弹窗，点击accept

![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210226985-1703770241.png)

login输入pi,passwoord输入raspberry,即可连接

![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210226701-1040034401.png)

5.  开启VNC服务
    
    在命令行，输入sudo raspi-config,会出现设置界面，
    
    ![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210226417-491779051.png)
    
    选择interface options ==> VNC == > YES
    
    ![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210226138-1851069728.png)
    
6.  查询ip地址，利用vnc连接树莓派
    
    命令行输入ifconfig,得到ip地址
    
    ![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210225907-830583216.png)
    
    在VNC上输入192.168.1.5回车，输入用户名pi 密码raspberry,即可成功连接树莓派
    
    ![](https://img2023.cnblogs.com/blog/2958909/202308/2958909-20230807210225450-211439416.png)
    

到这里就可以利用pc段操作树莓派了！！！！！