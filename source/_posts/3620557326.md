---
layout: post
title: "Azure Data Factoryï¼ˆä¸ƒï¼‰æ•°æ®é›†éªŒè¯ä¹‹ç”¨æˆ·æ‰˜ç®¡å‡­è¯"
date: "2023-09-09T00:55:06.157Z"
---
Azure Data Factoryï¼ˆä¸ƒï¼‰æ•°æ®é›†éªŒè¯ä¹‹ç”¨æˆ·æ‰˜ç®¡å‡­è¯
=================================

ä¸€ï¼Œå¼•è¨€
----

ã€€ã€€ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº† Azure Data Factory åœ¨è®¾ç½®æ•°æ®é›†ç±»å‹ä¸ºÂ  Dataverse çš„æ—¶å€™ï¼Œå¦‚ä½•è¿æ¥æµ‹è¯•ã€‚ä»Šå¤©æˆ‘ä»¬ç»§ç»­è®²è§£è®¤è¯æ–¹å¼è¿™ä¸€å—å†…å®¹ï¼Œæ‰“å¼€ Link Service å¯ä»¥çœ‹åˆ°å¤šç§è®¤è¯æ–¹å¼ï¼Œç”±äºä¸Šä¸€å±Šå·²æ¼”ç¤ºäº†Â  Office365 çš„è®¤è¯æ–¹å¼ï¼Œé‚£ä¹ˆä»Šå¤©å°±ç€é‡è®²è§£ä¸€ä¸‹Â  Servcie Principal çš„è®¤è¯æ–¹å¼ã€‚

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908110942868-1913174662.png)

\--------------------æˆ‘æ˜¯åˆ†å‰²çº¿--------------------

### [1ï¼ŒAzure Data Factoryï¼ˆä¸€ï¼‰å…¥é—¨ç®€ä»‹](https://www.cnblogs.com/AllenMaster/p/13895871.html)

### [2ï¼ŒAzure Data Factoryï¼ˆäºŒï¼‰å¤åˆ¶æ•°æ®](https://www.cnblogs.com/AllenMaster/p/13903209.html)

### [3ï¼ŒAzure Data Factoryï¼ˆä¸‰ï¼‰é›†æˆ Azure Devops å®ç°CI/CD](https://www.cnblogs.com/AllenMaster/p/13922858.html)

### [4ï¼ŒAzure Data Factoryï¼ˆå››ï¼‰é›†æˆ Logic App çš„é‚®ä»¶é€šçŸ¥æé†’](https://www.cnblogs.com/AllenMaster/p/13952343.html)

### [5ï¼ŒAzure Data Factoryï¼ˆäº”ï¼‰Blob Storage å¯†é’¥ç®¡ç†é—®é¢˜](https://www.cnblogs.com/AllenMaster/p/13970524.html)

### Â [6ï¼ŒAzure Data Factoryï¼ˆå…­ï¼‰æ•°æ®é›†ç±»å‹ä¸ºDataverseçš„Linkæµ‹è¯•](https://www.cnblogs.com/AllenMaster/p/17657514.html)

### [7ï¼ŒAzure Data Factoryï¼ˆä¸ƒï¼‰æ•°æ®é›†éªŒè¯ä¹‹ç”¨æˆ·æ‰˜ç®¡å‡­è¯](https://www.cnblogs.com/AllenMaster/p/17687215.html)

**\* ä»Šå¤©æ¼”ç¤ºçš„å†…å®¹æ˜¯åœ¨ä¼ä¸šè´¦æˆ·ä¸Šè¿›è¡Œæ“ä½œçš„ï¼ŒåŒæ—¶ PowerPlatform å¹³å°éœ€è¦ Office 365Â  ä¼ä¸šè®¢é˜…æˆ–è€…å¼€å‘è€…è®¢é˜…ã€‚å¤§å®¶å¯ä»¥å…ˆè¡Œæ³¨å†Œ Office å¼€å‘è€…è´¦å·**

**å‚è€ƒé“¾æ¥ï¼š[ä½¿ç”¨ Azure æ•°æ®å·¥å‚æˆ– Azure Synapse Analytics åœ¨ Dynamics 365 (Microsoft Dataverse) æˆ– Dynamics CRM ä¸­å¤åˆ¶å’Œè½¬æ¢æ•°æ®](https://learn.microsoft.com/ZH-CN/azure/data-factory/connector-dynamics-crm-office-365?tabs=data-factory&WT.mc_id=AZ-MVP-5004191)**

äºŒï¼Œæ­£æ–‡
----

### 1ï¼Œä½¿ç”¨ User Assigned Managed Identity è®¤è¯æ–¹å¼

é¦–å…ˆç™»å½• Azure Portal åˆ›å»º User Assigned Managed Identityï¼Œæœç´¢ "managed Identity"ï¼Œç‚¹å‡»è¿›å…¥

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908112626164-874642304.png)

ç‚¹å‡» â€œCreateâ€ åˆ›å»ºä¸€ä¸ªä¿¡æ¯

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908113633579-1088110367.png)

è¾“å…¥ä»¥ä¸‹å‚æ•°

Resource groupï¼šâ€œWeb\_Test\_MI\_RGâ€

Regionï¼š"EastAsia"

Nameï¼šâ€œid-cnbate-user-identityâ€

ç‚¹å‡» â€œReview + createâ€ åˆ›å»ºé¢„æ ¡éªŒ

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908113824851-1809267935.png)

æ ¡éªŒæˆåŠŸåï¼Œç‚¹å‡» â€œcreateâ€ è¿›è¡Œåˆ›å»ºæ“ä½œ

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908114303498-1719466626.png)

åˆ›å»ºå®Œæˆåï¼Œç‚¹å‡» â€œGo to resourceâ€ ä½ å¯ä»¥çœ‹åˆ°åˆ›å»ºå¥½çš„ User Managed Identity

è½¬åˆ° â€œcnbate-adfâ€ çš„Â Azure Data Factoryï¼Œå·¦ä¾§èœå•é€‰æ‹© â€œSettings =ã€‹Managed identitiesâ€ï¼Œé€‰æ‹© â€œUser assignedâ€ï¼Œç‚¹å‡» â€œAddâ€ï¼Œåˆ†é…ç”¨æˆ·æ‰˜ç®¡å‡­è¯

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908165142820-603550020.png)

é€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„ â€œid-cnbate-user-identityâ€ï¼Œç‚¹å‡» â€œAddâ€

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908165248231-591456543.png)

æ·»åŠ å®Œæˆåï¼Œåˆ—è¡¨é¡µä¼šæ˜¾ç¤º ç”¨æˆ·æ‰˜ç®¡å‡­æ®çš„è®°å½•

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908165433765-586314088.png)

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è½¬åˆ° Power Platform å¹³å°ä¸ºç›¸åº”ç¯å¢ƒæ·»åŠ  â€œåº”ç”¨ç¨‹åºç”¨æˆ·â€ï¼Œå¹¶èµ‹äºˆå®‰å…¨è§’è‰²

æ‰¾åˆ°å¯¹åº”çš„ â€œdevâ€ ç¯å¢ƒï¼Œç‚¹å‡» â€œè®¾ç½®=ã€‹ç”¨æˆ· + æƒé™=ã€‹åº”ç”¨ç¨‹åºç”¨æˆ·â€

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908142413324-1278646589.png)

ç‚¹å‡» â€œ+ æ–°å»ºåº”ç”¨ç”¨æˆ·â€

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908142728447-1445787492.png)

è¾“å…¥åˆšåˆšåˆ›å»ºå¥½çš„ User Managed Identity çš„ Client è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶ç¡®è®¤é€‰ä¸­ï¼Œå¹¶ç‚¹å‡» â€œæ·»åŠ â€ æŒ‰é’®

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908143341719-1013767531.png)

å¹¶ä¸ºå½“å‰åº”ç”¨ç”¨æˆ·æ·»åŠ  â€œç³»ç»Ÿç®¡ç†å‘˜â€ çš„å®‰å…¨è§’è‰²

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908143737113-456340665.png)

æœ€åï¼Œå¼€å§‹é…ç½®è®¤è¯å‡­æ®ç›¸å…³å‚æ•°

Deployment typeï¼šâ€œOnlineâ€

Servcie Uriï¼šâ€œhttps://xxxxxxxxxxxxxxxx.dynamics.comâ€

Authentication typeï¼šâ€œUser Assigned Managed Identityâ€

å‡­æ®é€‰æ‹© "+ New"Â 

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908165749313-1250169593.png)

åç§°ï¼šâ€œdataverse-credentialâ€

ç±»å‹ï¼šâ€œUser Assigned Managed Identityâ€

ç”¨æˆ·åˆ†é…æ‰˜ç®¡æ ‡è¯†ï¼šâ€œid-cnbate-user-identityâ€

ç‚¹å‡» â€œCreateâ€ è¿›è¡Œæ·»åŠ æ“ä½œ

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908165900453-1060657331.png)

å›åˆ° â€œNew Linked servcieâ€ é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç‚¹å‡» â€œTest connectionâ€ è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åç‚¹å‡»â€œCreateâ€

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908170100352-564238166.png)

ä¸‹æ‹‰é€‰æ‹© â€œStudentâ€ åï¼Œç‚¹å‡» â€œokâ€

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908170332650-1170657179.png)

æœ€åé¢„è§ˆæ•°æ®

![](https://img2023.cnblogs.com/blog/1996262/202309/1996262-20230908173344846-569949826.png)

Bingo!! ğŸ‰ğŸ‰ğŸ‰(âÂ´â—¡\`â)

ä¸‰ï¼Œç»“å°¾
----

ã€€ã€€ä»Šå¤©å®åœ°çš„æ¼”ç¤ºäº† Azure Data Factory ä¸­æ•°æ®é›†ç±»å‹ä¸º Dataverseçš„é“¾æ¥æµ‹è¯•ï¼Œé€šè¿‡è®¾ç½® ServiceLink ä½¿ç”¨äº† User Assigned Managed Identity çš„è®¤è¯æ–¹å¼ï¼ˆæˆåŠŸçš„é“¾æ¥åˆ°äº† dev ç¯å¢ƒçš„ Student è¡¨ï¼Œå¹¶é¢„è§ˆåŠ è½½å‡ºåˆå§‹åŒ–çš„æµ‹è¯•æ•°æ®ã€‚ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬ç»§ç»­ä»‹ç»Service Principle çš„è®¤è¯æ–¹å¼

å‚è€ƒé“¾æ¥ï¼š[ä½¿ç”¨ Azure æ•°æ®å·¥å‚æˆ– Azure Synapse Analytics åœ¨ Dynamics 365 (Microsoft Dataverse) æˆ– Dynamics CRM ä¸­å¤åˆ¶å’Œè½¬æ¢æ•°æ®](https://learn.microsoft.com/ZH-CN/azure/data-factory/connector-dynamics-crm-office-365?tabs=data-factory&WT.mc_id=AZ-MVP-5004191)

ä½œè€…ï¼š[Allen](https://www.cnblogs.com/AllenMaster)Â 

ç‰ˆæƒï¼šè½¬è½½è¯·åœ¨æ–‡ç« æ˜æ˜¾ä½ç½®æ³¨æ˜ä½œè€…åŠå‡ºå¤„ã€‚å¦‚å‘ç°é”™è¯¯ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£ã€‚

ä½œè€…ï¼šAllen ç‰ˆæƒï¼šè½¬è½½è¯·åœ¨æ–‡ç« æ˜æ˜¾ä½ç½®æ³¨æ˜ä½œè€…åŠå‡ºå¤„ã€‚å¦‚å‘ç°é”™è¯¯ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£ã€‚