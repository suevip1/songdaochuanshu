---
layout: post
title: "Java Maven POMé…ç½®å‚è€ƒ"
date: "2023-08-23T00:55:09.620Z"
---
Java Maven POMé…ç½®å‚è€ƒ
==================

ä»‹ç»
--

### ä»€ä¹ˆæ˜¯POMï¼Ÿ

POMä»£è¡¨â€œé¡¹ç›®å¯¹è±¡æ¨¡å‹â€ã€‚å®ƒæ˜¯ä¸€ä¸ªåä¸º`pom.XML`çš„æ–‡ä»¶ä¸­ä¿å­˜çš„Mavené¡¹ç›®çš„XMLè¡¨ç¤ºã€‚

### å¿«é€Ÿæ¦‚è§ˆ

è¿™æ˜¯ä¸€ä¸ªç›´æ¥ä½äºPOMé¡¹ç›®å…ƒç´ ä¸‹çš„å…ƒç´ åˆ—è¡¨ã€‚**è¯·æ³¨æ„ï¼Œ`modelVersion` åŒ…å«4.0.0ã€‚è¿™æ˜¯ç›®å‰å”¯ä¸€æ”¯æŒçš„POMç‰ˆæœ¬ï¼Œå¹¶ä¸”å§‹ç»ˆæ˜¯å¿…éœ€çš„ã€‚**

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      <modelVersion>4.0.0</modelVersion>
     
      <!-- The Basics -->
      <groupId>...</groupId>
      <artifactId>...</artifactId>
      <version>...</version>
      <packaging>...</packaging>
      <dependencies>...</dependencies>
      <parent>...</parent>
      <dependencyManagement>...</dependencyManagement>
      <modules>...</modules>
      <properties>...</properties>
     
      <!-- Build Settings -->
      <build>...</build>
      <reporting>...</reporting>
     
      <!-- More Project Information -->
      <name>...</name>
      <description>...</description>
      <url>...</url>
      <inceptionYear>...</inceptionYear>
      <licenses>...</licenses>
      <organization>...</organization>
      <developers>...</developers>
      <contributors>...</contributors>
     
      <!-- Environment Settings -->
      <issueManagement>...</issueManagement>
      <ciManagement>...</ciManagement>
      <mailingLists>...</mailingLists>
      <scm>...</scm>
      <prerequisites>...</prerequisites>
      <repositories>...</repositories>
      <pluginRepositories>...</pluginRepositories>
      <distributionManagement>...</distributionManagement>
      <profiles>...</profiles>
    </project>
    

#### ä¸€ä¸ªç®€å•çš„é…ç½®ç¤ºä¾‹

    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <modelVersion>4.0.0</modelVersion>
    
        <groupId>com.study</groupId>
        <artifactId>kafka-meter</artifactId>
        <version>1.0</version>
        <description>Kafka plugin for JMeter</description>
    
        <properties>
            <maven.compiler.source>8</maven.compiler.source>
            <maven.compiler.target>8</maven.compiler.target>
            <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
            <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
            <apache.jmeter.core>5.4.1</apache.jmeter.core>
            <org.log4j>2.11.1</org.log4j>
            <sf.kafka.api.core.version>1.18.2</sf.kafka.api.core.version>
        </properties>
    
        <dependencies>
            <dependency>
                <groupId>org.apache.jmeter</groupId>
                <artifactId>ApacheJMeter_core</artifactId>
                <version>${apache.jmeter.core}</version>
            </dependency>
    
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-api</artifactId>
                <version>${org.log4j}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-core</artifactId>
                <version>${org.log4j}</version>
            </dependency>
    
            <dependency>
                <groupId>com.sf.kafka</groupId>
                <artifactId>sf-kafka-api-core</artifactId>
                <version>${sf.kafka.api.core.version}</version>
            </dependency>
        </dependencies>
        <build>
            <resources>
                <resource>
                    <directory>src/main/java</directory>
                    <includes>
                        <include>**/*.properties</include>
                    </includes>
                </resource>
            </resources>
        </build>
    </project>
    

åŸºç¡€é…ç½®(The Basics)
----------------

POMåŒ…å«å…³äºé¡¹ç›®çš„æ‰€æœ‰å¿…è¦ä¿¡æ¯ï¼Œä»¥åŠæ„å»ºè¿‡ç¨‹ä¸­è¦ä½¿ç”¨çš„æ’ä»¶çš„é…ç½®ã€‚

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      <modelVersion>4.0.0</modelVersion>
     
      <groupId>org.codehaus.mojo</groupId>
      <artifactId>my-project</artifactId>
      <version>1.0</version>
    </project>
    

Mavenåæ ‡(Coordinatesï¼‰
--------------------

ä¸Šé¢å®šä¹‰çš„POMæ˜¯Mavenå…è®¸çš„æœ€å°é…ç½®ã€‚`groupId:artifactId:version`éƒ½æ˜¯å¿…éœ€å­—æ®µï¼ˆä¸è¿‡ï¼Œå¦‚æœä»çˆ¶çº§ç»§æ‰¿`groupId`å’Œ`version`ï¼Œåˆ™ä¸éœ€è¦æ˜¾å¼å®šä¹‰å®ƒä»¬-ç¨åå°†è¯¦ç»†ä»‹ç»ç»§æ‰¿ï¼‰ã€‚è¿™ä¸‰ä¸ªå­—æ®µçš„ä½œç”¨éå¸¸åƒä¸€ä¸ªåœ°å€å’Œæ—¶é—´æˆ³ã€‚è¿™æ ‡å¿—ç€ä»“åº“ä¸­çš„ä¸€ä¸ªç‰¹å®šä½ç½®ï¼Œå°±åƒMavené¡¹ç›®çš„åæ ‡ç³»ä¸€æ ·ï¼š

*   **groupId**: è¿™åœ¨ä¸€ä¸ªç»„ç»‡æˆ–é¡¹ç›®ä¸­é€šå¸¸æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚ä¾‹å¦‚ï¼Œæ‰€æœ‰çš„æ ¸å¿ƒMavenå·¥ä»¶éƒ½åº”è¯¥ä½äº`groupId` `org.apache.Maven`ä¸‹ã€‚`groupId`ä¸ä¸€å®šä½¿ç”¨ç‚¹ç¬¦å·ï¼Œä¾‹å¦‚junité¡¹ç›®ã€‚è¯·æ³¨æ„ï¼Œç‚¹æ ‡è®°çš„`groupId`ä¸å¿…ä¸é¡¹ç›®åŒ…å«çš„åŒ…ç»“æ„ç›¸å¯¹åº”ã€‚ç„¶è€Œï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ã€‚å½“å­˜å‚¨åœ¨ä»“åº“ä¸­æ—¶ï¼Œè¯¥ç»„çš„è¡Œä¸ºä¸æ“ä½œç³»ç»Ÿä¸­çš„JavaåŒ…ç»“æ„éå¸¸ç›¸ä¼¼ã€‚ç‚¹è¢«æ“ä½œç³»ç»Ÿç‰¹å®šçš„ç›®å½•åˆ†éš”ç¬¦ï¼ˆå¦‚Unixä¸­çš„â€œ/â€ï¼‰æ‰€å–ä»£ï¼Œåè€…æˆä¸ºBaseä»“åº“çš„ç›¸å¯¹ç›®å½•ç»“æ„ã€‚åœ¨ç»™å®šçš„ç¤ºä¾‹ä¸­ï¼Œ `org.codehaus.mojo` ç»„ä½äºç›®å½•`$M2_REPO/org/codehaus/mojo`ä¸­ã€‚
*   **artifactId**: `artifactId`é€šå¸¸æ˜¯é¡¹ç›®çš„åç§°ã€‚å°½ç®¡`groupId`å¾ˆé‡è¦ï¼Œä½†ç»„å†…çš„äººå¾ˆå°‘åœ¨è®¨è®ºä¸­æåˆ°`groupId`(ä»–ä»¬é€šå¸¸éƒ½æ˜¯åŒä¸€ä¸ªIDï¼Œä¾‹å¦‚[MojoHaus](http://www.mojohaus.org/)é¡¹ç›®groupId:`org.codehaus.mojo`)ã€‚`artifactId`å’Œ`groupId`ä¸€èµ·åˆ›å»ºäº†ä¸€ä¸ªKeyï¼Œå°†è¿™ä¸ªé¡¹ç›®ä¸ä¸–ç•Œä¸Šå…¶ä»–æ‰€æœ‰é¡¹ç›®åŒºåˆ†å¼€æ¥ï¼ˆè‡³å°‘ï¼Œå®ƒåº”è¯¥ ğŸ˜ƒï¼‰ã€‚`artifactId`å’Œ`groupId`å®Œå…¨å®šä¹‰äº†å·¥ä»¶åœ¨ä»“åº“ä¸­çš„å­˜å‚¨åŒºã€‚åœ¨ä¸Šè¿°é¡¹ç›®ä¸­ï¼Œ `my-project`ä½äº`$M2_REPO/org/codehaus/mojo/my-project` ã€‚
*   **version**: ç”¨äºä»¥åŒºåˆ†é¡¹ç›®å’Œå·¥ä»¶ç‰ˆæœ¬ã€‚`my-project` ç‰ˆæœ¬ 1.0æ–‡ä»¶ä½äºç›®å½•ç»“æ„`$M2_REPO.org/codehaus/mojo/my-project/1.0`ä¸­ã€‚

ä¸Šé¢ç»™å‡ºçš„ä¸‰ä¸ªå…ƒç´ æŒ‡å‘ä¸€ä¸ªé¡¹ç›®çš„ç‰¹å®šç‰ˆæœ¬ï¼Œè®©MavençŸ¥é“æˆ‘ä»¬åœ¨ä¸è°æ‰“äº¤é“ï¼Œä»¥åŠåœ¨å…¶è½¯ä»¶ç”Ÿå‘½å‘¨æœŸä¸­æˆ‘ä»¬éœ€è¦å®ƒä»¬çš„æ—¶é—´ã€‚

æ‰“åŒ…(Packaging)
-------------

ç°åœ¨æˆ‘ä»¬æœ‰äº†`groupId:artifactId:version`çš„åœ°å€ç»“æ„ï¼Œè¿˜æœ‰ä¸€ä¸ªæ ‡å‡†æ ‡ç­¾å¯ä»¥ç»™æˆ‘ä»¬ä¸€ä¸ªçœŸæ­£å®Œæ•´çš„ä¸œè¥¿ï¼šé‚£å°±æ˜¯é¡¹ç›®çš„`packaging`ã€‚ä¸Šè¿°ç¤ºä¾‹ä¸­å®šä¹‰çš„`org.codehaus.mojo:my project:1.0`çš„ç¤ºä¾‹POMå°†è¢«æ‰“åŒ…ä¸ºä¸€ä¸ª`jar`æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰ä¸åŒçš„`packaging`å°†å…¶å˜æˆä¸€ä¸ª`war`æ–‡ä»¶ï¼š

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <packaging>war</packaging>
      ...
    </project>
    

å½“æ²¡æœ‰å£°æ˜ä»»ä½•`packaging` æ—¶ï¼Œé»˜è®¤ä¸º`jar`ã€‚å½“å‰çš„æ ¸å¿ƒ`packaing`å€¼ä¸ºï¼š`pom`ã€`jar`ã€`maven-plugin`ã€`ejb`ã€`war`ã€`ear`ã€`rar`ã€‚è¿™äº›å®šä¹‰äº†åœ¨ç‰¹å®šåŒ…ç»“æ„çš„æ¯ä¸ªç›¸åº”æ„å»ºç”Ÿå‘½å‘¨æœŸé˜¶æ®µæ‰§è¡Œçš„ç›®æ ‡çš„é»˜è®¤åˆ—è¡¨ï¼šè¯·å‚é˜…[Plugin Bindings for default lifecycle Reference](https://maven.apache.org/ref/current/maven-core/default-bindings.html)è¯¦ç»†ä¿¡æ¯ã€‚

POMå…³ç³»(POM Relationships)
------------------------

### ä¾èµ–(Dependencies)

POMçš„åŸºçŸ³æ˜¯å…¶[ä¾èµ–æ€§](https://maven.apache.org/ref/current/maven-model/maven.html#class_dependency)åˆ—è¡¨ã€‚å¤§å¤šæ•°é¡¹ç›®éƒ½ä¾èµ–äºå…¶ä»–é¡¹ç›®æ¥æ­£ç¡®æ„å»ºå’Œè¿è¡Œã€‚å³ä¾¿Mavenä¸ºä½ æ‰€åšçš„åªæ˜¯ç®¡ç†è¿™ä¸ªåˆ—è¡¨ï¼Œä½ ä¹Ÿå—ç›Šå¾ˆå¤šäº†ã€‚Mavenåœ¨ç¼–è¯‘ä»¥åŠæ‰§è¡Œå…¶å®ƒéœ€è¦å®ƒä»¬çš„æ’ä»¶ç›®æ ‡æ—¶ä¸‹è½½å¹¶é“¾æ¥ä¾èµ–ã€‚æ­¤å¤–ï¼ŒMavenä¼šè‡ªåŠ¨å¼•å…¥è¿™äº›ä¾èµ–é¡¹çš„ä¾èµ–é¡¹ï¼ˆä¼ é€’ä¾èµ–é¡¹ï¼‰ï¼Œä½¿ä½ çš„åˆ—è¡¨å¯ä»¥åªå…³æ³¨é¡¹ç›®æ‰€éœ€çš„ä¾èµ–é¡¹ã€‚

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <dependencies>
        <dependency>
          <groupId>junit</groupId>
          <artifactId>junit</artifactId>
          <version>4.12</version>
          <type>jar</type>
          <scope>test</scope>
          <optional>true</optional>
        </dependency>
        ...
      </dependencies>
      ...
    </project>
    

*   **groupId,artifactId,version**
    
    ä½ ä¼šç»å¸¸çœ‹åˆ°è¿™äº›å…ƒç´ ã€‚è¿™ä¸‰ä½ä¸€ä½“ç”¨äºè®¡ç®—ç‰¹å®šé¡¹ç›®çš„Mavenåæ ‡ï¼Œå°†å…¶ç•Œå®šä¸ºè¯¥é¡¹ç›®çš„ä¾èµ–é¡¹ã€‚æ­¤è®¡ç®—çš„ç›®çš„æ˜¯é€‰æ‹©ä¸€ä¸ªä¸æ‰€æœ‰ä¾èµ–å£°æ˜åŒ¹é…çš„ç‰ˆæœ¬ï¼ˆç”±äºå¯ä¼ é€’ä¾èµ–ï¼ŒåŒä¸€å·¥ä»¶å¯èƒ½æœ‰å¤šä¸ªä¾èµ–å£°æ˜ï¼‰ã€‚è¿™äº›å€¼åº”ä¸ºï¼š
    
    *   **groupId**, **artifactId**ï¼šç›´æ¥å¯¹åº”ä¾èµ–å…³ç³»çš„åæ ‡ï¼Œ
        
    *   **version**ï¼š**ä¾èµ–ç‰ˆæœ¬éœ€æ±‚è¯´æ˜**ï¼Œç”¨äºè®¡ç®—ä¾èµ–çš„æœ‰æ•ˆç‰ˆæœ¬ã€‚
        
    
    ç”±äºä¾èµ–å…³ç³»æ˜¯ç”±Mavenåæ ‡æè¿°çš„ï¼Œä½ å¯èƒ½ä¼šæƒ³ï¼šâ€œè¿™æ„å‘³ç€æˆ‘çš„é¡¹ç›®åªèƒ½ä¾èµ–äºMavenå·¥ä»¶ï¼â€ç­”æ¡ˆæ˜¯ï¼Œâ€œå½“ç„¶ï¼Œä½†è¿™æ˜¯ä¸€ä»¶å¥½äº‹ã€‚â€è¿™è¿«ä½¿ä½ åªèƒ½ä¾èµ–Mavenå¯ä»¥ç®¡ç†çš„ä¾èµ–å…³ç³»ã€‚
    
    ä¸å¹¸çš„æ˜¯ï¼Œæœ‰æ—¶é¡¹ç›®æ— æ³•ä»central Maven ä»“åº“åº“ä¸‹è½½ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªé¡¹ç›®å¯èƒ½ä¾èµ–äº
    
    ä¾‹å¦‚ï¼Œä¸€ä¸ªé¡¹ç›®å¯èƒ½ä¾èµ–äºä¸€ä¸ªæ‹¥æœ‰å°é—­æºä»£ç è®¸å¯è¯çš„jarï¼Œè¯¥è®¸å¯è¯é˜»æ­¢å®ƒä½äºcentralä»“åº“ä¸­ã€‚æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥å¤„ç†è¿™ç§æƒ…å†µã€‚
    
    1.  ä½¿ç”¨å®‰è£…æ’ä»¶åœ¨æœ¬åœ°å®‰è£…ä¾èµ–é¡¹ã€‚è¯¥æ–¹æ³•æ˜¯æœ€ç®€å•çš„æ¨èæ–¹æ³•ã€‚ä¾‹å¦‚:
        
             mvn install:install-file -Dfile=non-maven-proj.jar -DgroupId=some.group -DartifactId=non-maven-proj -Dversion=1 -Dpackaging=jar
            
        
    
    è¯·æ³¨æ„ï¼Œåœ°å€ä»ç„¶æ˜¯å¿…éœ€çš„ï¼Œåªæ˜¯è¿™æ¬¡ä½¿ç”¨å‘½ä»¤è¡Œï¼Œå®‰è£…æ’ä»¶å°†ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªå…·æœ‰ç»™å®šåœ°å€çš„POM
    

2.  åˆ›å»ºè‡ªå·±çš„ä»“åº“å¹¶å‘å¸ƒä¾èµ–ã€‚è¿™æ˜¯æ‹¥æœ‰å†…è”ç½‘çš„å…¬å¸æœ€å–œæ¬¢çš„æ–¹æ³•ï¼Œéœ€è¦èƒ½å¤Ÿè®©æ¯ä¸ªäººéƒ½ä¿æŒåŒæ­¥ã€‚Mavenæœ‰ä¸€ä¸ªåä¸º`deploy:deploy-file` çš„ç›®æ ‡ï¼Œå®ƒç±»ä¼¼äº `install:install-file`ç›®æ ‡ã€‚
    
3.  å°†ä¾èµ–å…³ç³»èŒƒå›´è®¾ç½®ä¸º `system` å¹¶å®šä¹‰ `systemPath`ã€‚ä½†æ˜¯ï¼Œä¸å»ºè®®è¿™æ ·åš
    

*   **classifier**
    
    classifieråŒºåˆ†ä»ç›¸åŒPOMæ„å»ºä½†å†…å®¹ä¸åŒçš„å·¥ä»¶ã€‚å®ƒæ˜¯ä¸€äº›å¯é€‰çš„ä»»æ„å­—ç¬¦ä¸²ï¼Œå¦‚æœæœ‰å€¼çš„è¯ï¼Œå®ƒä¼šè¢«é™„åŠ åˆ°å·¥ä»¶åç§°ä¸­ç‰ˆæœ¬å·åé¢ã€‚
    
    ä»¥é¡¹ç›®ä¸ºä¾‹æ¥è¯´æ˜è¿™ä¸ªå…ƒç´ çš„åŠ¨æœºã€‚å‡è®¾æœ‰ä¸ªé¡¹ç›®ï¼Œè¯¥é¡¹ç›®æä¾›äº†ä¸€ä¸ªä»¥Java 11ä¸ºç›®æ ‡çš„å·¥ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿæä¾›äº†ä»ç„¶æ”¯æŒJava 1.8çš„å·¥ä»¶ã€‚ç¬¬ä¸€ä¸ªå·¥ä»¶å¯ä»¥é…å¤‡æœ‰`classifier` `jdk11`ï¼Œç¬¬äºŒä¸ªå·¥ä»¶é…å¤‡`jdk8`ï¼Œè¿™æ ·å®¢æˆ·ç«¯å¯ä»¥é€‰æ‹©ä½¿ç”¨å“ªä¸€ä¸ªã€‚
    
    `classifier`çš„å¦ä¸€ä¸ªå¸¸è§ç”¨æ³•æ˜¯å°†æ¬¡è¦å·¥ä»¶é™„åŠ åˆ°é¡¹ç›®çš„ä¸»è¦å·¥ä»¶ä¸Šã€‚å¦‚æœæµè§ˆMaven centerä»“åº“åº“ï¼Œä½ ä¼šæ³¨æ„åˆ°`classifier` `sources`å’Œ`javadoc`ç”¨äºéƒ¨ç½²é¡¹ç›®æºä»£ç å’ŒAPIæ–‡æ¡£ä»¥åŠæ‰“åŒ…çš„ç±»æ–‡ä»¶
    
*   **type**
    

å¯¹åº”äºæ‰€é€‰çš„ä¾èµ–é¡¹ç±»å‹ã€‚é»˜è®¤ä¸º`jar`ã€‚è™½ç„¶å®ƒé€šå¸¸è¡¨ç¤ºä¾èµ–é¡¹æ–‡ä»¶åä¸Šçš„æ‰©å±•åï¼Œä½†æƒ…å†µå¹¶éæ€»æ˜¯å¦‚æ­¤ï¼šä¸€ä¸ªç±»å‹å¯ä»¥æ˜ å°„åˆ°ä¸åŒçš„æ‰©å±•åå’Œclassifierã€‚ç±»å‹é€šå¸¸ä¸æ‰€ä½¿ç”¨çš„packagingç›¸å¯¹åº”ï¼Œå°½ç®¡æƒ…å†µå¹¶éæ€»æ˜¯å¦‚æ­¤ã€‚ç±»å‹çš„ä¸€äº›ç¤ºä¾‹å€¼`jar`, `ejb-client` å’Œ`test-jar`:è¯·å‚è§[é»˜è®¤å·¥ä»¶å¤„ç†ç¨‹åº](https://maven.apache.org/ref/current/maven-core/artifact-handlers.html)ä»¥è·å–åˆ—è¡¨ã€‚æ–°ç±»å‹å¯ä»¥ç”±å°†`extensions`è®¾ç½®ä¸º`true`çš„æ’ä»¶å®šä¹‰ï¼Œå› æ­¤è¿™ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨

*   **scope**
    
    è¿™ä¸ªå…ƒç´ æŒ‡çš„æ˜¯æ‰‹å¤´ä»»åŠ¡ï¼ˆç¼–è¯‘å’Œè¿è¡Œæ—¶ã€æµ‹è¯•ç­‰ï¼‰çš„ç±»è·¯å¾„ï¼Œä»¥åŠå¦‚ä½•é™åˆ¶ä¾èµ–é¡¹çš„ä¼ é€’æ€§ã€‚æœ‰äº”ä¸ªä½œç”¨åŸŸå¯ç”¨ï¼š
    
    *   **compile** - è¿™æ˜¯é»˜è®¤ä½œç”¨åŸŸï¼Œå¦‚æœæœªæŒ‡å®šåˆ™ä½¿ç”¨é»˜è®¤å€¼ã€‚ç¼–è¯‘ä¾èµ–é¡¹åœ¨æ‰€æœ‰ç±»è·¯å¾„ä¸­éƒ½å¯ç”¨ã€‚æ­¤å¤–ï¼Œè¿™äº›ä¾èµ–å…³ç³»ä¼šä¼ æ’­åˆ°ä¾èµ–é¡¹ç›®ã€‚
    *   **provided** - å’Œ**compile**å¾ˆåƒï¼Œä½†è¡¨ç¤ºä½ å¸Œæœ›JDKæˆ–å®¹å™¨åœ¨è¿è¡Œæ—¶æä¾›ä¾èµ–å…³ç³»ã€‚å®ƒä»…åœ¨ç¼–è¯‘å’Œæµ‹è¯•ç±»è·¯å¾„ä¸Šå¯ç”¨ï¼Œå¹¶ä¸”ä¸å¯ä¼ é€’ã€‚
    *   **runtime** - æ­¤ä½œç”¨åŸŸè¡¨ç¤ºè¯¥ä¾èµ–é¡¹ä¸æ˜¯ç¼–è¯‘æ‰€å¿…é¡»çš„ï¼Œè€Œæ˜¯æ‰§è¡Œä¾èµ–é¡¹ã€‚å®ƒåœ¨è¿è¡Œæ—¶å’Œæµ‹è¯•ç±»è·¯å¾„ä¸­ï¼Œä½†ä¸åœ¨ç¼–è¯‘ç±»è·¯å¾„ä¸­ã€‚
    *   **test** - æ­¤ä½œç”¨åŸŸè¡¨ç¤ºæ­¤ä¾èµ–é¡¹ä¸æ˜¯åº”ç”¨ç¨‹åºçš„æ­£å¸¸ä½¿ç”¨æ‰€éœ€ï¼Œä»…é€‚ç”¨äºæµ‹è¯•ç¼–è¯‘å’Œæ‰§è¡Œé˜¶æ®µã€‚å®ƒä¸æ˜¯ä¼ é€’æ€§çš„ã€‚
    *   **system** - æ­¤ä½œç”¨åŸŸç±»ä¼¼`provided`ã€‚åªæ˜¯ä½ å¿…é¡»æä¾›æ˜¾å¼åŒ…å«å®ƒçš„JARã€‚å·¥ä»¶å§‹ç»ˆå¯ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨ä»“åº“ä¸­æŸ¥æ‰¾
*   **systemPath**
    

ä»…ä¾èµ–é¡¹`scope`ä¸º`system`æ—¶ä½¿ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœè®¾ç½®äº†æ­¤å…ƒç´ ï¼Œåˆ™å°†æ„å»ºå¤±è´¥ã€‚æ­¤è·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼Œå› æ­¤å»ºè®®ä½¿ç”¨å±æ€§æ¥æŒ‡å®šç‰¹å®šäºæœºå™¨çš„è·¯å¾„ï¼ˆæŸ¥çœ‹ä¸‹æ–‡çš„ `properties` è·å–æ›´å¤š ï¼‰ï¼Œä¾‹å¦‚`${java.home}/lib`ã€‚ç”±äºå‡è®¾ç³»ç»Ÿä½œç”¨åŸŸä¾èµ–é¡¹æ˜¯äº‹å…ˆå®‰è£…çš„ï¼Œå› æ­¤Mavenä¸ä¼šæ£€æŸ¥é¡¹ç›®çš„ä»“åº“ï¼Œè€Œæ˜¯æ£€æŸ¥ä»¥ç¡®ä¿æ–‡ä»¶å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼ŒMavenå°†æ„å»ºå¤±è´¥ï¼Œå¹¶å»ºè®®ä½ æ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£…å®ƒã€‚

*   **optional**
    
    å½“æ­¤é¡¹ç›®æœ¬èº«æ˜¯ä¾èµ–é¡¹æ—¶ï¼Œå°†ä¾èµ–é¡¹æ ‡è®°ä¸ºå¯é€‰ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä¸€ä¸ªé¡¹ç›®`A`ä¾èµ–äºé¡¹ç›®`B`æ¥ç¼–è¯‘ä¸€éƒ¨åˆ†å¯èƒ½åœ¨è¿è¡Œæ—¶ä¸ä½¿ç”¨çš„ä»£ç ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½ä¸éœ€è¦æ‰€æœ‰é¡¹ç›®éƒ½ä½¿ç”¨é¡¹ç›®`B`ã€‚å› æ­¤ï¼Œå¦‚æœé¡¹ç›®`X`æ·»åŠ é¡¹ç›®`A`ä½œä¸ºè‡ªå·±çš„ä¾èµ–é¡¹ï¼Œé‚£ä¹ˆMavenæ ¹æœ¬ä¸éœ€è¦å®‰è£…é¡¹ç›®`B`ã€‚è±¡å¾æ€§åœ°ï¼Œå¦‚æœ`=>`è¡¨ç¤ºå¿…éœ€çš„ä¾èµ–é¡¹ï¼Œè€Œ`-->`è¡¨ç¤ºå¯é€‰ï¼Œæ„å»º`A` æ—¶æœ‰`A=>B`ï¼Œä½†æ„å»º`X`æ—¶åˆ™æ˜¯ `X=>A-->B`ã€‚
    
    ç®€è€Œè¨€ä¹‹ï¼Œ`optional`è®©å…¶ä»–é¡¹ç›®çŸ¥é“ï¼Œå½“ä½ ä½¿ç”¨æ­¤é¡¹ç›®æ—¶ï¼Œä¸éœ€è¦æ­¤ä¾èµ–é¡¹ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚
    

#### ä¾èµ–ç‰ˆæœ¬éœ€æ±‚è¯´æ˜(Dependency Version Requirement Specification)

ä¾èµ–é¡¹`version`å…ƒç´ å®šä¹‰äº†ç”¨äºè®¡ç®—ä¾èµ–é¡¹ç‰ˆæœ¬çš„ç‰ˆæœ¬è¦æ±‚ã€‚è½¯éœ€æ±‚å¯ä»¥è¢«ä¾èµ–å…³ç³»å›¾ä¸­å…¶ä»–åœ°æ–¹ç›¸åŒå·¥ä»¶çš„ä¸åŒç‰ˆæœ¬æ‰€å–ä»£ã€‚ç¡¬éœ€æ±‚è¦æ±‚ç‰¹å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªç‰ˆæœ¬ï¼Œå¹¶å‡Œé©¾äºè½¯éœ€æ±‚ä¹‹ä¸Šã€‚å¦‚æœæ²¡æœ‰æ»¡è¶³è¯¥å·¥ä»¶æ‰€æœ‰ç¡¬éœ€æ±‚çš„ä¾èµ–é¡¹ç‰ˆæœ¬ï¼Œåˆ™æ„å»ºå¤±è´¥ã€‚

ç‰ˆæœ¬éœ€æ±‚å…·æœ‰ä»¥ä¸‹è¯­æ³•:

*   `1.0`: è¦æ±‚1.0ç‰ˆæœ¬(è½¯éœ€æ±‚)ã€‚å¦‚æœä¾èµ–å…³ç³»æ ‘çš„æ—©æœŸç‰ˆæœ¬ä¸­æœªå‡ºç°å…¶ä»–ç‰ˆæœ¬ï¼Œåˆ™ä½¿ç”¨1.0ã€‚
    
*   `[1.0]`: è¦æ±‚1.0ç‰ˆæœ¬ã€‚ä½¿ç”¨ä¸”ä»…ä½¿ç”¨1.0(ç¡¬éœ€æ±‚)
    
*   `(,1.0]`: è¦æ±‚<=1.0çš„ä»»æ„ç‰ˆæœ¬(ç¡¬éœ€æ±‚)
    
*   `[1.2,1.3]`: è¦æ±‚1.2è‡³1.3ï¼ˆå«1.2å’Œ1.3ï¼‰ä¹‹é—´çš„ä»»æ„ç‰ˆæœ¬(ç¡¬éœ€æ±‚)ã€‚
    
*   `[1.0,2.0)`: 1.0 <= x < 2.0; è¦æ±‚1.0åˆ°2.0ä¹‹é—´(å«1.0ï¼Œä¸å«2.0)çš„ä»»æ„ç‰ˆæœ¬(ç¡¬éœ€æ±‚)ã€‚
    
*   `[1.5,)`: è¦æ±‚å¤§äºç­‰äº1.5çš„ä»»æ„ç‰ˆæœ¬(ç¡¬éœ€æ±‚)
    
*   `(,1.0],[1.2,)`: è¦æ±‚å°äºæˆ–ç­‰äº1.0ã€å¤§äºæˆ–ç­‰äº1.2ä½†ä¸ç­‰äº1.1çš„ä»»æ„ç‰ˆæœ¬(ç¡¬éœ€æ±‚)ã€‚å¤šä¸ªéœ€æ±‚ç”¨é€—å·åˆ†éš”ã€‚
    
*   `(,1.1),(1.1,)`: è¦æ±‚é™¤1.1ä»¥å¤–çš„ä»»æ„ç‰ˆæœ¬(ç¡¬éœ€æ±‚)ï¼›å‡è®¾å› ä¸º1.1å­˜åœ¨ä¸¥é‡æ¼æ´ã€‚
    
    Mavené€‰æ‹©æ¯ä¸ªé¡¹ç›®çš„æœ€é«˜ç‰ˆæœ¬ï¼Œä»¥æ»¡è¶³è¯¥é¡¹ç›®ä¾èµ–é¡¹çš„æ‰€æœ‰ç¡¬æ€§è¦æ±‚ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªç‰ˆæœ¬èƒ½å¤Ÿæ»¡è¶³æ‰€æœ‰çš„ç¡¬æ€§è¦æ±‚ï¼Œé‚£ä¹ˆæ„å»ºå°±ä¼šå¤±è´¥ã€‚
    

#### ç‰ˆæœ¬é¡ºåºè¯´æ˜(Version Order Specification):

å¦‚æœç‰ˆæœ¬å­—ç¬¦ä¸²ä¸ºè¯­æ³•æ­£ç¡®çš„[Semantic Versioning 1.0.0](https://semver.org/spec/v1.0.0.html)ç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆåœ¨å‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹ï¼Œç‰ˆæœ¬æ¯”è¾ƒéƒ½éµå¾ªè¯¥è§„èŒƒä¸­æ¦‚è¿°çš„ä¼˜å…ˆçº§è§„åˆ™ã€‚è¿™äº›ç‰ˆæœ¬æ˜¯å¸¸è§çš„å­—æ¯æ•°å­—ASCIIå­—ç¬¦ä¸²ï¼Œå¦‚2.15.2-alphaã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œå¦‚æœè¦æ¯”è¾ƒçš„ç‰ˆæœ¬å·éƒ½ä¸è¯­ä¹‰ç‰ˆæœ¬è§„èŒƒä¸­BNFè¯­æ³•ä¸­çš„â€œæœ‰æ•ˆsemverâ€ç”Ÿæˆç›¸åŒ¹é…ï¼Œåˆ™æƒ…å†µä¹Ÿæ˜¯å¦‚æ­¤ã€‚Mavenä¸è€ƒè™‘è¯¥è§„èŒƒæ‰€éšå«çš„ä»»ä½•è¯­ä¹‰ã€‚

**é‡è¦**ï¼šè¿™ä»…é€‚ç”¨äºSemantic Versioning 1.0.0ã€‚Mavenç‰ˆæœ¬é¡ºåºç®—æ³•ä¸Semantic version_2.0.0_ä¸å…¼å®¹ã€‚ç‰¹åˆ«æ˜¯ï¼ŒMavenæ²¡æœ‰å¯¹åŠ å·è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œä¹Ÿæ²¡æœ‰è€ƒè™‘æ„å»ºæ ‡è¯†ç¬¦ã€‚

å½“ç‰ˆæœ¬å­—ç¬¦ä¸²ä¸éµå¾ªSemantic Versioningæ—¶ï¼Œéœ€è¦ä¸€ç»„æ›´å¤æ‚çš„è§„åˆ™ã€‚Mavenåæ ‡è¢«åˆ†å‰²ä¸ºç‚¹ä¹‹é—´çš„æ ‡è®°ï¼ˆ'`.`')ï¼Œhyphe

Mavenåæ ‡æŒ‰ç‚¹ï¼ˆ'`.`'ï¼‰ã€è¿å­—ç¬¦ï¼ˆ'`-`'ï¼‰ï¼Œæ•°å­—å’Œå­—ç¬¦ä¹‹é—´çš„è¿‡æ¸¡ä¹‹é—´çš„æ ‡è®°(token)è¿›è¡Œæ‹†åˆ†ã€‚åˆ†éš”ç¬¦å°†è¢«è®°å½•å¹¶å°†å¯¹é¡ºåºäº§ç”Ÿå½±å“ã€‚æ•°å­—å’Œå­—ç¬¦ä¹‹é—´çš„è¿‡æ¸¡ç›¸å½“äºè¿å­—ç¬¦ã€‚ç©ºçš„æ ‡è®°å°†æ›¿æ¢ä¸ºâ€œ`0`â€ã€‚è¿™ç»™å‡ºäº†ä¸€ç³»åˆ—å¸¦æœ‰â€œ`.`â€æˆ–â€œ`-`â€å‰ç¼€çš„ç‰ˆæœ¬å·ï¼ˆæ•°å­—æ ‡è®°ï¼‰å’Œç‰ˆæœ¬é™å®šç¬¦ï¼ˆéæ•°å­—æ ‡è®°ï¼‰(å®˜æ–¹åŸæ–‡ï¼šThe Maven coordinate is split in tokens between dots ('`.`'), hyphens ('`-`') and transitions between digits and characters. The separator is recorded and will have effect on the order. A transition between digits and characters is equivalent to a hyphen. Empty tokens are replaced with "`0`". This gives a sequence of version numbers (numeric tokens) and version qualifiers (non-numeric tokens) with "`.`" or "`-`" prefixesï¼‰

æ‹†åˆ†å’Œæ›¿æ¢ç¤ºä¾‹ï¼š

*   `1-1.foo-bar1baz-.1` -> `1-1.foo-bar-1-baz-0.1`

ç„¶åï¼Œä»ç‰ˆæœ¬çš„æœ«å°¾å¼€å§‹ï¼Œå¯¹åé¢çš„â€œnullâ€å€¼ï¼ˆ`0`ï¼Œ`""`,"`final`"ï¼Œ"`ga`"ï¼‰è¿›è¡Œä¿®å‰ªã€‚åœ¨æ¯ä¸€ä¸ªå‰©ä½™çš„è¿å­—ç¬¦ä¸Šä»å¤´åˆ°å°¾é‡å¤æ­¤è¿‡ç¨‹ã€‚

ä¿®å‰ªç¤ºä¾‹:

*   `1.0.0` -> `1`
*   `1.ga` -> `1`
*   `1.final` -> `1`
*   `1.0` -> `1`
*   `1.` -> `1`
*   `1-` -> `1`
*   `1.0.0-foo.0.0` -> `1-foo`
*   `1.0.0-0.0.0` -> `1`

ç‰ˆæœ¬é¡ºåºæ˜¯è¿™ä¸ªå¸¦å‰ç¼€çš„tokenåºåˆ—ä¸Šçš„â€œè¯å…¸é¡ºåºâ€ï¼Œå¸¦æœ‰åŒ¹é…å‰ç¼€çš„è¾ƒçŸ­tokenï¼Œå¡«å……äº†è¶³å¤Ÿå¤šçš„çš„â€œnullâ€å€¼ï¼Œä¸è¾ƒé•¿çš„tokené•¿åº¦ç›¸åŒã€‚å¡«å……çš„â€œnullâ€å€¼å–å†³äºå…¶ä»–ç‰ˆæœ¬çš„å‰ç¼€ï¼š0è¡¨ç¤ºâ€œ.â€ï¼Œ"" ä»£è¡¨ '-'ã€‚å¸¦å‰ç¼€çš„tokené¡ºåºä¸ºï¼š

*   å¦‚æœå‰ç¼€ç›¸åŒï¼Œåˆ™æ¯”è¾ƒtoken:
    
    *   å­—æ ‡å‹tokenæŒ‰è‡ªç„¶é¡ºåºæ’åºã€‚
        
    *   éæ•°å­—å‹tokenï¼ˆâ€œé™å®šç¬¦â€ï¼‰æŒ‰å­—æ¯é¡ºåºæ’åºï¼Œé™¤äº†ä¸‹tokenæŒ‰æ­¤é¡ºåºæ’åˆ—åœ¨å‰ï¼š
        
        "`alpha`" < "`beta`" < "`milestone`" < "`rc`" = "`cr`" < "`snapshot`" < "" = "`final`" = "`ga`" < "`sp`"
        
        *   å½“å…¶åç›´æ¥è·Ÿæ•°å­—æ—¶ï¼Œ"`alpha`", "`beta`" å’Œ"`milestone`"å¯ä»¥åˆ†åˆ«ç¼©å†™ä¸º"a", "b"å’Œ"m"
*   å¦ "`.qualifier`" = "`-qualifier`" < "`-number`" < "`.number`"
    
*   `alpha` = `a` <<\> = `b` <<<milestone>> = `m` <\> = `cr` <<<snapshot>> '<<<>>' = `final` = `ga` = `release` < `sp`
    

å»ºè®®éµå¾ªsemverè§„åˆ™ï¼Œä¸å»ºè®®ä½¿ç”¨æŸäº›ä¿®é¥°ï¼š

*   '`alpha`', '`beta`', å’Œ'`milestone`' ä¿®é¥°ç¬¦ä¼˜å…ˆäº '`ea`' å’Œ'`preview`'.
*   '`1.0.0-RC1`'' ä¼˜å…ˆäº'`1.0.0.RC1`'.
*   ä¸æ¨èä½¿ç”¨ '`CR`'é™å®šç¬¦ï¼Œæ”¹ç”¨'`RC`'ã€‚
*   ä¸å»ºè®®ä½¿ç”¨ '`final`', '`ga`'å’Œ'`release`' é™å®šç¬¦
*   ä¸å»ºè®®ä½¿ç”¨ '`SP`' é™å®šç¬¦ã€‚å¢åŠ è¡¥ä¸ç‰ˆæœ¬å·(patch version)

æœ€ç»ˆç»“æœç¤ºä¾‹:

*   "`1`" < "`1.1`" (æ•°å­—å¡«å……)
    
*   "`1-snapshot`" < "`1`" < "`1-sp`" (é™å®šç¬¦å¡«å……)
    
*   "`1-foo2`" < "`1-foo10`" (æ­£ç¡®è‡ªåŠ¨çš„"åˆ‡æ¢"ä¸ºæ•°å­—é¡ºåº)
    
*   "`1.foo`" = "`1-foo`" < "`1-1`" < "`1.1`"
    
*   "`1.ga`" = "`1-ga`" = "`1-0`" = "`1.0`" = "`1`" (ç§»é™¤æœ«å°¾"null"å€¼)
    
*   "`1-sp`" > "`1-ga`"
    
*   "`1-sp.1`" > "`1-ga.1`"
    
*   "`1-sp-1`" < "`1-ga-1`" = "`1-1`" (æ¯ä¸ªè¿å­—ç¬¦åé¢çš„"null"å€¼)
    
*   "`1-a1`" = "`1-alpha-1`"
    
    æ³¨æ„ï¼šä¸ä¸€äº›è®¾è®¡æ–‡æ¡£ä¸­æ‰€è¿°çš„ç›¸åï¼Œå¯¹äºç‰ˆæœ¬é¡ºåºï¼Œsnapshotä¸releaseæˆ–ä»»ä½•å…¶ä»–é™å®šç¬¦æ²¡æœ‰åŒºåˆ«å¯¹å¾…ã€‚
    
    æ³¨æ„ï¼šç”±äº`2.0-rc1`<`2.0`ï¼Œç‰ˆæœ¬è¦æ±‚`[1.0,2.0ï¼‰`ä¸åŒ…æ‹¬`2.0`ä½†åŒ…æ‹¬`2.0-rc1` ï¼Œè¿™ä¸å¤§å¤šæ•°äººçš„é¢„æœŸç›¸åã€‚æ­¤å¤–ï¼ŒGradleå¯¹å®ƒçš„è§£é‡Šä¸åŒï¼Œå¯¼è‡´åŒä¸€POMçš„ä¾èµ–æ ‘ä¸åŒã€‚å¦‚æœæ‰“ç®—å°†å…¶é™åˆ¶ä¸º1.\*ç‰ˆæœ¬ï¼Œåˆ™æ›´å¥½çš„ç‰ˆæœ¬å·è¦æ±‚æ˜¯`[1,1.9999999)`ã€‚
    

#### æ’é™¤

é™åˆ¶ä¾èµ–é¡¹çš„å¯ä¼ é€’ä¾èµ–é¡¹æœ‰æ—¶å¾ˆæœ‰ç”¨ã€‚ä¾èµ–é¡¹å¯èƒ½å…·æœ‰é”™è¯¯æŒ‡å®šçš„ä½œç”¨åŸŸï¼Œæˆ–è€…ä¸é¡¹ç›®ä¸­çš„å…¶ä»–ä¾èµ–é¡¹å†²çªçš„ä¾èµ–é¡¹ã€‚`exclusions`å‘Šè¯‰Mavenä¸è¦åœ¨classpathä¸­åŒ…å«æŒ‡å®šçš„å·¥ä»¶ï¼Œå³ä½¿å®ƒæ˜¯è¯¥é¡¹ç›®çš„ä¸€ä¸ªæˆ–å¤šä¸ªä¾èµ–é¡¹çš„ä¾èµ–é¡¹ï¼ˆä¼ é€’ä¾èµ–é¡¹ï¼‰ã€‚ä¾‹å¦‚ï¼Œ `maven-embedder` ä¾èµ–äº`maven-core`ã€‚å‡è®¾æ‚¨æƒ³ä¾èµ–`maven-embedder`ï¼Œä½†ä¸æƒ³åœ¨classpathä¸­åŒ…å«`maven-core`æˆ–å…¶ä¾èµ–é¡¹ï¼Œé‚£ä¹ˆåœ¨å£°æ˜ä¾èµ– `maven-embedder`çš„å…ƒç´ ä¸­æ·»åŠ `maven-core` ä½œä¸º`exclusion`ï¼š

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <dependencies>
        <dependency>
          <groupId>org.apache.maven</groupId>
          <artifactId>maven-embedder</artifactId>
          <version>3.9.3</version>
          <exclusions>
            <exclusion>
              <groupId>org.apache.maven</groupId>
              <artifactId>maven-core</artifactId>
            </exclusion>
          </exclusions>
        </dependency>
        ...
      </dependencies>
      ...
    </project>
    

è¿™åªä¼šä»è¿™ä¸ªä¾èµ–é¡¹ä¸­åˆ é™¤æŒ‡å‘`maven-core`çš„è·¯å¾„ã€‚å¦‚æœ`maven-core`åœ¨POMçš„å…¶ä»–åœ°æ–¹ä½œä¸ºç›´æ¥æˆ–ä¼ é€’ä¾èµ–å‡ºç°ï¼Œé‚£ä¹ˆå®ƒä»ç„¶å¯ä»¥æ·»åŠ åˆ°classpathå¾„ä¸­ã€‚

é€šé…ç¬¦æ’é™¤ï¼Œå¾ˆå®¹æ˜“æ’é™¤ä¾èµ–é¡¹çš„æ‰€æœ‰å¯ä¼ é€’ä¾èµ–é¡¹ã€‚åœ¨ä»¥ä¸‹æƒ…å†µä¸­ï¼Œå‡è®¾ä½ æ­£åœ¨ä½¿ç”¨`maven-embedder`ï¼Œå¹¶ä¸”ä½ å¸Œæœ›ç®¡ç†ä½ ä½¿ç”¨çš„ä¾èµ–é¡¹ï¼Œå› æ­¤ä½ æ’é™¤äº†æ‰€æœ‰ä¼ é€’ä¾èµ–é¡¹ï¼š

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <dependencies>
        <dependency>
          <groupId>org.apache.maven</groupId>
          <artifactId>maven-embedder</artifactId>
          <version>3.8.6</version>
          <exclusions>
            <exclusion>
              <groupId>*</groupId>
              <artifactId>*</artifactId>
            </exclusion>
          </exclusions>
        </dependency>
        ...
      </dependencies>
      ...
    </project>
    

*   **exclusions**: `exclusions`åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª`exclusion` å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½åŒ…å«è¡¨ç¤ºè¦æ’é™¤çš„ä¾èµ–é¡¹çš„`groupId` å’Œ`artifactId` ã€‚ä¸å¯èƒ½å®‰è£…å’Œä½¿ç”¨ï¼Œä¹Ÿå¯èƒ½ä¸å®‰è£…å’Œä½¿ç”¨çš„`optional`ä¸åŒï¼Œ`exclusions` ä¼šä¸»åŠ¨ä»ä¾èµ–æ ‘ä¸­ç§»é™¤å·¥ä»¶ã€‚

### ç»§æ‰¿

Mavenä¸ºæ„å»ºç®¡ç†å¸¦æ¥çš„ä¸€ä¸ªå¼ºå¤§çš„è¡¥å……æ˜¯é¡¹ç›®ç»§æ‰¿çš„æ¦‚å¿µã€‚

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      <modelVersion>4.0.0</modelVersion>
     
      <groupId>org.codehaus.mojo</groupId>
      <artifactId>my-parent</artifactId>
      <version>2.0</version>
      <packaging>pom</packaging>
    </project>
    

Now we may add values to the parent POM, which will be inherited by its children. Most elements from the parent POM are inherited by its children, including

å¯¹äº_parent_å’Œ_aggregation_ï¼ˆå¤šæ¨¡å—ï¼‰é¡¹ç›®ï¼Œè¦æ±‚`packaging` ç±»å‹ä¸º`pom` ã€‚è¿™äº›ç±»å‹å®šä¹‰äº†ç»‘å®šåˆ°ä¸€ç»„ç”Ÿå‘½å‘¨æœŸé˜¶æ®µçš„ç›®æ ‡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ`packaging` ç±»å‹æ˜¯`jar`ï¼Œé‚£ä¹ˆ`packaging`é˜¶æ®µå°†æ‰§è¡Œ`jar:jar`ç›®æ ‡ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º`parent` æ·»åŠ å€¼ï¼Œè¯¥å€¼å°†ç”±å…¶å­ä»£ç»§æ‰¿ã€‚`parent`çš„å¤§å¤šæ•°å…ƒç´ ç”±å…¶å­ä»£ç»§æ‰¿ï¼ŒåŒ…æ‹¬:

*   groupId
*   version
*   description
*   url
*   inceptionYear
*   organization
*   licenses
*   developers
*   contributors
*   mailingLists
*   scm
*   issueManagement
*   ciManagement
*   properties
*   dependencyManagement
*   dependencies
*   repositories
*   pluginRepositories
*   build
    *   plugin executions with matching ids
    *   plugin configuration
    *   etc.
*   reporting
*   profiles

å€¼å¾—æ³¨æ„æ˜¯ä»¥ä¸‹å…ƒç´ ä¸è¢«ç»§æ‰¿:

*   artifactId
    
*   name
    
*   prerequisites
    

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      <modelVersion>4.0.0</modelVersion>
     
      <parent>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>my-parent</artifactId>
        <version>2.0</version>
        <relativePath>../my-parent</relativePath>
      </parent>
     
      <artifactId>my-project</artifactId>
    </project>
    

æ³¨æ„`relativePath`å…ƒç´ ï¼Œè¿™ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†å¯ä»¥ä½œä¸ºMavençš„ä¸€ä¸ªæ„ç¬¦ï¼Œå®ç°åœ¨æœç´¢æœ¬åœ°å’Œè¿œç¨‹ä»“åº“ä¹‹å‰ï¼Œé¦–å…ˆæœç´¢ä¸ºçˆ¶é¡¹ç›®æä¾›çš„è·¯å¾„ï¼Œå³`relativePath`è®¾ç½®çš„å€¼ã€‚

#### Super POM

ç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¯¹è±¡ç»§æ‰¿ï¼Œæ‰©å±•çˆ¶POMçš„POMä»è¯¥çˆ¶POMç»§æ‰¿æŸäº›å€¼ã€‚æ­¤å¤–ï¼Œæ­£å¦‚Javaå¯¹è±¡æœ€ç»ˆç»§æ‰¿è‡ª`java.lang.Object`ä¸€æ ·ï¼Œæ‰€æœ‰é¡¹ç›®å¯¹è±¡æ¨¡å‹éƒ½ç»§æ‰¿è‡ªä¸€ä¸ªåŸºæœ¬çš„Super POMã€‚ä¸‹é¢çš„ç‰‡æ®µæ˜¯Maven 3.5.4çš„Super POM

    <project>
      <modelVersion>4.0.0</modelVersion>
     
      <repositories>
        <repository>
          <id>central</id>
          <name>Central Repository</name>
          <url>https://repo.maven.apache.org/maven2</url>
          <layout>default</layout>
          <snapshots>
            <enabled>false</enabled>
          </snapshots>
        </repository>
      </repositories>
     
      <pluginRepositories>
        <pluginRepository>
          <id>central</id>
          <name>Central Repository</name>
          <url>https://repo.maven.apache.org/maven2</url>
          <layout>default</layout>
          <snapshots>
            <enabled>false</enabled>
          </snapshots>
          <releases>
            <updatePolicy>never</updatePolicy>
          </releases>
        </pluginRepository>
      </pluginRepositories>
     
      <build>
        <directory>${project.basedir}/target</directory>
        <outputDirectory>${project.build.directory}/classes</outputDirectory>
        <finalName>${project.artifactId}-${project.version}</finalName>
        <testOutputDirectory>${project.build.directory}/test-classes</testOutputDirectory>
        <sourceDirectory>${project.basedir}/src/main/java</sourceDirectory>
        <scriptSourceDirectory>${project.basedir}/src/main/scripts</scriptSourceDirectory>
        <testSourceDirectory>${project.basedir}/src/test/java</testSourceDirectory>
        <resources>
          <resource>
            <directory>${project.basedir}/src/main/resources</directory>
          </resource>
        </resources>
        <testResources>
          <testResource>
            <directory>${project.basedir}/src/test/resources</directory>
          </testResource>
        </testResources>
        <pluginManagement>
          <!-- NOTE: These plugins will be removed from future versions of the super POM -->
          <!-- They are kept for the moment as they are very unlikely to conflict with lifecycle mappings (MNG-4453) -->
          <plugins>
            <plugin>
              <artifactId>maven-antrun-plugin</artifactId>
              <version>1.3</version>
            </plugin>
            <plugin>
              <artifactId>maven-assembly-plugin</artifactId>
              <version>2.2-beta-5</version>
            </plugin>
            <plugin>
              <artifactId>maven-dependency-plugin</artifactId>
              <version>2.8</version>
            </plugin>
            <plugin>
              <artifactId>maven-release-plugin</artifactId>
              <version>2.5.3</version>
            </plugin>
          </plugins>
        </pluginManagement>
      </build>
     
      <reporting>
        <outputDirectory>${project.build.directory}/site</outputDirectory>
      </reporting>
     
      <profiles>
        <!-- NOTE: The release profile will be removed from future versions of the super POM -->
        <profile>
          <id>release-profile</id>
     
          <activation>
            <property>
              <name>performRelease</name>
              <value>true</value>
            </property>
          </activation>
     
          <build>
            <plugins>
              <plugin>
                <inherited>true</inherited>
                <artifactId>maven-source-plugin</artifactId>
                <executions>
                  <execution>
                    <id>attach-sources</id>
                    <goals>
                      <goal>jar-no-fork</goal>
                    </goals>
                  </execution>
                </executions>
              </plugin>
              <plugin>
                <inherited>true</inherited>
                <artifactId>maven-javadoc-plugin</artifactId>
                <executions>
                  <execution>
                    <id>attach-javadocs</id>
                    <goals>
                      <goal>jar</goal>
                    </goals>
                  </execution>
                </executions>
              </plugin>
              <plugin>
                <inherited>true</inherited>
                <artifactId>maven-deploy-plugin</artifactId>
                <configuration>
                  <updateReleaseInfo>true</updateReleaseInfo>
                </configuration>
              </plugin>
            </plugins>
          </build>
        </profile>
      </profiles>
     
    </project>
    

ä½ å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæœ€å°åŒ–çš„`pom.xml`å¹¶åœ¨å‘½ä»¤è¡Œä¸Šæ‰§è¡Œï¼š`mvn help:effective-pom`æ¥äº†è§£Super POMå¦‚ä½•å½±å“ä½ çš„é¡¹ç›®å¯¹è±¡æ¨¡å‹

#### ä¾èµ–ç®¡ç†

é™¤äº†ç»§æ‰¿æŸäº›é¡¶çº§å…ƒç´ å¤–ï¼Œ`parent`è¿˜æ‹¥æœ‰ä¸€äº›å…ƒç´ ï¼Œå¯ä»¥ä¸ºå­POMå’Œä¼ é€’ä¾èµ–é¡¹é…ç½®å€¼ã€‚å…¶ä¸­ä¸€ä¸ªè¦ç´ æ˜¯`dependencyManagement`ã€‚

*   **`dependencyManagement`**ï¼šç”±POMç”¨æ¥å¸®åŠ©ç®¡ç†å…¶æ‰€æœ‰å­çº§çš„ä¾èµ–å…³ç³»ä¿¡æ¯ã€‚å¦‚æœ`my-parent`ä½¿ç”¨`dependencyManagement`å®šä¹‰å¯¹`junit:junit:4.12`çš„ä¾èµ–ï¼Œé‚£ä¹ˆä»è¿™ä¸ªé¡¹ç›®ç»§æ‰¿çš„POMè®¾ç½®ä»–ä»¬çš„ä¾èµ–é¡¹æ—¶å¯ä»¥ä»…æä¾›`groupId=junit`å’Œ`artifactId=junit`ï¼Œ`version`å°†è¢«Mavenå¡«å……ä¸ºçˆ¶é¡¹ç›®è®¾ç½®çš„ç‰ˆæœ¬ã€‚è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚å¯ä»¥é›†ä¸­åœ¨ä¸€ä¸ªä¸­å¿ƒä½ç½®è®¾ç½®ä¾èµ–å…³ç³»è¯¦ç»†ä¿¡æ¯ï¼Œå¹¶ä¼ æ’­åˆ°æ‰€æœ‰ç»§æ‰¿çš„POMã€‚
    
    è¯·æ³¨æ„ï¼Œä»å¯ä¼ é€’ä¾èµ–é¡¹åˆå¹¶çš„å·¥ä»¶çš„ç‰ˆæœ¬å’Œä½œç”¨åŸŸä¹Ÿç”±ä¾èµ–é¡¹ç®¡ç†éƒ¨åˆ†ä¸­çš„ç‰ˆæœ¬è§„èŒƒæ§åˆ¶ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„åæœã€‚è€ƒè™‘ä¸€ä¸ªé¡¹ç›®ä½¿ç”¨ä¸¤ä¸ªä¾èµ–é¡¹`dep1`å’Œ`dep2`çš„æƒ…å†µã€‚`dep2`åè¿‡æ¥ä¹Ÿä½¿ç”¨dep1ï¼Œå¹¶ä¸”éœ€è¦ç‰¹å®šçš„æœ€ä½ç‰ˆæœ¬æ‰èµ·ä½œç”¨ã€‚å¦‚æœéšåä½¿ç”¨`dependencyManagement`æŒ‡å®šè¾ƒæ—§ç‰ˆæœ¬ï¼Œ`dep2`å°†è¢«è¿«ä½¿ç”¨è¾ƒæ—§ç‰ˆæœ¬ï¼Œå› æ­¤å¤±è´¥ã€‚å› æ­¤ï¼Œæ‚¨å¿…é¡»å°å¿ƒæ£€æŸ¥æ•´ä¸ªä¾èµ–æ ‘ï¼Œä»¥é¿å…å‡ºç°æ­¤é—®é¢˜ï¼›`mvn dependency:tree`å¾ˆæœ‰å¸®åŠ©ã€‚
    

### èšåˆ(æˆ–å¤šæ¨¡å—)

A project with modules is known as a multi-module, or aggregator project. Modules are projects that this POM lists, and are executed as a group. A `pom` packaged project may aggregate the build of a set of projects by listing them as modules, which are relative paths to the directories or the POM files of those projects.

åŒ…å«æ¨¡å—çš„é¡¹ç›®ç§°ä¸ºå¤šæ¨¡å—æˆ–èšåˆé¡¹ç›®ã€‚æ¨¡å—æ˜¯æœ¬POMåˆ—å‡ºçš„é¡¹ç›®ï¼Œå¹¶ä½œä¸ºä¸€ä¸ªç»„æ‰§è¡Œã€‚`pom` æ‰“åŒ…é¡¹ç›®å¯ä»¥é€šè¿‡å°†ä¸€ç³»åˆ—é¡¹ç›®åˆ—ä¸ºæ¨¡å—(é¡¹ç›®ç›®å½•æˆ–pomæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„)æ¥èšåˆæ„å»ºã€‚

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      <modelVersion>4.0.0</modelVersion>
     
      <groupId>org.codehaus.mojo</groupId>
      <artifactId>my-parent</artifactId>
      <version>2.0</version>
      <packaging>pom</packaging>
     
      <modules>
        <module>my-project</module>
        <module>another-project</module>
        <module>third-project/pom-example.xml</module>
      </modules>
    </project>
    

åœ¨åˆ—å‡ºæ¨¡å—æ—¶ï¼Œä½ ä¸éœ€è¦è‡ªå·±è€ƒè™‘æ¨¡å—é—´çš„ä¾èµ–å…³ç³»ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±POMç»™å‡ºçš„æ¨¡å—çš„æ’åºå¹¶ä¸é‡è¦ã€‚Mavenå°†å¯¹æ¨¡å—è¿›è¡Œæ‹“æ‰‘æ’åºï¼Œè¿™æ ·ä¾èµ–å…³ç³»æ€»æ˜¯åœ¨ä¾èµ–æ¨¡å—ä¹‹å‰æ„å»ºã€‚

å±æ€§(Properties)
--------------

Properties are the last required piece to understand POM basics. Maven properties are value placeholders, like properties in Ant. Their values are accessible anywhere within a POM by using the notation `${X}`, where `X` is the property. Or they can be used by plugins as default values, for example:

`properties`æ˜¯ç†è§£POMåŸºç¡€çŸ¥è¯†æ‰€éœ€çš„æœ€åä¸€éƒ¨åˆ†ã€‚Maven `properties`æ˜¯å€¼å ä½ç¬¦ï¼Œç±»ä¼¼äºAntä¸­çš„`properties`ã€‚é€šè¿‡ä½¿ç”¨ç¬¦å·`${X}`ï¼Œå¯ä»¥åœ¨POMä¸­çš„ä»»ä½•ä½ç½®è®¿é—®`properties`çš„å€¼ï¼Œå…¶ä¸­`X`æ˜¯`property`ã€‚æˆ–è®¸å®ƒä»¬å¯ä»¥è¢«æ’ä»¶ç”¨ä½œé»˜è®¤å€¼ï¼Œä¾‹å¦‚ï¼š

    <project>
      ...
      <properties>
        <maven.compiler.source>1.7</maven.compiler.source>
        <maven.compiler.target>1.7</maven.compiler.target>
        <!-- Following project.-properties are reserved for Maven in will become elements in a future POM definition. -->
        <!-- Don't start your own properties properties with project. -->
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding> 
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
      </properties>
      ...
    </project>
    

`properties`å…·æœ‰5ç§ä¸åŒçš„é£æ ¼:

1.  `env.X`ï¼šåœ¨å±æ€§å˜é‡å‰åŠ å‰ç¼€`env.`å°†è¿”å›shellç¯å¢ƒå˜é‡ã€‚ä¾‹å¦‚ï¼Œ`${env.PATH}`å°†è¿”å›`PATH`ç¯å¢ƒå˜é‡å€¼ã€‚
    
    æ³¨æ„ï¼šè™½ç„¶ç¯å¢ƒå˜é‡æœ¬èº«åœ¨Windowsä¸Šä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†`properties`çš„æŸ¥æ‰¾æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚æ¢å¥è¯è¯´ï¼Œè™½ç„¶Windows shellä¸º`%PATH%`å’Œ`%Path%`è¿”å›ç›¸åŒçš„å€¼ï¼Œä½†MavenåŒºåˆ†`${env.PATH}`å’Œ`${env.Path}`ã€‚ä¸ºäº†å¯é æ€§ï¼Œ**å°†ç¯å¢ƒå˜é‡çš„åç§°éƒ½æ ‡å‡†åŒ–ä¸ºå¤§å†™**ã€‚
    
2.  `project.x`: POMä¸­ç‚¹åˆ†è·¯å¾„å°†åŒ…å«ç›¸åº”å…ƒç´ çš„å€¼ã€‚ä¾‹å¦‚ï¼šé€šè¿‡`${project.version}`è·å–`version`å±æ€§å€¼`1.0`
    
3.  `settings.x`ï¼š`settings.xml`ç‚¹åˆ†è·¯å¾„å°†åŒ…å«ç›¸åº”å…ƒç´ çš„å€¼ã€‚ä¾‹å¦‚ï¼šé€šè¿‡`${settings.offline}` è·å–`offline`å±æ€§å€¼`false`
    
4.  Javaç³»ç»Ÿå±æ€§ï¼šæ‰€æœ‰å¯é€šè¿‡`Java.lang.System.getProperties()`è®¿é—®çš„å±æ€§éƒ½å¯ç”¨ä½œPOMå±æ€§ï¼Œæ¯”å¦‚ `${java.home}`
    
5.  `x`: åœ¨POMä¸­çš„å…ƒç´ å†…è®¾ç½®ã€‚`<properties><someVar>value</someVar></properties>`çš„å€¼`value`å¯ä»¥ç”¨ä½œ`${someVar}`ã€‚
    

æ„å»ºè®¾ç½®
====

Build
-----

æ ¹æ®POM 4.0.0 XSDï¼Œ`build` å…ƒç´ åœ¨æ¦‚å¿µä¸Šåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªæ˜¯`BaseBuild` ç±»å‹ï¼Œå®ƒåŒ…å«ä¸¤ä¸ª`build` å…ƒç´ å…±æœ‰çš„ä¸€ç³»åˆ—å…ƒç´ ï¼ˆ`project`ä¸‹çš„é¡¶çº§`build`å…ƒç´ å’Œ`profiles`ä¸‹çš„`build`å…ƒä»¶ï¼Œå¦‚ä¸‹æ‰€è¿°ï¼‰ï¼›å¦ä¸€ä¸ªæ˜¯`Build`ç±»å‹ï¼ŒåŒ…å«`BaseBuild`å…ƒç´ é›†ä»¥åŠç”¨äºé¡¶å±‚å®šä¹‰çš„æ›´å¤šå…ƒç´ ã€‚

_æ³¨æ„ï¼šè¿™äº›ä¸åŒçš„_`build`_å…ƒç´ å¯ä»¥è¡¨ç¤ºä¸ºâ€œProject Buildâ€å’Œâ€œProfile Buildâ€_

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <!-- "Project Build" contains more elements than just the BaseBuild set -->
      <build>...</build>
     
      <profiles>
        <profile>
          <!-- "Profile Build" contains a subset of "Project Build"s elements -->
          <build>...</build>
        </profile>
      </profiles>
    </project>
    

### BaseBuildå…ƒç´ é›†

`BaseBuild`ï¼šPOMä¸­ä¸¤ä¸ª`build`å…ƒç´ ä¹‹é—´çš„åŸºæœ¬å…ƒç´ é›†ã€‚

    <build>
      <defaultGoal>install</defaultGoal>
      <directory>${basedir}/target</directory>
      <finalName>${artifactId}-${version}</finalName>
      <filters>
        <filter>filters/filter1.properties</filter>
      </filters>
      ...
    </build>
    

*   **defaultGoal**: å¦‚æœä»€ä¹ˆéƒ½æ²¡æœ‰ç»™å®šæ—¶ï¼Œé»˜è®¤æ‰§è¡Œçš„ç›®æ ‡(goal)æˆ–é˜¶æ®µ(phase)ã€‚å¦‚æœç»™å®šäº†ä¸€ä¸ªç›®æ ‡ï¼Œé‚£ä¹ˆåº”è¯¥å’Œåœ¨å‘½ä»¤è¡Œä¸­ä¸€æ ·å®šä¹‰å®ƒï¼ˆä¾‹å¦‚`jar:jar`ï¼‰ã€‚å¦‚æœå®šä¹‰äº†ä¸€ä¸ªé˜¶æ®µï¼ˆä¾‹å¦‚installï¼‰ï¼Œæƒ…å†µä¹Ÿæ˜¯å¦‚æ­¤ã€‚
    
*   **directory**: è¿™æ˜¯æ„å»ºå°†è½¬å‚¨å…¶æ–‡ä»¶ï¼Œæˆ–è€…ç”¨Mavençš„æœ¯è¯­ï¼Œå…¶æ„å»ºç›®æ ‡çš„ç›®å½•ã€‚å®ƒæ°å½“åœ°é»˜è®¤ä¸º`${basedir}/target`ã€‚
    
*   **finalName**: è¿™æ˜¯ç»‘å®šé¡¹ç›®æœ€ç»ˆè¢«æ„å»ºçš„åç§°ï¼ˆæ²¡æœ‰æ–‡ä»¶æ‰©å±•åï¼Œä¾‹å¦‚ï¼š`my-project-1.0.jar`ï¼‰ã€‚é»˜è®¤ä¸º`${artifactId}-${version}`ã€‚ç„¶è€Œï¼Œæœ¯è¯­`finalName`æœ‰ç‚¹ç”¨è¯ä¸å½“ï¼Œå› ä¸ºæ„å»ºç»‘å®šé¡¹ç›®çš„æ’ä»¶å®Œå…¨æœ‰æƒå¿½ç•¥ã€ä¿®æ”¹è¿™ä¸ªåç§°ï¼ˆé€šå¸¸ä¸ä¼šï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ`maven-jar-plugin`è¢«é…ç½®ä¸ºç»™æŸä¸ªjarä¸€ä¸ª`test`çš„`classifier` ï¼Œé‚£ä¹ˆä¸Šé¢å®šä¹‰çš„jarå®é™…å°†è¢«æ„å»ºä¸º`my-project-1.0-test.jar`ã€‚
    
*   **filter**ï¼šå®šä¹‰`*.properties`æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å«åº”ç”¨äºæ¥å—å…¶è®¾ç½®çš„èµ„æºçš„å±æ€§åˆ—è¡¨ï¼ˆå¦‚ä¸‹æ‰€è¿°ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œ`filter`æ–‡ä»¶ä¸­å®šä¹‰çš„ "`name=value`"å¯¹å°†åœ¨æ„å»ºæ—¶æ›¿æ¢èµ„æºä¸­çš„`${name}`å­—ç¬¦ä¸²ã€‚ä¸Šé¢çš„ç¤ºä¾‹å®šä¹‰äº†ä½äº`filters/`ç›®å½•ä¸‹çš„`filter1.properties`æ–‡ä»¶ã€‚Mavençš„é»˜è®¤filterç›®å½•ä¸º`${basedir}/src/main/filters/`ã€‚
    
    è¦æ›´å…¨é¢åœ°äº†è§£filteræ˜¯ä»€ä¹ˆä»¥åŠå®ƒä»¬å¯ä»¥åšä»€ä¹ˆï¼Œè¯·æŸ¥çœ‹[å¿«é€Ÿå…¥é—¨æŒ‡å—](https://maven.apache.org/guides/getting-started)
    
*   For a more comprehensive look at what filters are and what they can do, take a look at the [quick start guide](https://maven.apache.org/guides/getting-started).
    
        *.properties
        
    
    files that contain a list of properties that apply to resources which accept their settings (covered below). In other words, the "
    
        name=value
        
    
    " pairs defined within the filter files replace
    
        ${name}
        
    
    strings within resources on build. The example above defines the
    
        filter1.properties
        
    
    file under the
    
        filters/
        
    
    directory. Maven's default filter directory is
    
        ${basedir}/src/main/filters/
        
    
    .
    
    For a more comprehensive look at what filters are and what they can do, take a look at the [quick start guide](https://maven.apache.org/guides/getting-started).
    

#### èµ„æº(Resources)

`build` å…ƒç´ çš„å¦ä¸€ä¸ªåŠŸèƒ½æ˜¯æŒ‡å®šé¡¹ç›®ä¸­èµ„æºçš„ä½ç½®ã€‚èµ„æºä¸æ˜¯(é€šå¸¸)ä»£ç ã€‚å®ƒä»¬ä¸è¢«ç¼–è¯‘ï¼Œä½†æ˜¯éœ€è¦æ†ç»‘åœ¨é¡¹ç›®ä¸­æˆ–ç”¨äºå…¶å®ƒå„ç§éœ€è¦ï¼ˆå¦‚ä»£ç ç”Ÿæˆï¼‰ã€‚

ä¾‹å¦‚ï¼ŒæŸä¸ªPlexusé¡¹ç›®éœ€è¦ä¸€ä¸ªä½äº`META-INF/plexus`ç›®å½•ä¸­çš„`configuration.xml` æ–‡ä»¶ï¼ˆè¯¥æ–‡ä»¶æŒ‡å®šå®¹å™¨çš„ç»„ä»¶é…ç½®ï¼‰ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†æ­¤æ–‡ä»¶æ”¾ç½®åœ¨`src/main/resources/META-INF/plexus`ä¸­ï¼Œä½†æˆ‘ä»¬å¸Œæœ›ä¸ºplexusæä¾›è‡ªå·±çš„`src/main/plexus`ç›®å½•ã€‚ä¸ºäº†è®©JARæ’ä»¶æ­£ç¡®åœ°ç»‘å®šèµ„æºï¼Œä½ å¯ä»¥æŒ‡å®šç±»ä¼¼äºä»¥ä¸‹èµ„æº:

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      <build>
        ...
        <resources>
          <resource>
            <targetPath>META-INF/plexus</targetPath>
            <filtering>false</filtering>
            <directory>${basedir}/src/main/plexus</directory>
            <includes>
              <include>configuration.xml</include>
            </includes>
            <excludes>
              <exclude>**/*.properties</exclude>
            </excludes>
          </resource>
        </resources>
        <testResources>
          ...
        </testResources>
        ...
      </build>
    </project>
    

*   **resources**: æ˜¯ä¸€ä¸ªèµ„æºå…ƒç´ åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æè¿°äº†åŒ…å«ä¸æ­¤é¡¹ç›®ç›¸å…³è”çš„æ–‡ä»¶çš„å†…å®¹å’Œä½ç½®ã€‚
*   **targetPath**: æŒ‡å®šç”¨äºæ”¾ç½®æ¥è‡ªæ„å»ºçš„èµ„æºé›†çš„ç›®å½•ç»“æ„ã€‚`targetPath`é»˜è®¤ä¸ºåŸºç›®å½•(baseç›®å½•)ã€‚é€šå¸¸ä¸ºå°†æ‰“åŒ…åœ¨JARä¸­çš„èµ„æºæŒ‡å®šçš„`targetPath`ä¸º`META-INF`ã€‚
*   **filtering**: `true` æˆ–è€…`false`, è¡¨ç¤ºæ˜¯å¦è¦ä¸ºæ­¤èµ„æºå¯ç”¨è¿‡æ»¤ã€‚è¯·æ³¨æ„ï¼Œè¿‡æ»¤å™¨`*.properties`æ–‡ä»¶ä¸å®šä¹‰ä¹Ÿå¯è¿›è¡Œè¿‡æ»¤-èµ„æºä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤æƒ…å†µä¸‹åœ¨POMä¸­å®šä¹‰çš„`properties`ï¼ˆå¦‚`${project.version}`ï¼‰ï¼Œä½¿ç”¨`-D`æ ‡å¿—(ä¾‹å¦‚ï¼Œ"`-Dname`\=`value`")ä¼ é€’åˆ°å‘½ä»¤è¡Œæˆ–ç”±`properties`å…ƒç´ æ˜¾å¼å®šä¹‰çš„å±æ€§ã€‚
*   **directory**: `${basedir}/src/main/resources`.æ­¤å…ƒç´ çš„å€¼å®šä¹‰äº†èµ„æºçš„æŸ¥æ‰¾ä½ç½®ã€‚æ„å»ºçš„é»˜è®¤ç›®å½•æ˜¯`${basedir}/src/main/resources`ã€‚
*   **includes**: æŒ‡å®šè¦ä½œä¸ºèµ„æºåŒ…å«åœ¨æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä½¿ç”¨`*`ä½œä¸ºé€šé…ç¬¦
*   **excludes**: ä¸`includes`çš„ç»“æ„ç›¸åŒï¼Œä¸è¿‡ç”¨äºæŒ‡å®šè¦å¿½ç•¥çš„æ–‡ä»¶ã€‚å¦‚æœ`include` å’Œ`exclude`ä¹‹é—´å¦‚æœå­˜åœ¨å†²çªï¼Œåˆ™`exclude` â€œè·èƒœâ€ã€‚
*   **testResources**: `testResources` å…ƒç´ å—åŒ…å«`testResource` å…ƒç´ ã€‚å®ƒä»¬çš„å®šä¹‰ç±»ä¼¼äº`resource` å…ƒç´ ï¼Œä¸è¿‡æ˜¯åœ¨æµ‹è¯•é˜¶æ®µä½¿ç”¨ã€‚ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œé¡¹ç›®çš„é»˜è®¤ï¼ˆSuper POMå®šä¹‰çš„ï¼‰æµ‹è¯•èµ„æºç›®å½•æ˜¯`${basedir}/src/test/resources`ã€‚æµ‹è¯•èµ„æºä¸è¢«å‘å¸ƒã€‚

#### æ’ä»¶(Plugins)

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      <build>
        ...
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jar-plugin</artifactId>
            <version>2.6</version>
            <extensions>false</extensions>
            <inherited>true</inherited>
            <configuration>
              <classifier>test</classifier>
            </configuration>
            <dependencies>...</dependencies>
            <executions>...</executions>
          </plugin>
        </plugins>
      </build>
    </project>
    

é™¤äº†æ ‡å‡†åæ ‡ `groupId:artifactId:version`ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…ƒç´ å¯ä»¥é…ç½®æ’ä»¶æˆ–ä¸æ’ä»¶äº¤äº’çš„æ„å»ºã€‚

*   **extensions**: `true` æˆ–è€… `false`ï¼Œæ˜¯å¦åŠ è½½æ­¤æ’ä»¶çš„æ‰©å±•ã€‚é»˜è®¤æƒ…å†µä¸‹ä¸º`false`ã€‚
    
*   **inherited**: `true` æˆ–è€… `false`ï¼Œè¿™ä¸ªæ’ä»¶é…ç½®æ˜¯å¦åº”è¯¥åº”ç”¨äºç»§æ‰¿è‡ªè¿™ä¸ªæ’ä»¶çš„POMã€‚é»˜è®¤`true`.
    
*   **configuration**: è¿™æ˜¯ç‰¹å®šäºå•ä¸ªæ’ä»¶çš„ã€‚æ’ä»¶Mojoå¯èƒ½æœŸæœ›çš„ä»»ä½•å±æ€§ï¼ˆè¿™äº›æ˜¯Java Mojo beanä¸­çš„getterå’Œsetterï¼‰éƒ½å¯ä»¥åœ¨è¿™é‡ŒæŒ‡å®šã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†`maven-jar-plugin`Mojoä¸­`classifier`å±æ€§è®¾ç½®ä¸ºtestã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‰€æœ‰é…ç½®å…ƒç´ ï¼Œæ— è®ºå®ƒä»¬åœ¨POMä¸­çš„å“ªä¸ªä½ç½®ï¼Œéƒ½æ—¨åœ¨å°†å€¼ä¼ é€’ç»™å¦ä¸€ä¸ªåº•å±‚ç³»ç»Ÿï¼Œä¾‹å¦‚æ’ä»¶ã€‚æ¢å¥è¯è¯´ï¼šPOMæ¨¡å¼ä»æ¥æ²¡æœ‰æ˜ç¡®è¦æ±‚`configuration` å…ƒç´ ä¸­çš„å€¼ï¼Œä½†æ’ä»¶ç›®æ ‡å®Œå…¨æœ‰æƒè¦æ±‚`configuration` å€¼ã€‚
    
    å¦‚æœä½ çš„POMå£°æ˜äº†ä¸€ä¸ªparentï¼Œå®ƒå°†ä»parentçš„**`build/plugins`** æˆ–**`pluginManagement`** éƒ¨åˆ†ç»§æ‰¿æ’ä»¶é…ç½®ã€‚
    
    *   **é»˜è®¤é…ç½®ç»§æ‰¿**ï¼š
        
        ä¸ºäº†è¿›è¡Œè¯´æ˜ï¼Œå‡è®¾æœ‰æ¥è‡ªçˆ¶POMçš„ä»¥ä¸‹é…ç½®ï¼š
        
            <plugin>
              <groupId>my.group</groupId>
              <artifactId>my-plugin</artifactId>
              <configuration>
                <items>
                  <item>parent-1</item>
                  <item>parent-2</item>
                </items>
                <properties>
                  <parentKey>parent</parentKey>
                </properties>
              </configuration>
            </plugin>
            
        
        å‡è®¾ä»¥ä¸‹ä¸ºæŸä¸ªé¡¹ç›®çš„æ’ä»¶é…ç½®ï¼Œè¯¥é¡¹ç›®ä½¿ç”¨ä¸Šè¿°POMä½œä¸ºå…¶parent
        
            <plugin>
              <groupId>my.group</groupId>
              <artifactId>my-plugin</artifactId>
              <configuration>
                <items>
                  <item>child-1</item>
                </items>
                <properties>
                  <childKey>child</childKey>
                </properties>
              </configuration>
            </plugin>
            
        
        é»˜è®¤è¡Œä¸ºæ˜¯æ ¹æ®å…ƒç´ åç§°åˆå¹¶**configuration** å…ƒç´ çš„å†…å®¹ã€‚å¦‚æœå­POMå…·æœ‰ç‰¹å®šå…ƒç´ ï¼Œåˆ™å…¶å€¼å°†æˆä¸ºæœ‰æ•ˆå€¼ã€‚å¦‚æœå­POMæ²¡æœ‰å…ƒç´ ï¼Œä½†çˆ¶POMæœ‰ï¼Œåˆ™çˆ¶å€¼å°†æˆä¸ºæœ‰æ•ˆå€¼ã€‚è¯·æ³¨æ„ï¼Œè¿™çº¯ç²¹æ˜¯å¯¹XMLçš„æ“ä½œï¼›ä¸æ¶‰åŠæ’ä»¶æœ¬èº«çš„ä»£ç æˆ–é…ç½®ï¼Œåªæ¶‰åŠå…ƒç´ ï¼Œè€Œä¸æ˜¯å®ƒä»¬çš„å€¼ã€‚
        
        å°†è¿™äº›è§„åˆ™åº”ç”¨åˆ°ç¤ºä¾‹ä¸­ï¼Œå¾—åˆ°ä»¥ä¸‹é…ç½®ï¼š
        
            <plugin>
              <groupId>my.group</groupId>
              <artifactId>my-plugin</artifactId>
              <configuration>
                <items>
                  <item>child-1</item>
                </items>
                <properties>
                  <childKey>child</childKey>
                  <parentKey>parent</parentKey>
                </properties>
              </configuration>
            </plugin>
            
        
    *   ### é«˜çº§é…ç½®ç»§æ‰¿ï¼š`combine.children` å’Œ`combine.self`
        
        å¯ä»¥é€šè¿‡å‘**`configuration`**å…ƒç´ çš„å­å…ƒç´ æ·»åŠ å±æ€§--`combine.children`å’Œ`combing.self`ï¼Œæ¥æ§åˆ¶å­POMå¦‚ä½•ä»çˆ¶POMç»§æ‰¿é…ç½®ã€‚åœ¨å­POMä¸­ä½¿ç”¨è¿™äº›å±æ€§å¯ä»¥æ§åˆ¶Mavenå¦‚ä½•å°†çˆ¶çº§çš„æ’ä»¶é…ç½®ä¸å­çº§çš„æ˜¾å¼é…ç½®ç›¸ç»“åˆã€‚
        
        ä»¥ä¸‹æ˜¯å¸¦æœ‰è¿™ä¸¤ä¸ªå±æ€§ç¤ºä¾‹çš„å­POMé…ç½®
        
            <configuration>
              <items combine.children="append">
                <!-- combine.children="merge" is the default -->
                <item>child-1</item>
              </items>
              <properties combine.self="override">
                <!-- combine.self="merge" is the default -->
                <childKey>child</childKey>
              </properties>
            </configuration>
            
        
        ç°åœ¨ï¼Œæœ‰æ•ˆçš„ç»“æœå¦‚ä¸‹ï¼š
        
            <configuration>
              <items combine.children="append">
                <item>parent-1</item>
                <item>parent-2</item>
                <item>child-1</item>
              </items>
              <properties combine.self="override">
                <childKey>child</childKey>
              </properties>
            </configuration>
            
        
        `combine.children="append"`å°†æŒ‰é¡ºåºè¿æ¥çˆ¶å…ƒç´ å’Œå­å…ƒç´ ã€‚è€Œ`combine.self="override"`åˆ™å®Œå…¨æŠ‘åˆ¶çˆ¶é…ç½®ã€‚ä¸èƒ½åœ¨å…ƒç´ ä¸ŠåŒæ—¶ä½¿ç”¨`combine.self="override"`å’Œ`combine.children="append"`ï¼Œå¦‚æœåŒæ—¶é…ç½®äº†åˆ™`combine.self="override"`ã€‚
        
        æ³¨æ„ï¼Œè¿™äº›å±æ€§åªåº”ç”¨äºå®ƒä»¬å£°æ˜çš„é…ç½®å…ƒç´ ï¼Œè€Œä¸ä¼šä¼ é€’åˆ°åµŒå¥—å…ƒç´ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå­POMä¸­çš„`item`å…ƒç´ çš„å†…å®¹æ˜¯ä¸€ä¸ªå¤æ‚çš„ç»“æ„ï¼Œè€Œä¸æ˜¯æ–‡æœ¬ï¼Œé‚£ä¹ˆå®ƒçš„å­å…ƒç´ ä»å°†å—åˆ°é»˜è®¤åˆå¹¶ç­–ç•¥çš„çº¦æŸï¼Œé™¤éå®ƒä»¬æœ¬èº«ç”¨å±æ€§æ ‡è®°ã€‚
        
        å­POMä¼šä»çˆ¶POMç»§æ‰¿`combine.*`å±æ€§ã€‚å°†è¿™äº›å±æ€§æ·»åŠ åˆ°çˆ¶POMæ—¶è¦å°å¿ƒï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå½±å“å­POMæˆ–å­å­™POMã€‚
        
*   **dependencies**: åœ¨POMä¸­å¯ä»¥çœ‹åˆ°å¾ˆå¤šä¾èµ–é¡¹ï¼Œå®ƒä»¬æ˜¯æ‰€æœ‰`plugins`å…ƒç´ å—ä¸‹çš„ä¸€ä¸ªå…ƒç´ ã€‚ä¾èµ–é¡¹å…·æœ‰ä¸base `build`ä¸‹ç›¸åŒçš„ç»“æ„å’ŒåŠŸèƒ½ã€‚è¿™ç§æƒ…å†µä¸‹çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œå®ƒä»¬ä¸å†ä½œä¸ºé¡¹ç›®çš„ä¾èµ–é¡¹åº”ç”¨ï¼Œè€Œæ˜¯ä½œä¸ºæ‰€å±æ’ä»¶çš„ä¾èµ–é¡¹æ¥åº”ç”¨ã€‚è¿™æ ·åšçš„åŠŸèƒ½æ˜¯æ›´æ”¹æ’ä»¶çš„ä¾èµ–é¡¹åˆ—è¡¨ï¼Œå¯èƒ½æ˜¯é€šè¿‡`exclusions`åˆ é™¤æœªä½¿ç”¨çš„è¿è¡Œæ—¶ä¾èµ–é¡¹ï¼Œæˆ–è€…æ›´æ”¹æ‰€éœ€ä¾èµ–é¡¹çš„ç‰ˆæœ¬ã€‚
    
*   **executions**ï¼šè®°ä½ï¼Œä¸€ä¸ªæ’ä»¶å¯èƒ½æœ‰å¤šä¸ªç›®æ ‡ã€‚æ¯ä¸ªç›®æ ‡å¯èƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„é…ç½®ï¼Œç”šè‡³å¯èƒ½å°†æ’ä»¶çš„ç›®æ ‡ç»‘å®šåˆ°ä¸åŒçš„é˜¶æ®µ`executions`é…ç½®æ’ä»¶ç›®æ ‡çš„`execution` ã€‚
    
    ä¾‹å¦‚ï¼Œå‡è®¾ä½ æƒ³å°†`antrun:run`ç›®æ ‡ç»‘å®šåˆ°`verify`é˜¶æ®µã€‚æˆ‘ä»¬å¸Œæœ›ä»»åŠ¡å›æ˜¾æ„å»ºç›®å½•ï¼Œå¹¶é€šè¿‡å°† `inherited`è®¾ç½®ä¸º`false`æ¥é¿å…å°†æ­¤é…ç½®ä¼ é€’ç»™å…¶å­çº§ï¼ˆå‡è®¾å®ƒæ˜¯çˆ¶çº§ï¼‰ã€‚ä½ å°†ä¼šå¾—åˆ°è¿™æ ·çš„`execution` ï¼š
    
        <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
          ...
          <build>
          <plugins>
              <plugin>
              <artifactId>maven-antrun-plugin</artifactId>
                <version>1.1</version>
              <executions>
                  <execution>
                  <id>echodir</id>
                    <goals>
                      <goal>run</goal>
                    </goals>
                  <phase>verify</phase>
                    <inherited>false</inherited>
                  <configuration>
                      <tasks>
                      <echo>Build Dir: /home/jenkins/82467a7c/workspace/aven_maven-box_maven-site_master/target</echo>
                      </tasks>
                  </configuration>
                  </execution>
                </executions>
         
            </plugin>
            </plugins>
          </build>
        </project>
        
    
    *   **id**: æ­¤`execution` å—å”¯ä¸€æ ‡è¯†ã€‚å½“é˜¶æ®µè¿è¡Œæ—¶ï¼Œå®ƒå°†ä»¥`[plugin:target-execution:id]`çš„å½¢å¼æ˜¾ç¤ºã€‚åœ¨æœ¬ä¾‹ä¸­ï¼š`[antrun:run execution:echodir]`
        
    *   **goals**: åŒ…å«ä¸€ä¸ªå•æ•°å…ƒç´ (`goal`)åˆ—è¡¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±è¿™ä¸ª`execution` å—æŒ‡å®šçš„æ’ä»¶`goals` åˆ—è¡¨
        
    *   **phase**ï¼šè®¾ç½®ç›®æ ‡åˆ—è¡¨å°†åœ¨å…¶ä¸­æ‰§è¡Œçš„é˜¶æ®µã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„é€‰é¡¹ï¼Œå…è®¸å°†ä»»ä½•ç›®æ ‡ç»‘å®šåˆ°æ„å»ºç”Ÿå‘½å‘¨æœŸä¸­çš„ä»»ä½•é˜¶æ®µï¼Œä»è€Œæ”¹å˜Mavençš„é»˜è®¤è¡Œä¸º
        
    *   **inherited**: ç±»ä¼¼ä¸Šé¢çš„`inherited` å…ƒç´ ï¼Œè®¾ç½®ä¸º`false`å°†ç¦æ­¢Mavenå°†æ­¤`execution` ä¼ é€’ç»™å…¶å­çº§ã€‚æ­¤å…ƒç´ ä»…å¯¹çˆ¶POMæœ‰æ„ä¹‰
        
    *   **configuration**: ä¸ä¸Šé¢çš„`configuration`ç›¸åŒï¼Œé™¤äº†å°†é…ç½®é™åˆ¶åœ¨è¿™ä¸ªç‰¹å®šçš„ç›®æ ‡åˆ—è¡¨ä¸­ï¼Œè€Œä¸æ˜¯æ’ä»¶ä¸‹çš„æ‰€æœ‰ç›®æ ‡
        

#### æ’ä»¶ç®¡ç†(Plugin Management)

*   **pluginManagement**: æ’ä»¶ç®¡ç†ä»¥å’Œä¸Šæ–‡`plugins`å‡ ä¹ç›¸åŒçš„æ–¹å¼åŒ…å«æ’ä»¶å…ƒç´ ï¼Œåªæ˜¯å®ƒä¸æ˜¯ä¸ºè¿™ä¸ªç‰¹å®šçš„é¡¹ç›®æ„å»ºé…ç½®æ’ä»¶ä¿¡æ¯ï¼Œè€Œæ˜¯æ—¨åœ¨é…ç½®ä»è¿™ä¸ªé¡¹ç›®æ„å»ºç»§æ‰¿çš„é¡¹ç›®æ„å»ºã€‚ç„¶è€Œï¼Œè¿™åªé…ç½®åœ¨å­POMæˆ–å½“å‰POMä¸­`plugins`å…ƒç´ å®é™…å¼•ç”¨çš„æ’ä»¶ã€‚å­POMä»¬å®Œå…¨æœ‰æƒè¦†ç›–`pluginManagement` å®šä¹‰ã€‚

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <build>
        ...
        <pluginManagement>
          <plugins>
            <plugin>
              <groupId>org.apache.maven.plugins</groupId>
              <artifactId>maven-jar-plugin</artifactId>
              <version>2.6</version>
              <executions>
                <execution>
                  <id>pre-process-classes</id>
                  <phase>compile</phase>
                  <goals>
                    <goal>jar</goal>
                  </goals>
                  <configuration>
                    <classifier>pre-process</classifier>
                  </configuration>
                </execution>
              </executions>
            </plugin>
          </plugins>
        </pluginManagement>
        ...
      </build>
    </project>
    

å¦‚æœæˆ‘ä»¬å°†è¿™äº›è§„èŒƒæ·»åŠ åˆ°`plugins`å…ƒç´ ä¸­ï¼Œå®ƒä»¬å°†ä»…é€‚ç”¨äºå•ä¸ªPOMã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬åœ¨`pluginManagement` å…ƒç´ ä¸‹åº”ç”¨å®ƒä»¬ï¼Œé‚£ä¹ˆè¿™ä¸ªPOMå’Œæ‰€æœ‰å°†`maven-jar-plugin`æ·»åŠ åˆ°æ„å»ºä¸­çš„ç»§æ‰¿POMä¹Ÿå°†è·å– `pre-process-classes` `execution` ã€‚å› æ­¤ï¼Œä¸å…¶åœ¨æ¯ä¸ªå­`pom.xml`ä¸­åŒ…å«ä¸Šè¿°çš„æ··ä¹±ï¼Œåªéœ€è¦ä»¥ä¸‹å†…å®¹ï¼š:

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <build>
        ...
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jar-plugin</artifactId>
          </plugin>
        </plugins>
        ...
      </build>
    </project>
    

### Buildå…ƒç´ é›†(The Build Element Set)

#### ç›®å½•(Directories)

ç›®å½•å…ƒç´ é›†ä½äºçˆ¶çº§`build`å…ƒç´ ä¸­ï¼Œè¯¥å…ƒç´ ä½œä¸ºä¸€ä¸ªæ•´ä½“ä¸ºPOMè®¾ç½®äº†å„ç§ç›®å½•ç»“æ„ã€‚ç”±äºå®ƒä»¬ä¸å­˜åœ¨äº`profiles` `build`ä¸­ï¼Œå› æ­¤`profiles` æ— æ³•æ›´æ”¹è¿™äº›å†…å®¹ã€‚

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <build>
        <sourceDirectory>${basedir}/src/main/java</sourceDirectory>
        <scriptSourceDirectory>${basedir}/src/main/scripts</scriptSourceDirectory>
        <testSourceDirectory>${basedir}/src/test/java</testSourceDirectory>
        <outputDirectory>${basedir}/target/classes</outputDirectory>
        <testOutputDirectory>${basedir}/target/test-classes</testOutputDirectory>
        ...
      </build>
    </project>
    

å¦‚æœä¸Šé¢`*Directory` å…ƒç´ çš„å€¼è®¾ç½®ä¸ºç»å¯¹è·¯å¾„ï¼Œåˆ™ä½¿ç”¨è¯¥è·¯å¾„ã€‚å¦åˆ™ä½¿ç”¨ç›¸å¯¹äºåŸºæ„å»ºç›®å½•ï¼š`${basedir}`çš„è·¯å¾„ã€‚**æ³¨æ„ï¼Œ**`scriptSourceDirectory`**æœªåœ¨Mavenä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”å·²ç»è¿‡æ—¶**ã€‚

#### æ‰©å±•(Extensions)

æ‰©å±•ä¸ºè¦åœ¨æ­¤æ„å»ºä¸­ä½¿ç”¨çš„å·¥ä»¶åˆ—è¡¨ã€‚å®ƒä»¬å°†åŒ…å«åœ¨æ­£åœ¨è¿è¡Œçš„æ„å»ºçš„classpathä¸­ã€‚å®ƒä»¬å¯ä»¥å¯¹æ„å»ºè¿‡ç¨‹å¼€å¯æ‰©å±•ï¼ˆä¾‹å¦‚ä¸ºWagonä¼ è¾“æœºåˆ¶æ·»åŠ ftpæä¾›å•†ï¼‰ï¼Œå¹¶ä½¿æ’ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œä»è€Œæ›´æ”¹æ„å»ºç”Ÿå‘½å‘¨æœŸã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ‰©å±•æ˜¯åœ¨æ„å»ºè¿‡ç¨‹ä¸­æ¿€æ´»çš„å·¥ä»¶ã€‚æ‰©å±•å®é™…ä¸Šä¸å¿…åšä»»ä½•äº‹æƒ…ï¼Œä¹Ÿä¸å¿…åŒ…å«Mojoã€‚å› æ­¤ï¼Œæ‰©å±•éå¸¸é€‚åˆæŒ‡å®šé€šç”¨æ’ä»¶æ¥å£çš„å¤šä¸ªå®ç°ä¸­çš„ä¸€ä¸ªã€‚

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <build>
        ...
        <extensions>
          <extension>
            <groupId>org.apache.maven.wagon</groupId>
            <artifactId>wagon-ftp</artifactId>
            <version>1.0-alpha-3</version>
          </extension>
        </extensions>
        ...
      </build>
    </project>
    

æŠ¥å‘Š(Reporting)
-------------

    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
      ...
      <reporting>
        <outputDirectory>${basedir}/target/site</outputDirectory>
        <plugins>
          <plugin>
            <artifactId>maven-project-info-reports-plugin</artifactId>
            <version>2.0.1</version>
            <reportSets>
              <reportSet></reportSet>
            </reportSets>
          </plugin>
        </plugins>
      </reporting>
      ...
    </project>
    

......

æ›´å¤šé…ç½®å‚è€ƒï¼Œè¯·æŸ¥é˜…å®˜æ–¹æ–‡æ¡£

å‚è€ƒé“¾æ¥
----

[https://maven.apache.org/pom.html](https://maven.apache.org/pom.html)

ä½œè€…ï¼š[æˆå®¢](https://www.cnblogs.com/shouke/)  
å¾®ä¿¡/QQï¼š[1033553122](http://wpa.qq.com/msgrd?v=3&uin=1033553122&site=qq&menu=yes)  
å…¨å›½è½¯ä»¶æµ‹è¯•QQäº¤æµç¾¤ï¼š[7156436](//shang.qq.com/wpa/qunwpa?idkey=b92033e9c78cb53f6fffb88f92a2dba1ed61a1ef344f4d20b286ebc3cef5bcc2)  
Gitåœ°å€ï¼š[https://gitee.com/ishouke](https://gitee.com/ishouke)  
å‹æƒ…æç¤ºï¼šé™äºæ—¶é—´ä»“ä¿ƒï¼Œæ–‡ä¸­å¯èƒ½å­˜åœ¨é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£ã€è¯„è®ºï¼  
ä½œè€…äº”è¡Œç¼ºé’±ï¼Œå¦‚æœè§‰å¾—æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·æ‰«æä¸‹è¾¹çš„äºŒç»´ç æ‰“èµä½œè€…ï¼Œé‡‘é¢éšæ„ï¼Œæ‚¨çš„æ”¯æŒå°†æ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„æºåŠ¨åŠ›ï¼Œæ‰“èµåå¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·è”ç³»æˆ‘!!!  
Â Â Â Â Â Â Â Â Â Â Â å¾®ä¿¡æ‰“èµÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  æ”¯ä»˜å®æ‰“èµÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å…¨å›½è½¯ä»¶æµ‹è¯•äº¤æµQQç¾¤Â Â   
![](https://www.cnblogs.com/images/cnblogs_com/shouke/1368383/t_%E5%BE%AE%E4%BF%A1%E6%94%B6%E6%AC%BE%E7%A0%81.bmp) Â Â Â Â Â Â ![](https://www.cnblogs.com/images/cnblogs_com/shouke/1368383/t_%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%B6%E6%AC%BE%E7%A0%81.bmp) Â Â Â Â Â Â Â ![](https://www.cnblogs.com/images/cnblogs_com/shouke/1368383/t_qq%E7%BE%A4.bmp)