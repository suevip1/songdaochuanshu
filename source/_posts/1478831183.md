---
layout: post
title: "“攻城狮”如何写高逼格的代码"
date: "2023-08-07T01:06:49.076Z"
---
“攻城狮”如何写高逼格的代码
==============

“攻城狮”们要使代码逼格升级，看起来舒服，而且代码跑得飞快，成为技术大神，不仅需要提升内功、还需要掌握好技巧，不断打磨代码，提升代码质量，让编码成为一门艺术。

> 作者简介：常遇，阿里巴巴高级技术专家，专注于机器学习、前端等领域。关注 "全栈深入" 公众号查看更多硬核干货文章。

通常高质量的代码由以下几个方面的因素确定  
1、代码是否规范  
2、系统设计是否合理  
3、进行代码审查  
4、多学习优秀的开源项目

代码是否规范可以按照编程语言的编码规范来写代码，而软件系统的设计通常需满足一些约束条件，通过一定的代码审查机制来提升团队的代码质量。此外还可以从一些优秀的开源项目中学习最佳实践和技巧。

一、代码规范  
可以按一定的编码规范来标准化写的代码。一个团队用一套编码规范来执行，每个人的代码就不会千奇百怪，代码风格大熔炉。  
以下有一些常用的编程语言的代码规范：

*   Java: [https://www.oracle.com/java/technologies/javase/codeconventions-contents.html](https://www.oracle.com/java/technologies/javase/codeconventions-contents.html)
*   Python: [https://pyzh.readthedocs.io/en/latest/pep8/](https://pyzh.readthedocs.io/en/latest/pep8/)
*   JavaScript: [https://github.com/airbnb/javascript/tree/master/translations/zh-Hans](https://github.com/airbnb/javascript/tree/master/translations/zh-Hans)
*   C++: [https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/](https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/)
*   Ruby: [https://github.com/JuanitoFatas/ruby-style-guide/blob/master/README-zhCN.md](https://github.com/JuanitoFatas/ruby-style-guide/blob/master/README-zhCN.md)
*   PHP: [https://psr.phphub.org/](https://psr.phphub.org/)
*   Swift: [https://github.com/linkedin/swift-style-guide/blob/master/docs/zh-Hans/README.md](https://github.com/linkedin/swift-style-guide/blob/master/docs/zh-Hans/README.md)
*   Go: [https://learnku.com/docs/effective-go/2021](https://learnku.com/docs/effective-go/2021)

二、系统设计的约束  
好的软件系统设计应该满足以下的约束：  
1、可维护性  
好的软件系统设计应该易于维护，包括代码的可读性、可重用性、可扩展性和可测试性等方面。代码的可读性可以通过良好的代码风格、注释和文档来提高。代码的可重用性可以通过模块化的设计和抽象出通用的接口来实现。代码的可扩展性可以通过遵循开闭原则、单一职责原则等软件设计原则来实现。  
也可以复用一些设计模式，设计模式是一种用于解决常见问题的通用解决方案。使用设计模式可以提高代码的可重用性和可维护性，并且可以使代码更加简洁和易于理解。设计模式是软件开发中常用的一种技巧，它包括了一系列经验总结和最佳实践，可以提高代码的可维护性、可扩展性和可读性。根据模式的用途和功能，设计模式可以分为以下三类：

1）创建型模式  
创建型模式是一组用于创建对象的设计模式，它们可以隐藏对象的创建过程，并提供一个通用的接口，降低系统的耦合度。常用的创建型模式包括：  
● 工厂方法模式（Factory Method Pattern）：定义一个用于创建对象的接口，让子类决定实例化哪个类。  
● 抽象工厂模式（Abstract Factory Pattern）：提供一个接口，用于创建一系列相关或依赖对象的家族，而不需要指定具体的类。  
● 单例模式（Singleton Pattern）：保证一个类只有一个实例，并提供一个全局的访问点。  
● 建造者模式（Builder Pattern）：将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。  
● 原型模式（Prototype Pattern）：用原型实例指定创建对象的种类，并通过复制这些原型来创建新的对象。

2）结构型模式  
结构型模式是一组用于组合类和对象的设计模式，它们可以将多个对象组合成一个更大的结构体系，并定义对象之间的协作方式。常用的结构型模式包括：  
● 适配器模式（Adapter Pattern）：将一个类的接口转换成客户端所期望的接口，以解决接口不兼容的问题。  
● 桥接模式（Bridge Pattern）：将抽象部分与它的实现部分分离，以便它们可以独立地变化。  
● 组合模式（Composite Pattern）：将对象组合成树形结构，以表示“部分-整体”的关系，使得客户端可以一致地处理单个对象和组合对象。  
● 装饰器模式（Decorator Pattern）：动态地为一个对象添加额外的职责，以扩展对象的功能。  
● 外观模式（Facade Pattern）：为复杂的子系统提供一个简单的接口，以便客户端可以更方便地访问子系统。  
● 享元模式（Flyweight Pattern）：运用共享技术来有效地支持大量细粒度的对象。  
● 代理模式（Proxy Pattern）：为其他对象提供一种代理以控制对这个对象的访问。

3）行为型模式  
行为型模式是设计模式的一类，主要关注对象之间的通信，以及对象如何协同工作完成任务。行为型模式可以进一步分为类行为型模式和对象行为型模式。下面是常见的行为型模式及其解释。  
● 模板方法模式(Template Method Pattern)：模板方法模式定义了一个算法的骨架，将算法中的某些步骤延迟到子类中实现。这样可以使得子类在不改变算法整体结构的前提下，重新定义算法的某些步骤。模板方法模式应用于大量重复的算法中，可以减少代码的重复性，提高代码的复用性和可维护性。  
● 策略模式(Strategy Pattern)：策略模式定义了一系列算法，并将每个算法封装在独立的类中，使得它们可以互相替换。此模式让算法的变化独立于使用算法的客户端，从而可以根据需要动态地改变算法的使用方式。  
● 观察者模式(Observer Pattern)：观察者模式定义了一种一对多的依赖关系，让多个观察者对象同时监听某一个主题对象。当主题对象状态发生变化时，所有依赖于它的观察者对象都会得到通知并自动更新。观察者模式应用于对象之间的通知和协调，可以使得对象之间的耦合度降低。  
● 迭代器模式(Iterator Pattern)：迭代器模式定义了一种方式来遍历一个聚合对象中的各个元素，而又不暴露该对象的内部表示。迭代器模式应用于集合对象的遍历，可以提供不同的遍历方式，同时可以隔离集合对象的具体实现。  
● 命令模式(Command Pattern)：命令模式将请求封装成对象，从而可以将请求的发送者和接收者解耦，使得请求的发送者和接收者不需要知道彼此的存在。命令模式应用于需要支持撤销、重做操作的场景，可以将每个操作封装为一个命令对象，从而支持撤销、重做操作。  
● 职责链模式(Chain of Responsibility Pattern)：职责链模式为请求创建一条处理链，每个处理对象都可以处理请求，如果无法处理则将请求转发给下一个处理对象。职责链模式应用于请求的处理需要多个对象协作完成的场景，可以将每个处理对象封装为一个处理链上的节点。  
● 状态模式(State Pattern)：状态模式允许对象在内部状态改变时改变它的行为，对象看起来好像改变了它的类。状态模式应用于对象的行为受多个状态变量影响的场景，可以将每个状态封装为一个状态对象，从而支持状态的变化。  
● 访问者模式(Visitor Pattern)：访问者模式将数据结构和数据操作分离开来，使得数据结构和数据操作可以独立变化。访问者模式应用于数据结构上的操作固定，但是操作的方式和算法需要变化的场景，可以将每个操作封装为一个访问者对象，从而支持算法的变化。

2、可靠性  
好的软件系统设计应该保持高可靠性，即系统在面对各种异常情况时，能够保持正常的运行状态，不会出现崩溃、数据丢失和死锁等问题。为了提高软件系统的可靠性，应该使用设计模式、异常处理机制等技术手段来减少错误和异常。

3、可扩展性  
好的软件系统设计应该具有可扩展性，即能够适应未来的需求变化和业务扩展，而不需要进行大量的修改或重构。为了提高软件系统的可扩展性，应该使用灵活的架构、松耦合的接口和可重用的代码等技术手段。

4、可移植性  
好的软件系统设计应该具有可移植性，即能够在不同的平台上运行，并且能够适应不同的操作系统、编程语言和硬件环境等。为了提高软件系统的可移植性，应该使用标准化的接口、抽象出通用的底层服务、避免使用平台特有的API和库等技术手段。

5、可重用性  
好的软件系统设计应该具有可重用性，即能够将已有的代码和组件复用在不同的项目中，而不需要进行重复的开发和维护。为了提高软件系统的可重用性，应该使用简单、通用、独立和可测试的组件，遵循单一职责原则和开闭原则等软件设计原则。

6、性能  
提升代码质量和关注性能密切相关，因为优雅的代码通常具有更好的性能和可维护性。代码性能的关注点可以体现在多个方面，如代码执行效率、内存占用、网络延迟等。在提升代码质量的同时，合理地关注性能，可以提高代码的执行效率，减少资源的消耗，提高用户体验，从而更好地满足产品和用户的需求。

以下是提升代码性能的一些技巧：  
● 优化算法和数据结构：使用更加高效的算法和数据结构，可以减少代码的执行时间和内存占用。  
● 减少I/O操作：避免频繁的I/O操作，如文件读写、网络请求等，可以减少代码的执行时间和资源占用。  
● 内存管理：合理地使用内存资源，及时释放不需要的对象和变量，可以减少内存占用和减少垃圾回收时间。  
● 并发编程：使用多线程或者异步编程模型，可以提高代码的执行效率和并发处理能力。  
● 缓存：合理使用缓存机制，可以减少I/O操作和数据库访问，提高数据的访问效率。  
● 避免重复计算：避免进行重复的计算，可以减少代码的执行时间和资源消耗。  
● 代码优化：使用高效的代码编写技巧，如使用位运算、判断执行顺序等，可以减少代码的执行时间。

提升代码性能需要综合考虑多个因素，包括算法、数据结构、I/O操作、内存管理、并发编程等，只有综合考虑这些因素，才能得到高效、稳定和可维护的代码。

7、安全性  
好的软件系统设计应该具有安全性，即能够保护系统和用户的隐私和安全，防止恶意攻击和数据泄露等问题。为了提高软件系统的安全性，应该使用加密、访问控制、输入验证和错误处理等技术手段。

8、健壮性  
使用异常处理。异常处理是一种处理错误的机制，它可以使代码更加健壮并减少错误的可能性。应该使用Python的异常处理机制来处理可能出现的异常情况，并在代码中记录异常。  
是否有完备的单无测试代码。

三、代码审查  
代码审查是一项重要的软件质量保证活动，通过检查代码的正确性、可读性、可维护性、安全性等方面的问题，可以提高代码的质量和可靠性。  
下面是一些进行代码审查时可以使用的技巧和方法：

1、预先准备  
在进行代码审查之前，可以先了解代码的背景和功能，阅读相关的文档和规范，以便更好地理解和分析代码。

2、分解任务  
将代码按照功能模块或文件进行分解，逐一进行审查，以确保每个部分都得到充分的关注和分析。

3、采用标准  
使用标准的代码审查规范和模板，以确保审查的一致性和全面性。

4、集中注意力  
在进行代码审查时，需要集中注意力，避免分散注意力，可以使用音乐、防噪耳机等方式来减少干扰。

5、注重细节  
在进行代码审查时，需要注重细节，逐行、逐句、逐字进行检查，并确保代码符合规范和最佳实践。

6、抓住重点  
在进行代码审查时，需要抓住重点问题，如边界测试、错误处理、逻辑错误、安全问题等，以确保代码的可靠性和安全性。

7、整理问题  
在进行代码审查时，需要及时记录问题并整理，以便后续跟踪和解决，可以使用工具或模板来记录问题和反馈结果。

8、及时反馈  
在进行代码审查时，需要及时反馈结果，包括问题、建议和意见等，以便开发人员及时修改和改进代码。

代码审查可以帮助我们发现和解决代码中的问题，提高代码的质量和可靠性。在进行代码审查时，掌握一定的技巧和方法才可以确保审查的一致性、全面性和有效性。

四、多学习优秀的开源项目  
学习优秀的开源项目可以帮助我们提高代码质量，具体原因如下：  
1、学习最佳实践  
开源项目通常由一群有经验的开发者组成，他们在项目设计、代码实现、测试等方面积累了丰富的经验和最佳实践，学习他们的代码可以帮助我们借鉴他们的实践经验，提高自己的开发能力和代码水平。

2、学习架构和设计模式  
开源项目通常具有良好的架构和设计模式，学习他们的设计可以帮助我们理解如何构建可扩展、可维护的软件系统，以及如何利用设计模式来解决复杂问题。

3、学习代码规范和注释  
优秀的开源项目通常具有良好的代码规范和注释，学习他们的代码可以帮助我们了解如何编写规范、清晰和易读的代码，并掌握注释的编写方法和技巧

4、学习测试和调试技巧  
开源项目通常具有完善的测试和调试机制，学习他们的测试和调试方法可以帮助我们提高代码质量和可靠性，并掌握测试和调试的技巧和工具。

5、学习新技术和框架  
开源项目通常使用最新的技术和框架，学习他们的技术可以帮助我们了解新的技术趋势和发展方向，以及如何使用新技术来提高代码质量和开发效率。

学习优秀的开源项目可以帮助我们提高代码质量和开发能力，深入了解最佳实践、架构设计、代码规范、测试调试等方面的知识，以及掌握新技术和框架的应用方法和技巧，使我们成为一名优秀的软件“攻城师”。

五、小结  
一个优秀的工程师要提升编码质量通常要通过不断的修炼和实践，既要有软件设计的基础知识、又要掌握一定的设计范式，同时结合语言本身的特点，博采众长学习别人的最佳实践，才能从本质上提升。

研究表明，那些觉得这篇文章有收获，而最终 点赞 + 收藏 + 喜欢 的大壮、小帅、大美、小美都最终实现了财务自由，成为了人生赢家。也奉劝那些点 收藏 吃灰的人，记得要回来把这篇文章看完～！！

我是常遇，"全栈深入"为你带来全链路技术架构、硬核干货的最佳姿势。如需转载请注明作者常遇，来自于公众号"全栈深入"。

专注于机器学习、前端相关邻域。关注 全栈深入 公众号查看更多硬核文章。