---
layout: post
title: "linux之网络配置"
date: "2023-05-02T01:07:40.011Z"
---
linux之网络配置
==========

查看linux的网络配置
------------

> ifconfig

![image-20230501220413961](https://img2023.cnblogs.com/blog/2355908/202305/2355908-20230501220518763-1615461373.png)

测试主机之间网络连通性
-----------

语法：

> ping 目的主机

举例：

测试当前服务器是否可以连接百度

> ping www.baidu.com

![image-20230501140032579](https://img2023.cnblogs.com/blog/2355908/202305/2355908-20230501220518391-1831265107.png)

按ctrl+c可以停止

ip地址的获取（自动）
-----------

登录linux系统后通过界面的设置来自动获取新的ip地址，生产环境中不建议这样做，centos默认是ip自动获取的

![image-20230501145739893](https://img2023.cnblogs.com/blog/2355908/202305/2355908-20230501220518051-1430411132.png)

![image-20230501150011721](https://img2023.cnblogs.com/blog/2355908/202305/2355908-20230501220517701-1706432406.png)

![image-20230501145925207](https://img2023.cnblogs.com/blog/2355908/202305/2355908-20230501220517337-579537154.png)

指定ip地址（推荐的方式）
-------------

> vim /etc/sysconfig/network-scripts/ifcfg-ens33

![image-20230501214306574](https://img2023.cnblogs.com/blog/2355908/202305/2355908-20230501220516866-2017180033.png)

设置好后点击esc .输入“:wq” 保存退出，然后输入reboot重启系统。

数据获取：ip地址用ifconfig获取，网关是这样看的，看下图

在vmware点击编辑-->虚拟网络编辑器

![image-20230501213953344](https://img2023.cnblogs.com/blog/2355908/202305/2355908-20230501220516357-874111635.png)

![image-20230501214052351](https://img2023.cnblogs.com/blog/2355908/202305/2355908-20230501220515761-1789947760.png)

设置主机名
-----

> vim /etc/hostname

可以看到本机的主机名，可以进行修改，然后重启系统就能生效。

查看主机名
-----

> hostname

设置hosts映射
---------

在 /etc/hosts 文件进行指定ip地址跟主机名的映射

主机名解析过程分析
---------

hosts是一个文本文件，用来记录主机名跟ip地址之间的映射，dns是互联网上作为域名和P地址相互映射的一个分布式数据库

举例：用户在浏览器输入了www.sohu.com

浏览器先检查浏览器缓存中有没有该域名解析IP地址，有就先调用这个IP完成解析；如果没有，就检查DNS解析器缓存，如果有直接返回IP完成解析。一般来说，当电脑第一次成功访问某一网站后，在一定时间内，浏览器或操作系统会缓存他的P地址.如果本地解析器缓存没有找到对应映射，检查系统中hosts文件中有没有配置对应的域名IP映射，如果有，则完成解析并返回。如果本地DNS解析器缓存和hosts文件中均没有找到对应的IP,则到域名服务DNS进行解析域.