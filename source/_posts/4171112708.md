---
layout: post
title: "Asp-Net-Coreå­¦ä¹ ç¬”è®°ï¼šgRPCå¿«é€Ÿå…¥é—¨"
date: "2023-07-12T01:22:43.591Z"
---
Asp-Net-Coreå­¦ä¹ ç¬”è®°ï¼šgRPCå¿«é€Ÿå…¥é—¨
=========================

å‰è¨€
--

æ­¤å‰ï¼Œæˆ‘åœ¨åšè·¨è¯­è¨€è°ƒç”¨æ—¶ï¼Œç”¨çš„æ˜¯ Facebook çš„ Thriftï¼ŒæŒºè½»é‡çš„ï¼Œè¿˜ä¸é”™ã€‚

> Thriftæ˜¯ä¸€ç§æ¥å£æè¿°è¯­è¨€å’ŒäºŒè¿›åˆ¶é€šè®¯åè®®ï¼Œå®ƒè¢«ç”¨æ¥å®šä¹‰å’Œåˆ›å»ºè·¨è¯­è¨€çš„æœåŠ¡ã€‚å®ƒè¢«å½“ä½œä¸€ä¸ªè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰æ¡†æ¶æ¥ä½¿ç”¨ï¼Œæ˜¯ç”±Facebookä¸ºâ€œå¤§è§„æ¨¡è·¨è¯­è¨€æœåŠ¡å¼€å‘â€è€Œå¼€å‘çš„ã€‚å®ƒé€šè¿‡ä¸€ä¸ªä»£ç ç”Ÿæˆå¼•æ“è”åˆäº†ä¸€ä¸ªè½¯ä»¶æ ˆï¼Œæ¥åˆ›å»ºä¸åŒç¨‹åº¦çš„ã€æ— ç¼çš„è·¨å¹³å°é«˜æ•ˆæœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨C#ã€C++ï¼ˆåŸºäºPOSIXå…¼å®¹ç³»ç»Ÿï¼‰Cappuccinoã€Cocoaã€Delphiã€Erlangã€Goã€Haskellã€Javaã€Node.jsã€OCamlã€Perlã€PHPã€Pythonã€Rubyå’ŒSmalltalkç¼–ç¨‹è¯­è¨€å¼€å‘ã€‚ 2007ç”±Facebookå¼€æºï¼Œ2008å¹´5æœˆè¿›å…¥Apacheå­µåŒ–å™¨ï¼Œ 2010å¹´10æœˆæˆä¸ºApacheçš„é¡¶çº§é¡¹ç›®ã€‚

æœ€è¿‘çš„é¡¹ç›®ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„éœ€æ±‚ï¼Œè¿™æ¬¡æ‰“ç®—ä½¿ç”¨ Google çš„ gRPCï¼ŒåŸå› æ˜¯ gRPC çŸ¥ååº¦ä¹Ÿå¾ˆé«˜ï¼Œä¹‹å‰ä¸€ç›´æƒ³ç”¨ä½†æ²¡æœ‰åœºæ™¯ï¼ŒåŠ ä¸Š AspNetCore çš„æ–‡æ¡£é‡Œæœ‰ä»‹ç»ï¼Œçœ‹èµ·æ¥å®˜æ–¹ä¹Ÿæ˜¯æ¨èä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œ RPC è°ƒç”¨ã€‚

æ‰€ä»¥å°±æœæ–­å¼€å§‹äº† gRPC å®è·µï¼Œæœ€ç»ˆåšå‡ºæ¥çš„æ•ˆæœè¿˜æ˜¯å¯ä»¥çš„ï¼ˆè¿™æ˜¯åè¯ï¼‰ã€‚

æœ¬æ–‡ä¸»è¦ä»‹ç» C# ä¸ Python ä¹‹é—´ï¼Œä½¿ç”¨ gRPC è¿›è¡Œè·¨è¯­è¨€è°ƒç”¨ã€‚

æ¦‚å¿µç§‘æ™®
----

### ä»€ä¹ˆæ˜¯RPCï¼Ÿ

> è¿œç¨‹è¿‡ç¨‹è°ƒç”¨(Remote Procedure Call,ç¼©å†™ä¸º RPC)æ˜¯ä¸€ä¸ªè®¡ç®—æœºé€šä¿¡åè®®ã€‚è¯¥åè®®å…è®¸è¿è¡Œäºä¸€å°è®¡ç®—æœºçš„ç¨‹åºè°ƒç”¨å¦ä¸€å°è®¡ç®—æœºçš„å­ç¨‹åºï¼Œè€Œç¨‹åºå‘˜æ— éœ€é¢å¤–åœ°ä¸ºè¿™ä¸ªäº¤äº’ä½œç”¨ç¼–ç¨‹ã€‚ æ¯”å¦‚ Java RMI(è¿œç¨‹æ–¹æ³•è°ƒç”¨(Remote  
> Method Invocation)ã€‚èƒ½å¤Ÿè®©åœ¨æŸä¸ªjavaè™šæ‹Ÿæœºä¸Šçš„å¯¹è±¡åƒè°ƒç”¨æœ¬åœ°å¯¹è±¡ä¸€æ ·è°ƒç”¨å¦ä¸€ä¸ªjavaè™šæ‹Ÿæœºä¸­çš„å¯¹è±¡ä¸Šçš„æ–¹æ³•)ã€‚

![](https://img2023.cnblogs.com/blog/866942/202307/866942-20230711230809461-429676967.webp)

> ä»ä¸Šå›¾å¯ä»¥çœ‹å‡º, RPC æœ¬èº«æ˜¯ client-serveræ¨¡å‹,ä¹Ÿæ˜¯ä¸€ç§ request-response åè®®ã€‚  
> æœ‰äº›å®ç°æ‰©å±•äº†è¿œç¨‹è°ƒç”¨çš„æ¨¡å‹ï¼Œå®ç°äº†åŒå‘çš„æœåŠ¡è°ƒç”¨ï¼Œä½†æ˜¯ä¸ç®¡æ€æ ·ï¼Œè°ƒç”¨è¿‡ç¨‹è¿˜æ˜¯ç”±ä¸€ä¸ªå®¢æˆ·ç«¯å‘èµ·ï¼ŒæœåŠ¡å™¨ç«¯æä¾›å“åº”ï¼ŒåŸºæœ¬æ¨¡å‹æ²¡æœ‰å˜åŒ–ã€‚  
> æœåŠ¡çš„è°ƒç”¨è¿‡ç¨‹ä¸ºï¼š
> 
> 1.  clientè°ƒç”¨client stubï¼Œè¿™æ˜¯ä¸€æ¬¡æœ¬åœ°è¿‡ç¨‹è°ƒç”¨
> 2.  client stubå°†å‚æ•°æ‰“åŒ…æˆä¸€ä¸ªæ¶ˆæ¯ï¼Œç„¶åå‘é€è¿™ä¸ªæ¶ˆæ¯ã€‚æ‰“åŒ…è¿‡ç¨‹ä¹Ÿå«åš marshalling
> 3.  clientæ‰€åœ¨çš„ç³»ç»Ÿå°†æ¶ˆæ¯å‘é€ç»™server
> 4.  serverçš„çš„ç³»ç»Ÿå°†æ”¶åˆ°çš„åŒ…ä¼ ç»™server stub
> 5.  server stubè§£åŒ…å¾—åˆ°å‚æ•°ã€‚ è§£åŒ…ä¹Ÿè¢«ç§°ä½œ unmarshalling
> 6.  æœ€åserver stubè°ƒç”¨æœåŠ¡è¿‡ç¨‹. è¿”å›ç»“æœæŒ‰ç…§ç›¸åçš„æ­¥éª¤ä¼ ç»™client

### å…³äº gRPC

[gRPC](https://grpc.io/) æ˜¯ä¸€ç§ä¸è¯­è¨€æ— å…³çš„é«˜æ€§èƒ½è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ (RPC) æ¡†æ¶ã€‚

å‰æ–‡æœ‰è¯´è¿‡ï¼Œè¿™ä¸ªæ˜¯ Google å¼€å‘çš„ï¼Œä»¥ä¸‹æ˜¯ AspNetCore çš„æ–‡æ¡£ä¸­ï¼Œå¯¹ gRPC çš„ä»‹ç»ã€‚

> gRPC çš„ä¸»è¦ä¼˜ç‚¹æ˜¯ï¼š
> 
> *   ç°ä»£é«˜æ€§èƒ½è½»é‡çº§ RPC æ¡†æ¶ã€‚
> *   åå®šä¼˜å…ˆ API å¼€å‘ï¼Œé»˜è®¤ä½¿ç”¨åè®®ç¼“å†²åŒºï¼Œå…è®¸ä¸è¯­è¨€æ— å…³çš„å®ç°ã€‚
> *   å¯ç”¨äºå¤šç§è¯­è¨€çš„å·¥å…·ï¼Œä»¥ç”Ÿæˆå¼ºç±»å‹æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ã€‚
> *   æ”¯æŒå®¢æˆ·ç«¯ã€æœåŠ¡å™¨å’ŒåŒå‘æµå¼å¤„ç†è°ƒç”¨ã€‚
> *   ä½¿ç”¨ Protobuf äºŒè¿›åˆ¶åºåˆ—åŒ–å‡å°‘å¯¹ç½‘ç»œçš„ä½¿ç”¨ã€‚
> 
> è¿™äº›ä¼˜ç‚¹ä½¿ gRPC é€‚ç”¨äºï¼š
> 
> *   æ•ˆç‡è‡³å…³é‡è¦çš„è½»é‡çº§å¾®æœåŠ¡ã€‚
> *   éœ€è¦å¤šç§è¯­è¨€ç”¨äºå¼€å‘çš„ Polyglot ç³»ç»Ÿã€‚
> *   éœ€è¦å¤„ç†æµå¼å¤„ç†è¯·æ±‚æˆ–å“åº”çš„ç‚¹å¯¹ç‚¹å®æ—¶æœåŠ¡ã€‚

gRPC ä½¿ç”¨ `.proto` æ–‡ä»¶æ¥å®šä¹‰æ¥å£å’Œæ•°æ®ç±»å‹ï¼ŒåŒæ—¶æä¾›äº†é€šè¿‡ `.proto` æ–‡ä»¶ç”Ÿæˆä¸åŒè¯­è¨€è°ƒç”¨ä»£ç çš„å·¥å…·ã€‚

é¡¹ç›®ä»‹ç»
----

æœ¬æ–‡çš„é¡¹ç›®æ˜¯ä½¿ç”¨ C# è°ƒç”¨ Python å†™çš„æœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡æ˜¯ä¸€ä¸ªå¤§è¯­è¨€æ¨¡å‹ã€‚

åœ¨æœ¬é¡¹ç›®ä¸­ï¼ŒC# é¡¹ç›®ä½œä¸ºå®¢æˆ·ç«¯ï¼ŒPython é¡¹ç›®ä½œä¸ºæœåŠ¡ç«¯ã€‚

ç¼–å†™ `.proto` æ–‡ä»¶
--------------

ç¬¬ä¸€æ­¥ï¼Œè¦å…ˆç¼–å†™ç”¨äºå®šä¹‰æ¥å£å’Œæ•°æ®ç»“æ„çš„ `.proto` æ–‡ä»¶ã€‚

å°†ä¸‹é¢ä»£ç ä¿å­˜åˆ° `chat.proto` æ–‡ä»¶é‡Œï¼Œæ¥ä¸‹æ¥åœ¨è¦æ¥å…¥ gRPC çš„æ¯ä¸ªé¡¹ç›®é‡Œï¼Œéƒ½è¦å¤åˆ¶ä¸€ä»½è¿™ä¸ªæ–‡ä»¶ã€‚

    syntax = "proto3";
    
    import "google/protobuf/wrappers.proto";
    
    option csharp_namespace = "AIHub.Blazor";
    
    package aihub;
    
    service ChatHub {
      rpc Chat (ChatRequest) returns (ChatReply);
      rpc StreamingChat (ChatRequest) returns (stream ChatReply);
    }
    
    message ChatRequest {
      string prompt = 1;
      repeated google.protobuf.StringValue history = 2;
      int32 max_length = 3;
      float top_p = 4;
      float temperature = 5;
    }
    
    message ChatReply {
      string response = 1;
    }
    

è¿™é‡Œå®šä¹‰äº†ä¸¤ä¸ª Chat æ–¹æ³•ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ä¸€å…ƒè°ƒç”¨ï¼Œä¸€ä¸ªæ˜¯æµå¼è¾“å‡ºã€‚

gRPC æœåŠ¡å¯ä»¥æœ‰ä¸åŒç±»å‹çš„æ–¹æ³•ï¼ŒæœåŠ¡å‘é€å’Œæ¥æ”¶æ¶ˆæ¯çš„æ–¹å¼å–å†³äºæ‰€å®šä¹‰çš„æ–¹æ³•çš„ç±»å‹

*   ä¸€å…ƒ - è°ƒç”¨å®Œå°±è¿”å›ï¼ŒåŒæ­¥æ–¹æ³•
*   æœåŠ¡å™¨æµå¼å¤„ç† - æœåŠ¡ç«¯æµå¼è¿”å›æ•°æ®
*   å®¢æˆ·ç«¯æµå¼å¤„ç† - å®¢æˆ·ç«¯æµå¼å†™å…¥æ•°æ®
*   åŒå‘æµå¼å¤„ç†

éƒ½æŒºå¥½ç†è§£çš„ï¼Œåœ¨ `proto` å®šä¹‰é‡Œé¢ä¹Ÿå¾ˆæ˜“æ‡‚ï¼Œ`stream` æ”¾åœ¨å“ªé‡Œï¼Œå“ªé‡Œå°±æ˜¯æµå¼ã€‚

> `stream` æ”¾åœ¨è¯·æ±‚å‚æ•°ï¼Œé‚£å®¢æˆ·ç«¯è¾“å…¥å°±æ˜¯æµå¼çš„ï¼Œæ”¾åœ¨è¿”å›å€¼å‰é¢ï¼Œé‚£æœåŠ¡ç«¯çš„è¿”å›å°±æ˜¯æµå¼ã€‚
> 
> éƒ½æ”¾å°±ä»£è¡¨åŒå‘æµå¼ã€‚

æ¥ç€åˆå®šä¹‰äº†ç”¨åˆ°çš„æ•°æ®ç»“æ„ï¼Œä¸€ä¸ªè¾“å…¥å‚æ•° `ChatRequest`ï¼Œä¸€ä¸ªè¿”å›å‚æ•° `ChatReply`ã€‚

`string prompt = 1;` è¿™é‡Œèµ‹å€¼çš„æ„æ€æ˜¯è¿™ä¸ªå‚æ•°çš„ä½ç½®ï¼Œä¸æ˜¯å®šä¹‰å˜é‡çš„èµ‹å€¼ğŸ˜‚ï¼Œç¬¬ä¸€æ¬¡ç”¨å·®ç‚¹æ•´è’™äº†ã€‚

æœåŠ¡ç«¯ Python é¡¹ç›®
-------------

å…ˆåœ¨ Python é¡¹ç›®é‡Œï¼ŒæŠŠ gRPC æœåŠ¡å™¨æ­å»ºèµ·æ¥ã€‚

æŠŠä¸Šé¢çš„ `chat.proto` æ–‡ä»¶ï¼Œå¤åˆ¶åˆ° Python é¡¹ç›®çš„ç›®å½•é‡Œé¢ã€‚

Python é¡¹ç›®éœ€è¦å®‰è£…ä¾èµ–

    pip install grpcio
    pip install grpcio-tools
    

æ‰§è¡Œå‘½ä»¤ç”Ÿæˆä»£ç 

    python -m grpc_tools.protoc -I . --python_out=. --pyi_out=. --grpc_python_out=. ./chat.proto
    

ä¸Šé¢çš„å‘½ä»¤ï¼Œå¯ä»¥æ ¹æ® `proto` æ–‡ä»¶ï¼Œç”Ÿæˆä»¥ä¸‹ä»£ç 

*   chat\_pb2\_grpc.py
*   chat\_pb2.py
*   chat\_pb2.pyi

ç¼–å†™æœåŠ¡å™¨ä»£ç 

    from concurrent import futures
    import logging
    import grpc
    import chat_pb2
    import chat_pb2_grpc
    
    class Greeter(chat_pb2_grpc.ChatHubServicer):
        def Chat(self, request: chat_pb2.ChatRequest, context):
            response, history = model.chat(
                tokenizer,
                request.prompt,
                history=[],
                max_length=request.max_length,
                top_p=request.top_p,
                temperature=request.temperature)
            return chat_pb2.ChatReply(response=response)
    
        def StreamingChat(self, request: chat_pb2.ChatRequest, context):
            past_key_values, history = None, []
            current_length = 0
            for response, history, past_key_values in model.stream_chat(
                    tokenizer, request.prompt, history=history,
                    past_key_values=past_key_values,
                    return_past_key_values=True):
                print(response[current_length:], end="", flush=True)
                yield chat_pb2.ChatReply(response=response)
                current_length = len(response)
                
    def serve():
        port = '50051'
        server = grpc.server(futures.ThreadPoolExecutor(max_workers=10))
        chat_pb2_grpc.add_ChatHubServicer_to_server(Greeter(), server)
        server.add_insecure_port('[::]:' + port)
        server.start()
        print("Server started, listening on " + port)
        server.wait_for_termination()
    
    if __name__ == '__main__':
        logging.basicConfig()
        serve()
    

å‰é¢åœ¨ `proto` é‡Œå®šä¹‰çš„ä¿©æ–¹æ³•ï¼š`Chat`, `StreamingChat` è¦è‡ªå·±å®ç°ï¼Œè¿™é‡Œæˆ‘ç›´æ¥è°ƒç”¨ Transformer ï¼Œä¸€å…ƒæ–¹æ³•å°±ç›´æ¥è¿”å›ï¼Œæµå¼è¾“å‡ºä½¿ç”¨ yield ç”Ÿæˆç»“æœã€‚

### æ‰©å±•ï¼šPython gRPCå®¢æˆ·ç«¯

æœ¬æ–‡æŠŠ Python é¡¹ç›®ä½œä¸º gRPC çš„æœåŠ¡ç«¯ä¾› AspNetCore é¡¹ç›®è°ƒç”¨

åè¿‡æ¥ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„

Python ä½œä¸ºå®¢æˆ·ç«¯çš„ä»£ç å¦‚ä¸‹

    import logging
    import grpc
    import chat_pb2
    import chat_pb2_grpc
    
    def run():
        print("Will try to greet world ...")
        with grpc.insecure_channel('localhost:50051') as channel:
            stub = chat_pb2_grpc.ChatHubStub(channel)
            response = stub.Chat(chat_pb2.ChatRequest(prompt='ä½ å¥½'))
        print("Greeter client received: " + response.message)
    
    if __name__ == '__main__':
        logging.basicConfig()
        run()
    

å®¢æˆ·ç«¯ AspNetCore é¡¹ç›®
-----------------

AspNetCore ä¸ gRPC çš„é›†æˆéå¸¸å®¹æ˜“

å…ˆæŠŠä¸Šé¢çš„ `proto` æ–‡ä»¶æ·»åŠ åˆ°é¡¹ç›®ä¸­

åœ¨æœ¬é¡¹ç›®ä¸­æˆ‘æ”¾åˆ° `Protos/chat.proto` ä¸­

å…ˆå®‰è£… nuget åŒ…

    dotnet add Grpc.AspNetCore
    

ç„¶åç¼–è¾‘ `.csproj` æ·»åŠ ä»¥ä¸‹é…ç½®

    <ItemGroup>
      <Protobuf Include="Protos\chat.proto" GrpcServices="Both" />
    </ItemGroup>
    

å…¶ä¸­ `GrpcServices="Both"` è¡¨ç¤ºåŒæ—¶ç”ŸæˆæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä»£ç 

å®Œæˆä¹‹åï¼ŒBuild é¡¹ç›®ï¼Œç„¶åå°±ä¼šåœ¨ `obj\Debug\net6.0\Protos` ç›®å½•ä¸‹ç”Ÿæˆå¯¹åº”çš„ä»£ç 

ä¸è¿‡è¿™äº›ä»£ç ä¸éœ€è¦ç›´æ¥å¼•ç”¨ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¤„ç†ã€‚

### å®¢æˆ·ç«¯

ç¼–è¾‘ `Program.cs` æ–‡ä»¶

æ³¨å†Œä¸€ä¸ª gRPC å®¢æˆ·ç«¯

    builder.Services.AddGrpcClient<ChatHub.ChatHubClient>(options => {
        options.Address = new Uri(builder.Configuration.GetValue<string>("gRPCServer"));
    });
    

å¦‚æœè¦æ³¨å†Œå¤šä¸ªç›¸åŒçš„å®¢æˆ·ç«¯ï¼Œå¯ä»¥åŠ ä¸ªåå­—åŒºåˆ†

    builder.Services.AddGrpcClient<ChatHub.ChatHubClient>("client1", options => {
        options.Address = new Uri(builder.Configuration.GetValue<string>("gRPCServer"));
    });
    builder.Services.AddGrpcClient<ChatHub.ChatHubClient>("client2", options => {
        options.Address = new Uri(builder.Configuration.GetValue<string>("gRPCServer"));
    });
    

ä½¿ç”¨çš„æ—¶å€™ç›´æ¥æ³¨å…¥å°±å®Œäº‹äº†ã€‚

å¦‚æœæ˜¯å‘½åå®¢æˆ·ç«¯ï¼Œå°±å…ˆæ³¨å…¥ `GrpcClientFactory` å¯¹è±¡

    var clinet1 = grpcClientFactory.CreateClient<ChatHub.ChatHubClient>("client1");
    var clinet2 = grpcClientFactory.CreateClient<ChatHub.ChatHubClient>("client2");
    

å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼ˆä¸€å…ƒæ¨¡å¼ï¼‰

    var request = new ChatRequest { Prompt = "å“ˆå–½" };
    ChatReply reply = ChatClient.Chat(request);
    

è¯»å–æµå¼è¿”å›æ•°æ®

    using (var call = ChatClient.StreamingChat(request)) {
      await foreach (var resp in call.ResponseStream.ReadAllAsync()) {
        Console.Write(resp.Response);
      }
    }
    

ç®€ç®€å•å•ï¼Œæå®š~

### æœåŠ¡ç«¯

åŒæ ·å¾ˆç®€å•

æ³¨å†ŒæœåŠ¡ã€é…ç½®ä¸­é—´ä»¶

    builder.Services.AddGrpc();
    app.MapGrpcService<ChatService>();
    

ChatService ä»£ç 

    public class ChatService : ChatHub.ChatHubBase {
      private readonly ILogger<ChatService> _logger;
    
      public ChatService(ILogger<ChatService> logger) {
        _logger = logger;
      }
      public override Task<ChatReply> Chat(ChatRequest request, ServerCallContext context) {
        return new Task<ChatReply>(() => new ChatReply { Response = $"ä½ å¥½ï¼Œ{request.Prompt}" });
      }
    
      public override async Task StreamingChat(ChatRequest request, IServerStreamWriter<ChatReply> responseStream,
                                               ServerCallContext context) {
        for (var i = 0; i < 5; i++) {
          await responseStream.WriteAsync(new ChatReply { Response = $"{i}" });
          await Task.Delay(TimeSpan.FromSeconds(1));
        }
      }
    }
    

åŒæ ·æ˜¯æŠŠ protobuf é‡Œå®šä¹‰çš„ä¿©æ–¹æ³•å®ç°äº†ä¸€éã€‚

ä»£ç æ¯”è¾ƒæ˜“æ‡‚ï¼Œè·Ÿä¸Šé¢çš„ Python ç‰ˆå·®ä¸å¤šï¼Œè¿™é‡Œå°±ä¸é‡å¤è§£é‡Šäº†ã€‚

å°ç»“
--

gRPC ä½¿ç”¨èµ·æ¥éå¸¸çš„ä¸æ»‘ï¼Œç›®å‰æ¥è¯´ä¹Ÿæ²¡é‡åˆ°ä»€ä¹ˆå‘ï¼Œå¯ä»¥éå¸¸å¹³æ»‘åœ°ä¸å·²æœ‰é¡¹ç›®é›†æˆï¼Œå¦‚æœæœ‰ç±»ä¼¼çš„åœºæ™¯ï¼Œå¼ºçƒˆæ¨èå°è¯•ä¸€ä¸‹ gRPC ï¼

gRPC çš„åŠŸèƒ½å¾ˆå¤šï¼Œæœ¬æ–‡ä»…ä»‹ç»äº†æœ€åŸºæœ¬çš„ä½¿ç”¨ï¼Œæ›´å¤šçš„è¯·é˜…è¯»æ–‡æ¡£ï¼Œè¯¦ç»†æœ‰äº†æœ¬æ–‡çš„åŸºç¡€é“ºå«ï¼Œè¯»è€…å†é˜…è¯»æ–‡æ¡£æ·±å…¥ä½¿ç”¨æ—¶ï¼Œä¼šæ¯”è¾ƒè½»æ¾ä¸Šæ‰‹ã€‚

> PSï¼šæœ€è¿‘è¿™ä¸ªä½¿ç”¨åˆ° gRPC çš„é¡¹ç›®ï¼Œæ¥ä¸‹æ¥æˆ‘ä¼šå†™ä¸ªå°ç»“åšå®¢ä»‹ç»ä¸€ä¸‹~

å‚è€ƒèµ„æ–™
----

*   Thrift ç®€å•ä»‹ç» - [https://www.jianshu.com/p/8f25d057a5a9](https://www.jianshu.com/p/8f25d057a5a9)
*   [https://grpc.io/docs/languages/python/quickstart/](https://grpc.io/docs/languages/python/quickstart/)
*   [https://learn.microsoft.com/zh-cn/aspnet/core/grpc/](https://learn.microsoft.com/zh-cn/aspnet/core/grpc/)

å¾®ä¿¡å…¬ä¼—å·ï¼šã€Œç¨‹åºè®¾è®¡å®éªŒå®¤ã€ ä¸“æ³¨äºäº’è”ç½‘çƒ­é—¨æ–°æŠ€æœ¯æ¢ç´¢ä¸å›¢é˜Ÿæ•æ·å¼€å‘å®è·µï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æœºå™¨å­¦ä¹ ä¸æ•°æ®åˆ†æç®—æ³•ã€ç§»åŠ¨ç«¯å¼€å‘ã€Linuxã€Webå‰åç«¯å¼€å‘ç­‰ï¼Œæ¬¢è¿ä¸€èµ·æ¢è®¨æŠ€æœ¯ï¼Œåˆ†äº«å­¦ä¹ å®è·µç»éªŒã€‚