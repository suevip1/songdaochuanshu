---
layout: post
title: "超声波、毫米波、ToF激光雷达——在低功耗场景的应用选型"
date: "2023-05-03T01:07:03.079Z"
---
超声波、毫米波、ToF激光雷达——在低功耗场景的应用选型
============================

前言：
---

目前主要的测距方式有：光学测距，超声波和微波雷达测距。

光学测距又可以分为：双目，结构光，`ToF`。微波雷达，在消费类产品中，常见的是波长在毫米级别的毫米波雷达。超声波应用比较多的是在车载倒车雷达上。

它们各有优缺点，本章内容只针对在户外低功耗场景的应用做分析。

(一)需求分析
-------

### 市场需求

1.  户外场景(比如路边，路面或是公园)
2.  低功耗产品，最短半年换一次电池
3.  探测近距离范围内的车辆，动物等
4.  全国范围内可以使用

市面上已有的类似方案：视频桩，路牙机

### 需求分析

对市场需求进行进一步分析，可以梳理出下面几个比较具体的产品需求:

1.  光照强度范围：0.2lx ~ 10万lx (月光级~太阳直射)
2.  气候条件：雨天，雾霾，以及少量尘埃覆盖条件下均可使用
3.  温度范围：-40~80°C
4.  环境干扰: 存在路边花草覆盖，垃圾遮挡，震动，无线等干扰情况
5.  功耗要求：1Hz 检测周期下，平均功耗低于5mW/s

(二)光学测距
-------

### 光学测距类型

光学测距，主要有**双目，结构光和ToF**三个技术方向。

结构光和双目都属于3D视觉技术，不但可以检测出距离，还可以输出速度，形状等信息。

ToF模块也有3D的，但如果只要检测距离，不用测量速度和判断物体形状，1D ToF就可以满足需求了。

### ToF基本原理

**ToF测距基本原理：** ToF模块发射端将调制后的红外光发送出去，接收端接收到反射回来的光，通过发送与反射回来光束的时间差或是相位差得到光飞行的时间。根据光的传播速度，结合检测到的飞行时间，可以计算出光传播的距离，从而知道模块距离被测试物体的距离。

`ToF` 细分之下，又分两种类型，`iToF` 和 `dToF`

### iToF 原理

将调制后的光发送出去，接收端接收到后，解析出接收到光束的相位，将它与发送时的相位进行对比，间接计算出光的传播时间，从而得到距离值。

`TI` 的 `OPT3101` 采用的就是`iToF`方式。

![](https://img2023.cnblogs.com/blog/555985/202304/555985-20230424151826195-843075398.png)  
![](https://img2023.cnblogs.com/blog/555985/202304/555985-20230424151845440-163425818.png)

### dToF 原理:

相比于 `iToF` 通过相位间接得到飞行时间，`dToF` 是通过发送时刻与接收时刻的时间差直接得到飞行时间，汐映微 用在扫地机器人上的CS10-S2A 就是使用的dToF技术。系统框图如下：

![](https://img2023.cnblogs.com/blog/555985/202304/555985-20230424151858162-913416848.png)

### 优点：

1.  模块结构较小
2.  探测角度较小
3.  功耗小

### 缺点：

1.  适用温度范围小(-10~60°C)
2.  需要保持模块表面清洁
3.  对光的干扰敏感

### 适用场景

1.  适用于冬季温度在-20°C以上地区，因为低温环境下， `ToF`模块的时钟精度会下降，导致测量距离不准。另外光学器件灵敏度下降，会导致一些非线性的错误结果，还有可能出现启动不了的情况。
    
2.  适用于安装在距离地面比较高的位置，并且模块上方有遮雨的结构设计。镜头有水，或者是镜头沾污，会影响模块性能。
    
3.  适用于没有阳光直射或是其它光干扰环境。目前使用比较多的ToF模块，激光波长在800~950nm 的范围。太阳光直射，容易导致感光元器件过曝。如果有波长为800~950nm的其它光源，比如车灯，路灯，会对模块造成干扰。
    

(三)超声波测距
--------

超声波测距，目前应用得最多的是在倒车雷达上，在近距离测距上使用非常多。一般人能听到的声波频率范围是20Hz~20Khz,低于20hz的我们叫次声波，高于20Khz,我们叫超声波。

### 测距原理

超声波测距的基本原理是：将固定频率的声波发射出去，然后再检测是否有该频率的声波被反射回来，通过计算发送和接收的时间，可以知道声波的传输时间，再乘以声波的速度，就可以得到距离。

目前成熟度比较高的是 `elmos` 的 `E524.09/08`

![](https://img2023.cnblogs.com/blog/555985/202304/555985-20230424151910194-845649850.png)

### 优点

1.  对环境光不敏感
2.  雨天雾天或是表面有灰尘不影响使用
3.  温度范围广(-40~80°C)

### 缺点

1.  准确度与探测物表面材质关系大
2.  对湿度、风力和气压敏感
3.  难以达到较小的探测角度
4.  功耗较大
5.  相应速度较慢

### 适用场景

1.  适用于探测硬度较大物体。超声波属于机械波，如果被探测物表面非常软，如海绵，会导致声波被吸收，影响探测结果
2.  适用于探测范围比较大的场景。声波是呈圆锥形发射，它的探测范围会比较大，一般探头的角度为40 \* 80,或者是30 \* 60;
3.  适用于震动较小场景。由于近距离测距的超声波模块，一般使用的是52KHz,或是58Khz,如果周围有噪音，或是有处于同频率的震动，会影响到检测结果。
4.  适用于-40°C ~ 80°C 的环境温度，基本上可以覆盖全国的户外场景。
5.  不适用于实时性要求高的场景。声波在空气中的传播速度是340m/s,其检测速度没有光学测距快。

(四)微波雷达
-------

微波雷达目前应用比较广的是汽车上的自适应巡航、前向碰撞、盲区监测、自动泊车等系统。它们的探测距离会比较远，可以到200米的距离，属于中距离和远距离探测器。

车载上使用的微波雷达，功耗很高，并不适用于普通消费级的低功耗设备上。

目前在普通消费级设备上，使用比较多的是频率在24GHz的毫米波雷达，比如汐杰微的`RKB1125FD` 模块，它在1Hz 检测周期下，平均功耗可以做到3.5mW/s

### 测距原理

测距原理和方式，跟ToF模块相类似，分为两种：一种是通过相位间接得到时间(调频式连续毫米波雷达),一种是直接得到时间(脉冲式毫米波雷达)，目前使用的基本上是调频式连续毫米波雷达。

![](https://img2023.cnblogs.com/blog/555985/202304/555985-20230424151919525-735874130.png)

### 优点

1.  雨雾天气不影响使用
2.  功耗较低
3.  抗干扰能力强
4.  温度范围较大(-30~80°C)

### 缺点

1.  天线角度较大
2.  距离精确度不是很高

### 适用场景

1.  适用于模块结构比较大的设备。在微波雷达中，尺寸最大的部分是微波雷达的天线，天线尺寸与探测角度是成反比，如果要小角度探测范围，那么天线的尺寸会相应的变大。
2.  适用温度范围较大，比ToF范围广，但比不上超声波。
3.  适用于响应速度较快场景，其速度接近ToF模块，远高于超声波。
4.  适用于准确度要求不太高的场景。就目前有测试到的模块，在近距离应用环境中，它的准确度并不这么高。
5.  适用于低功耗场景。它与超声波相比，在同样使用条件下，功耗可以低2倍左右。

总结
--

回到文章最开始市场的需求，就目前已经已接触到的模块，并没有哪种类型模块可以满足全部的需求。激光，超声波，毫米波它们都有适合的应用场景，同时也都有各种局限性。

我们需要根据自己的实际使用场景选择合适的模块，也可以多种探测器组合使用。

在市场的驱动下，也许在不久的将来，会有新的技术出来，能够解决上面所有应用场景的限制。

\---------------------------End---------------------------

长按识别二维码

关注 liwen01 公众号

![](https://img2023.cnblogs.com/blog/555985/202212/555985-20221229171054114-894213487.jpg)