---
layout: post
title: "趣图｜代码重构前vs重构后"
date: "2023-07-29T01:06:12.729Z"
---
趣图｜代码重构前vs重构后
=============

很多程序员对自己写的代码平时很随心所欲，但当有一天让他维护他人的代码，他就会抓狂，很容易激发他体内重构的瘾。（大多数程序员审阅完别人代码后，先会忍不住吐槽一番，然后会忍不住想重构一把，😂）

![](https://img2023.cnblogs.com/blog/647901/202307/647901-20230729084642035-901220602.png)

前言
--

很多程序员对自己写的代码平时很随心所欲，但当有一天让他维护他人的代码，他就会抓狂，很容易激发他体内重构的瘾。（大多数程序员审阅完别人代码后，先会忍不住吐槽一番，然后会忍不住想重构一把，😂）

在我看来，重构本身是一件值得肯定的事，但有个前提，一定不能影响原先业务功能！

不能因为重构了之后，原来好好的功能反而出问题了，甚至还影响了其他功能，那你这不是重构，是制造问题者。

这里我分享**两个关于重构的****小技巧**，希望日后小伙伴能谨慎的对待“重构”这件事，避免因为重构导致线上事故发生。

1、单测
----

重构完后，一定一定要记得单测。可千万别过分自信，觉得说自己没修改多少多少代码，然后就强制发布上线。

这种因为轻视或过分自信，在不自测的情况下，强制上线的生产事故，这两年还少吗。

所以经过充分的单测，才能保障你写的代码质量稳健。

最后，如果有条件，我建议你用账号登陆你的应用，去使用一下你重构后的功能，看它是否表现正常，就当全链路验证了。

2、对修改关闭，对新增开放
-------------

大家如果在重构的时候，面对被修改的代码，其多个地方引用，这个时候一定要小心了，很有可能你改了某一处，但影响了其他功能代码。

这里我有一个建议：不要去修改这种被多个地方引用的代码，你可以新增一个方法：比如重载一个新方法，供你这次的功能调用。然后你在这段新方法内部去重构，这样你的更改，一定不会影响其他功能。

> 原创：陶朱公Boy（微信公众号ID：taozhugongboy），欢迎分享，转载请保留出处。

![](https://img2022.cnblogs.com/blog/647901/202210/647901-20221029230713497-2068482934.jpg)