---
layout: post
title: "如何在 Windows10 Professional 服务器上搭建自己的 Git 服务器。"
date: "2023-07-07T01:25:36.832Z"
---
如何在 Windows10 Professional 服务器上搭建自己的 Git 服务器。

**一、简介  
　　　　以前，在别家的公司，一般早就把源代码管理工具搭建好了，很少有机会自己搭建一套。最近，公司也许要把现在不少的源码进行管理，于是我打算自己搭建源代码管理服务器。说起源代码管理，当然有很多中解决方案，我个人偏向搭建一个 Git 服务器。毕竟这个自己用的比较多，也熟悉。而且，现在一提到源代码管理，一般就是 Git。那选择什么样的 Git 服务器呢？这是一个问题，这方面我不太熟悉，都是使用别人搭建的。后来我看到了 Gitblit ，它适合小型团队的代码管理，正好符合我们需求。  
　　　　这个东西，没有搭过，第一次搭建这个，还踩了不少坑。不复杂，但是对于新手来说，还是挺麻烦的，于是，我就记录下来，以便以后使用。  
　　　　我的系统是 Windows 10 专业版。废话不多说，开始吧。  
  
二、配置步骤  
　　　　GitBlit 是用 Java 写的，如果你想要安装它，必须先安装它的运行环境，它对 JDK 版本最低的要求是 Java 7，等于或者大于这个版本的都没有问题。这个过程挺简单的，直接上图文说明。  
　　　　1、下载 Java 的JDK ，地址：[https://www.java.com/zh-CN/](https://www.java.com/zh-CN/)　　　　　　　　　　　　　　　　**![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706142827329-199456524.png)  
  
　　　　　　　　点击两次才到真正下载页面。****

　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706142951273-1209098129.png)

　　　　　　　　　　　　　　下载到本地的文件，我下载两个，一个是 JDK，一个是 JRE，大家只下载一个就好。

　　　　　　　　　　　　　　****![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706143256250-1919797077.png)****

　　　　**2、安装JDK步骤没有什么可说的，直接下一步就可以，根据自己的需求更改就可以。**  
  
　　　　**3、配置Java环境变量  
　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706143750999-524423200.png)**　　　　　　　　

　　　　　　　　 ![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706144137296-1379691007.png)　　　

  
　　　　　　　　右键”计算机” => ”属性” => ”高级系统设置” => ”高级” => “环境变量” => “系统变量”。

　　　　　　　　**1)、新建：**

　　　　　　　　　　　　变量名：JAVA\_HOME

　　　　　　　　　　　　变量值：D:\\program files\\Java\\jdk-1.8【具体要根据你自己的安装路径，我的是安装在D盘的】  
　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706144312067-653340816.png)

　　　　　　　　**2）、新建：**

　　　　　　　　　　　　变量名：CLASSPATH

　　　　　　　　　　　　变量值：%JAVA\_HOME%/lib/dt.jar;%JAVA\_HOME/%/lib/tools.jar

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706144325131-697206122.png)

　　　　　　　　**3）、添加：找到PATH变量，选择编辑。**  
　　　　　　　　　　　　把  %JAVA\_HOME%\\bin;%JAVA\_HOME%\\jre\\bin 添加到”变量值”的结尾处。  
　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706144335130-122099012.png)

　　　　**4：确保电脑安装了Java 运行时环境 JRE 或者 JDK （ version >=1.7 ）。**

　　　　　　　　在命令窗口中，输入java命令：java -version，回车，如果出现版本信息，说明安装成功。

　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706144458745-1480332647.png)

　　　　**5、下载Gitblit，切记，不用安装，只需解压，配置，启动就可以了。**

　　　　　　　　**1）、下载Gitblit，下载地址：[http://www.gitblit.com/](http://www.gitblit.com/)**

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706144703207-1756355807.png)

　　　　　　　　**2）、解压缩下载的压缩包即可，无需安装**

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706144802192-1207377617.png)

　　　　**6：配置Gitblit** 

　　　　　　　　**1）、创建用于存储文件的文件夹，根据自己的需求创建。**

　　　　　　　　　　　　　我的目录是：D:\\program files\\Git\\GitRepository  
　　　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706145018319-1148944872.png)

　　　　　　　　**2）、找到Git目录下的data文件下的 gitblit.properties 或者 defaults.properties 文件，用“记事本”或文本编辑器打开。**

　　　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706145334317-79493743.png)

　　　　　　　　　　　　　　如果该目录下存在 defaults.properties 和 gitblit.properties 两个文件，真正配置内容在 defaults.properties 这个文件里。

　　　　　　　　　　　　　　gitblit.properties 文件包含一个 defaults.properties 文件而已。  
　　　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706145604476-646063023.png)

　　　　　　　　**3）找到 git.repositoriesFolder（资料库路径），赋值为  第1）步 创建好的文件目录。**

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706145826404-1320733503.png)

　　　　　　　　**4）找到 server.httpPort，设定http协议的端口号（注意：所使用的端口不要与已有端口冲突）。**

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706150027708-747212664.png)

　　　　　　　　　　　　可以使用 netstat -ano|findstr 1000命令检查是否有冲突。

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706150239379-505220600.png)

　　　　　　　　**5）找到 server.httpBindInterface，设定服务器的IP地址。这里就设定你的服务器IP。**

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706150521208-1966646082.png)

　　　　　　　　****6）找到 server.httpsBindInterface，设定服务器的IP地址。可以保持默认：localhost。**  
　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706150707192-1730120498.png)**　　　　　　　　　　　　

　　　　　　　　**7）保存，关闭文件。**

　　　　**6、运行gitblit.cmd 批处理文件。**

　　　　　　　　**1）找到 gitblit 目录中的 gitblit.cmd 文件，双击运行。**

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706150948813-1244590200.png)

　　　　　　　　　　运行成功，结果如下：

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706151156031-1583050342.png)

　　　　　　　　**2）在浏览器中打开，现在就可以使用GitBlit了。**

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706151438832-1751724301.png)

　　　　**7、设置成服务方式（Windows Service）启动Gitblit**

　　　　　　**1）、在Gitblit目录下，找到 installService.cmd 文件。**

　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706151746152-1142645024.png)

　　　　　　**2）、用“记事本”或文本编辑器打开。**

> 　　　　　　　　修改 ARCH
> 
> 　　　　　　　　　　32位系统：SET ARCH=x86
> 
> 　　　　　　　　　　64位系统：SET ARCH=amd64
> 
> 　　　　　　　　添加 CD 为程序目录
> 
> 　　　　　　　　　　SET CD=E:\\Git\\gitblit-1.8.0 (你的实际目录)
> 
> 　　　　　　　　修改StartParams里的启动参数
> 
> 　　　　　　　　　　给空就可以了

　　　　　　　　　　　　![](https://img2023.cnblogs.com/blog/1048776/202307/1048776-20230706152018374-1693000282.png)

　　　　　　**3）、保存，关闭文件。**

　　　　　　**4）、关闭正在运行的cmd命令窗口，以管理员身份运行Gitblit目录下的installService.cmd文件。**

　　　　　　**5）、在服务器运行窗口中键入“services.msc”回车，打开 Windows 服务窗口。**

　　　　　　　　　　![](https://img2018.cnblogs.com/blog/1545277/201812/1545277-20181225172837580-724237488.png)

　　　　　　　　在服务中，就能看到已经存在的gitblit服务了

　　　　　　　　　　![](https://img2018.cnblogs.com/blog/1545277/201812/1545277-20181225172358979-1228914294.png)

　　　　　　**6）**启动该服务。平时使用时，保持这个服务是启动状态就可以了。

**三、总结  
　　　　虽然很简单，如果没有具体的操作过，还是会踩不少坑的。我第一次运行就失败了，提示缺少组件，找了半天解决方案，尝试了很多其他的方法，最后还是解决了。有了一个好的结果，还是很欣慰的。好了，今天就写到这里了，不忘初心，每天努力一点点，老天不会辜负努力的人。  
**

天下国家,可均也；爵禄,可辞也；白刃,可蹈也；中庸不可能也