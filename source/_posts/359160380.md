---
layout: post
title: "ã€è§„èŒƒã€‘SpringBootæ¥å£è¿”å›ç»“æœåŠå¼‚å¸¸ç»Ÿä¸€å¤„ç†ï¼Œè¿™æ ·å°è£…æ‰ä¼˜é›…"
date: "2023-09-16T00:55:45.503Z"
---
ã€è§„èŒƒã€‘SpringBootæ¥å£è¿”å›ç»“æœåŠå¼‚å¸¸ç»Ÿä¸€å¤„ç†ï¼Œè¿™æ ·å°è£…æ‰ä¼˜é›…
-----------------------------------

![ã€è§„èŒƒã€‘SpringBootæ¥å£è¿”å›ç»“æœåŠå¼‚å¸¸ç»Ÿä¸€å¤„ç†ï¼Œè¿™æ ·å°è£…æ‰ä¼˜é›…](https://img2023.cnblogs.com/blog/1872245/202309/1872245-20230915145222531-1711353373.png) æœ¬æ–‡é€šè¿‡å¤šä¸ªSpringBootå®é™…é¡¹ç›®è¿›è¡Œå½’çº³æ•´ç†ï¼Œä»ç»Ÿä¸€æ¥å£è¿”å›ç»“æœå’Œé…ç½®å…¨å±€å¼‚å¸¸å¤„ç†ä¸¤ä¸ªæ–¹é¢å‡ºå‘ï¼Œä»‹ç»å¦‚ä½•ä¼˜é›…çš„å°è£…è§„èŒƒåç«¯æ¥å£è¾“å‡ºï¼Œè¯¦ç»†åˆ¨æ@RestControllerAdviceå’Œ@ExceptionHandleræ³¨è§£åŠä½¿ç”¨æ–¹å¼ï¼Œå¢åŠ åç«¯æœåŠ¡å¥å£®æ€§å’Œä¸å‰ç«¯å¯¹æ¥è§„èŒƒæ€§

å‰è¨€
--

### ğŸŠç¼˜ç”±

#### åšå‹çš„éœ€æ±‚å°±æ˜¯æˆ‘æœ€å¤§çš„åŠ¨åŠ›

åšå‹ä¸€è¯´è¯ï¼Œæœ¬ç‹—ç¬‘å“ˆå“ˆã€‚**åšå‹è¦æˆ‘å†™å•¥ï¼Œæˆ‘å°±å†™å•¥**ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f5bc205f2be4ea5909e8a8730254640~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=614&h=377&s=50492&e=png&b=f5f5f5)

ç‰¹æ¥ä¸€ç¯‡å…³äº**SpringBootæ¥å£è¿”å›ç»“æœåŠå¼‚å¸¸ç»Ÿä¸€å¤„ç†**ï¼Œè™½è¯´å°ä¸å°è£…éƒ½èƒ½ç”¨ï¼Œä½†å’±åç«¯ä¹Ÿå¾—ç»™å‰ç«¯å°å§å§ç•™ä¸ªå¥½å°è±¡ä¸æ˜¯ã€‚é¡¹ç›®å‰åç«¯åˆ†ç¦»ï¼Œ**è§„èŒƒçš„æ•°æ®ä¼ è¾“æ ¼å¼ï¼Œè®©RESTé£æ ¼çš„APIå…·æœ‰ç®€å•ã€æ˜“è¯»ã€æ˜“ç”¨çš„ç‰¹ç‚¹**ã€‚ä¸ä»…ä»£ç ä¼˜ç¾ï¼Œä¹Ÿå¯ä»¥è®©å¸¦åˆ€çš„å‰ç«¯å°å§å§å˜å¾—æ›´æ¼‚äº®ã€‚ä»¥ä¸‹ä¾‹å­å‚è€ƒå¤šä¸ªå®é™…é¡¹ç›®ï¼Œæœ€ç»ˆæ€»ç»“æ¥è·Ÿå¤§å®¶è¿›è¡Œåˆ†äº«ï¼Œå¤§ä½¬å‹¿å–·ã€‚

* * *

### ğŸ¯ä¸»è¦ç›®æ ‡

#### å®ç°2å¤§é‡ç‚¹

##### 1\. ç»Ÿä¸€æ¥å£è¿”å›ç»“æœ

##### 2\. é…ç½®å…¨å±€å¼‚å¸¸å¤„ç†

* * *

æ­£æ–‡
--

### ğŸŠä¸€.ç»Ÿä¸€æ¥å£è¿”å›ç»“æœ

å‰ç«¯æ¥å£è¯·æ±‚åå°ç«¯ï¼Œåç«¯å°†è¿”å›ç»“æœ**ç»Ÿä¸€å°è£…**ã€‚æé«˜äº¤äº’çš„**è§„èŒƒæ€§**åŠ**é€šç”¨æ€§**ï¼Œä¹Ÿæé«˜äº†å‰åç«¯**è”è°ƒæ•ˆç‡**ã€‚å‰ç«¯æ ¹æ®è§„èŒƒæ ¼å¼è¿”å›ç»“æ„ä½“è¿›è¡Œç»Ÿä¸€æ˜ å°„å¤„ç†ï¼Œå°±é¿å…ä¸€ä¸ªæ¥å£ä¸€ä¸ªè¿”å›æ ¼å¼çš„é—®é¢˜ã€‚

#### 1.ç»Ÿä¸€å°è£…ç»“æœåŒ…å«å¦‚ä¸‹å‚æ•°

*   çŠ¶æ€ç ï¼šcode
*   çŠ¶æ€ä¿¡æ¯ï¼šstatus
*   è¿”å›ä¿¡æ¯ï¼šmessage
*   æ•°æ®ï¼šdata

#### 2.ç»Ÿä¸€å°è£…ç»“æœåŒ…å«å¦‚ä¸‹æ–¹æ³•

*   å…¨å‚æ•°æ–¹æ³•
*   æˆåŠŸè¿”å›ï¼ˆæ— å‚ï¼‰
*   æˆåŠŸè¿”å›ï¼ˆæšä¸¾ï¼‰
*   æˆåŠŸè¿”å›ï¼ˆçŠ¶æ€ç +è¿”å›ä¿¡æ¯ï¼‰
*   æˆåŠŸè¿”å›ï¼ˆè¿”å›ä¿¡æ¯ + æ•°æ®ï¼‰
*   æˆåŠŸè¿”å›ï¼ˆçŠ¶æ€ç +è¿”å›ä¿¡æ¯+æ•°æ®ï¼‰
*   æˆåŠŸè¿”å›ï¼ˆæ•°æ®ï¼‰
*   æˆåŠŸè¿”å›ï¼ˆè¿”å›ä¿¡æ¯ï¼‰
*   å¤±è´¥è¿”å›ï¼ˆæ— å‚ï¼‰
*   å¤±è´¥è¿”å›ï¼ˆæšä¸¾ï¼‰
*   å¤±è´¥è¿”å›ï¼ˆçŠ¶æ€ç +è¿”å›ä¿¡æ¯ï¼‰
*   å¤±è´¥è¿”å›ï¼ˆè¿”å›ä¿¡æ¯+æ•°æ®ï¼‰
*   å¤±è´¥è¿”å›ï¼ˆçŠ¶æ€ç +è¿”å›ä¿¡æ¯+æ•°æ®ï¼‰
*   å¤±è´¥è¿”å›ï¼ˆæ•°æ®ï¼‰
*   å¤±è´¥è¿”å›ï¼ˆè¿”å›ä¿¡æ¯ï¼‰

#### 3.ResponseResultå°è£…è¿”å›ç»“æœä»£ç 

    package net.javadog.common.result;
    
    import io.swagger.annotations.ApiModel;
    import io.swagger.annotations.ApiModelProperty;
    import lombok.AllArgsConstructor;
    import lombok.Data;
    import lombok.NoArgsConstructor;
    import net.javadog.common.enums.HttpStatusEnum;
    
    /**
     * è¿”å›ç»“æœé›†
     *
     * @author javadog
     **/
    @Data
    @AllArgsConstructor
    @NoArgsConstructor
    @ApiModel("ç»Ÿä¸€ç»“æœé›†å¤„ç†å™¨")
    public class ResponseResult<T> {
    
        /**
         * çŠ¶æ€ç 
         */
        @ApiModelProperty(value = "çŠ¶æ€ç ")
        private Integer code;
    
        /**
         * çŠ¶æ€ä¿¡æ¯
         */
        @ApiModelProperty(value = "çŠ¶æ€ä¿¡æ¯")
        private Boolean status;
    
        /**
         * è¿”å›ä¿¡æ¯
         */
        @ApiModelProperty(value = "è¿”å›ä¿¡æ¯")
        private String message;
    
        /**
         * æ•°æ®
         */
        @ApiModelProperty(value = "æ•°æ®")
        private T data;
    
        /**
         * å…¨å‚æ•°æ–¹æ³•
         *
         * @param code    çŠ¶æ€ç 
         * @param status  çŠ¶æ€
         * @param message è¿”å›ä¿¡æ¯
         * @param data    è¿”å›æ•°æ®
         * @param <T>     æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        private static <T> ResponseResult<T> response(Integer code, Boolean status, String message, T data) {
            ResponseResult<T> responseResult = new ResponseResult<>();
            responseResult.setCode(code);
            responseResult.setStatus(status);
            responseResult.setMessage(message);
            responseResult.setData(data);
            return responseResult;
        }
    
        /**
         * å…¨å‚æ•°æ–¹æ³•
         *
         * @param code    çŠ¶æ€ç 
         * @param status  çŠ¶æ€
         * @param message è¿”å›ä¿¡æ¯
         * @param <T>     æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        private static <T> ResponseResult<T> response(Integer code, Boolean status, String message) {
            ResponseResult<T> responseResult = new ResponseResult<>();
            responseResult.setCode(code);
            responseResult.setStatus(status);
            responseResult.setMessage(message);
            return responseResult;
        }
    
        /**
         * æˆåŠŸè¿”å›ï¼ˆæ— å‚ï¼‰
         *
         * @param <T> æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> success() {
            return response(HttpStatusEnum.SUCCESS.getCode(), true, HttpStatusEnum.SUCCESS.getMessage(), null);
        }
    
        /**
         * æˆåŠŸè¿”å›ï¼ˆæšä¸¾å‚æ•°ï¼‰
         *
         * @param httpResponseEnum æšä¸¾å‚æ•°
         * @param <T>              æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> success(HttpStatusEnum httpResponseEnum) {
            return response(httpResponseEnum.getCode(), true, httpResponseEnum.getMessage());
        }
    
        /**
         * æˆåŠŸè¿”å›ï¼ˆçŠ¶æ€ç +è¿”å›ä¿¡æ¯ï¼‰
         *
         * @param code    çŠ¶æ€ç 
         * @param message è¿”å›ä¿¡æ¯
         * @param <T>     æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> success(Integer code, String message) {
            return response(code, true, message);
        }
    
        /**
         * æˆåŠŸè¿”å›ï¼ˆè¿”å›ä¿¡æ¯ + æ•°æ®ï¼‰
         *
         * @param message è¿”å›ä¿¡æ¯
         * @param data    æ•°æ®
         * @param <T>     æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> success(String message, T data) {
            return response(HttpStatusEnum.SUCCESS.getCode(), true, message, data);
        }
    
        /**
         * æˆåŠŸè¿”å›ï¼ˆçŠ¶æ€ç +è¿”å›ä¿¡æ¯+æ•°æ®ï¼‰
         *
         * @param code    çŠ¶æ€ç 
         * @param message è¿”å›ä¿¡æ¯
         * @param data    æ•°æ®
         * @param <T>     æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> success(Integer code, String message, T data) {
            return response(code, true, message, data);
        }
    
        /**
         * æˆåŠŸè¿”å›ï¼ˆæ•°æ®ï¼‰
         *
         * @param data æ•°æ®
         * @param <T>  æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> success(T data) {
            return response(HttpStatusEnum.SUCCESS.getCode(), true, HttpStatusEnum.SUCCESS.getMessage(), data);
        }
    
        /**
         * æˆåŠŸè¿”å›ï¼ˆè¿”å›ä¿¡æ¯ï¼‰
         *
         * @param message è¿”å›ä¿¡æ¯
         * @param <T>  æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> success(String message) {
            return response(HttpStatusEnum.SUCCESS.getCode(), true, message, null);
        }
    
        /**
         * å¤±è´¥è¿”å›ï¼ˆæ— å‚ï¼‰
         *
         * @param <T> æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> fail() {
            return response(HttpStatusEnum.ERROR.getCode(), false, HttpStatusEnum.ERROR.getMessage(), null);
        }
    
        /**
         * å¤±è´¥è¿”å›ï¼ˆæšä¸¾ï¼‰
         *
         * @param httpResponseEnum æšä¸¾
         * @param <T>              æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> fail(HttpStatusEnum httpResponseEnum) {
            return response(httpResponseEnum.getCode(), false, httpResponseEnum.getMessage());
        }
    
        /**
         * å¤±è´¥è¿”å›ï¼ˆçŠ¶æ€ç +è¿”å›ä¿¡æ¯ï¼‰
         *
         * @param code    çŠ¶æ€ç 
         * @param message è¿”å›ä¿¡æ¯
         * @param <T>     æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> fail(Integer code, String message) {
            return response(code, false, message);
        }
    
        /**
         * å¤±è´¥è¿”å›ï¼ˆè¿”å›ä¿¡æ¯+æ•°æ®ï¼‰
         *
         * @param message è¿”å›ä¿¡æ¯
         * @param data    æ•°æ®
         * @param <T>     æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> fail(String message, T data) {
            return response(HttpStatusEnum.ERROR.getCode(), false, message, data);
        }
    
        /**
         * å¤±è´¥è¿”å›ï¼ˆçŠ¶æ€ç +è¿”å›ä¿¡æ¯+æ•°æ®ï¼‰
         *
         * @param code    çŠ¶æ€ç 
         * @param message è¿”å›æ¶ˆæ¯
         * @param data    æ•°æ®
         * @param <T>     æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> fail(Integer code, String message, T data) {
            return response(code, false, message, data);
        }
    
        /**
         * å¤±è´¥è¿”å›ï¼ˆæ•°æ®ï¼‰
         *
         * @param data æ•°æ®
         * @param <T>  æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> fail(T data) {
            return response(HttpStatusEnum.ERROR.getCode(), false, HttpStatusEnum.ERROR.getMessage(), data);
        }
    
        /**
         * å¤±è´¥è¿”å›ï¼ˆè¿”å›ä¿¡æ¯ï¼‰
         *
         * @param message è¿”å›ä¿¡æ¯
         * @param <T>  æ³›å‹
         * @return {@link ResponseResult<T>}
         */
        public static <T> ResponseResult<T> fail(String message) {
            return response(HttpStatusEnum.ERROR.getCode(), false, message, null);
        }
    }
    
    
    

#### 4.HttpStatusEnumè¿”å›ç»“æœä»£ç 

    package net.javadog.common.enums;
    
    import lombok.Getter;
    
    /**
     * HttpçŠ¶æ€è¿”å›æšä¸¾
     *
     * @author javadog
     **/
    @Getter
    public enum HttpStatusEnum {
        /**
         * æ“ä½œæˆåŠŸ
         */
        SUCCESS(200, "æ“ä½œæˆåŠŸ"),
        /**
         * å¯¹è±¡åˆ›å»ºæˆåŠŸ
         */
        CREATED(201, "å¯¹è±¡åˆ›å»ºæˆåŠŸ"),
        /**
         * è¯·æ±‚å·²ç»è¢«æ¥å—
         */
        ACCEPTED(202, "è¯·æ±‚å·²ç»è¢«æ¥å—"),
        /**
         * æ“ä½œå·²ç»æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰è¿”å›æ•°æ®
         */
        NO_CONTENT(204, "æ“ä½œå·²ç»æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰è¿”å›æ•°æ®"),
        /**
         * èµ„æºå·²è¢«ç§»é™¤
         */
        MOVED_PERM(301, "èµ„æºå·²è¢«ç§»é™¤"),
        /**
         * é‡å®šå‘
         */
        SEE_OTHER(303, "é‡å®šå‘"),
        /**
         * èµ„æºæ²¡æœ‰è¢«ä¿®æ”¹
         */
        NOT_MODIFIED(304, "èµ„æºæ²¡æœ‰è¢«ä¿®æ”¹"),
        /**
         * å‚æ•°åˆ—è¡¨é”™è¯¯ï¼ˆç¼ºå°‘ï¼Œæ ¼å¼ä¸åŒ¹é…ï¼‰
         */
        BAD_REQUEST(400, "å‚æ•°åˆ—è¡¨é”™è¯¯ï¼ˆç¼ºå°‘ï¼Œæ ¼å¼ä¸åŒ¹é…ï¼‰"),
        /**
         * æœªæˆæƒ
         */
        UNAUTHORIZED(401, "æœªæˆæƒ"),
        /**
         * è®¿é—®å—é™ï¼Œæˆæƒè¿‡æœŸ
         */
        FORBIDDEN(403, "è®¿é—®å—é™ï¼Œæˆæƒè¿‡æœŸ"),
        /**
         * èµ„æºï¼ŒæœåŠ¡æœªæ‰¾åˆ°
         */
        NOT_FOUND(404, "èµ„æºï¼ŒæœåŠ¡æœªæ‰¾ï¼"),
        /**
         * ä¸å…è®¸çš„httpæ–¹æ³•
         */
        BAD_METHOD(405, "ä¸å…è®¸çš„httpæ–¹æ³•"),
        /**
         * èµ„æºå†²çªï¼Œæˆ–è€…èµ„æºè¢«é”
         */
        CONFLICT(409, "èµ„æºå†²çªï¼Œæˆ–è€…èµ„æºè¢«é”"),
        /**
         * ä¸æ”¯æŒçš„æ•°æ®ï¼Œåª’ä½“ç±»å‹
         */
        UNSUPPORTED_TYPE(415, "ä¸æ”¯æŒçš„æ•°æ®ï¼Œåª’ä½“ç±»å‹"),
        /**
         * ç³»ç»Ÿå†…éƒ¨é”™è¯¯
         */
        ERROR(500, "ç³»ç»Ÿå†…éƒ¨é”™è¯¯"),
        /**
         * æ¥å£æœªå®ç°
         */
        NOT_IMPLEMENTED(501, "æ¥å£æœªå®ç°"),
        /**
         * ç³»ç»Ÿè­¦å‘Šæ¶ˆæ¯
         */
        WARN(601,"ç³»ç»Ÿè­¦å‘Šæ¶ˆæ¯");
    
        private final Integer code;
        private final String message;
    
        HttpStatusEnum(Integer code, String message) {
            this.code = code;
            this.message = message;
        }
    }
    
    

#### 5.SysLoginControllerå®æ“è°ƒè¯•

    /**
     * ç™»å½•éªŒè¯
     *
     * @author javadog
     */
    @RestController
    public class SysLoginController {
    
        @Resource
        private SysLoginService loginService;
    
        /**
         * ç™»å½•æ–¹æ³•
         *
         * @param loginRequest ç™»å½•ä¿¡æ¯
         * @return ç»“æœ
         */
        @PostMapping("/login")
        public ResponseResult login(@RequestBody LoginRequest loginRequest) {
            // ç”Ÿæˆä»¤ç‰Œ
            String token = loginService.login(loginRequest.getUsername(), loginRequest.getPassword());
            return ResponseResult.success(token);
        }
    
    }
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2167cb7b09a34f8d83078291fb05e549~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=893&h=597&s=79704&e=png&b=2b2b2b)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d281a786762b452bb470c3d461d99aec~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1371&h=737&s=90094&e=png&b=fffffe)

* * *

### ğŸ‹äºŒ.é…ç½®å…¨å±€å¼‚å¸¸å¤„ç†

**åœ¨ä½¿ç”¨ä¸Šæ–¹ç»Ÿä¸€è¿”å›ç»“æœçš„åŠ æŒä¸‹ï¼Œè§„èŒƒçš„åŒæ—¶ä¹Ÿä¸å¯é¿å…ç¨‹åºå¼‚å¸¸æƒ…å†µ**ã€‚å› æ­¤æˆ‘ä»¬å¿…é¡»æå‰å®šä¹‰ä¸€ä¸ªç»Ÿä¸€å…¨å±€å¼‚å¸¸æ¥æ•è·è¿™äº›å¼‚å¸¸ä¿¡æ¯ï¼Œå¹¶å°†å…¶å½“ä½œä¸€ç§ç»“æœè¿”å›ç»™æ§åˆ¶å±‚ï¼Œå‹å¥½çš„å¤„ç†å¼‚å¸¸ä¿¡æ¯ã€‚

#### 1.å…¨å±€å¼‚å¸¸å¤„ç†æ³¨è§£

**@RestControllerAdvice**

@RestControllerAdviceä»€ä¹ˆæ˜¯ï¼Ÿ

*   **@RestControllerAdviceæ³¨è§£**æ˜¯Spring MVCå’ŒSpring Bootåº”ç”¨ç¨‹åºä¸­ç”¨äºå®šä¹‰**å…¨å±€å¼‚å¸¸å¤„ç†ç±»çš„æ³¨è§£**ï¼Œå®ƒæ˜¯@ControllerAdviceæ³¨è§£çš„ç‰¹æ®Šç‰ˆæœ¬ï¼Œæ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œ**ç”±@ControllerAdviceã€@ResponseBodyç»„æˆ**ã€‚
    
*   **@ControllerAdviceç»§æ‰¿äº†@Component**ï¼Œå› æ­¤@RestControllerAdviceæœ¬è´¨ä¸Šæ˜¯ä¸ªç»„ä»¶ï¼Œç”¨äº**å®šä¹‰@ExceptionHandlerï¼Œ@InitBinderå’Œ@ModelAttributeæ–¹æ³•ï¼Œé€‚ç”¨äºæ‰€æœ‰ä½¿ç”¨@RequestMappingæ–¹æ³•**ã€‚
    

@RestControllerAdviceæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ

*   æ³¨è§£@RestControllerAdviceçš„ç±»çš„æ–¹æ³•å¯ä»¥**ä½¿ç”¨@ExceptionHandlerã€@InitBinderã€@ModelAttributeæ³¨è§£åˆ°æ–¹æ³•ä¸Š**ã€‚
*   @RestControllerAdviceæ³¨è§£å°†ä½œç”¨äºæ‰€æœ‰**æ³¨è§£äº†@RequestMappingçš„æ§åˆ¶å™¨çš„æ–¹æ³•ä¸Š**ã€‚
*   @ExceptionHandlerï¼šç”¨äºæŒ‡å®šå¼‚å¸¸å¤„ç†æ–¹æ³•ï¼Œ**ä¸@RestControllerAdviceé…åˆä½¿ç”¨æ—¶ï¼Œç”¨äºå…¨å±€å¤„ç†æ§åˆ¶å™¨é‡Œçš„å¼‚å¸¸**ã€‚
*   @InitBinderï¼šç”¨æ¥è®¾ç½®WebDataBinderï¼Œç”¨äºè‡ªåŠ¨ç»‘å®šå‰å°è¯·æ±‚å‚æ•°åˆ°Modelä¸­ã€‚
*   @ModelAttributeï¼šæœ¬æ¥ä½œç”¨æ˜¯ç»‘å®šé”®å€¼å¯¹åˆ°Modelä¸­ï¼Œå½“ä¸@ControllerAdviceé…åˆä½¿ç”¨æ—¶ï¼Œå¯ä»¥è®©å…¨å±€çš„@RequestMappingéƒ½èƒ½è·å¾—åœ¨æ­¤å¤„è®¾ç½®çš„é”®å€¼å¯¹

#### 2.@ExceptionHandlerå¸¸ç”¨å¼‚å¸¸æ‹¦æˆª

*   æƒé™æ ¡éªŒå¼‚å¸¸ï¼šAccessDeniedExceptionï¼ˆspring-securityä¸­å¼‚å¸¸ï¼‰
*   è¯·æ±‚æ–¹å¼ä¸æ”¯æŒï¼šHttpRequestMethodNotSupportedException
*   ä¸šåŠ¡å¼‚å¸¸ï¼šServiceExceptionï¼ˆè‡ªå·±ä¸šåŠ¡å®šä¹‰å¼‚å¸¸ï¼‰
*   æ‹¦æˆªæœªçŸ¥çš„è¿è¡Œæ—¶å¼‚å¸¸ï¼šRuntimeException
*   ç³»ç»Ÿå¼‚å¸¸ï¼šException
*   è‡ªå®šä¹‰éªŒè¯å¼‚å¸¸ï¼šBindException
*   è‡ªå®šä¹‰éªŒè¯å¼‚å¸¸ï¼šMethodArgumentNotValidException

#### 3.å…¨å±€å¼‚å¸¸å¤„ç†ä»£ç 

    package net.javadog.common.exception;
    
    import cn.hutool.core.util.ObjectUtil;
    import net.javadog.common.enums.HttpStatusEnum;
    import net.javadog.common.result.ResponseResult;
    import org.slf4j.Logger;
    import org.slf4j.LoggerFactory;
    import org.springframework.security.access.AccessDeniedException;
    import org.springframework.validation.BindException;
    import org.springframework.web.HttpRequestMethodNotSupportedException;
    import org.springframework.web.bind.MethodArgumentNotValidException;
    import org.springframework.web.bind.annotation.ExceptionHandler;
    import org.springframework.web.bind.annotation.RestControllerAdvice;
    
    import javax.servlet.http.HttpServletRequest;
    
    /**
     * å¼‚å¸¸å¤„ç† é…ç½®
     *
     * @author javadog
     */
    @RestControllerAdvice
    public class GlobalException {
    
        private static final Logger log = LoggerFactory.getLogger(GlobalException.class);
    
        /**
         * æƒé™æ ¡éªŒå¼‚å¸¸
         */
        @ExceptionHandler(AccessDeniedException.class)
        public ResponseResult handleAccessDeniedException(AccessDeniedException e, HttpServletRequest request) {
            String requestURI = request.getRequestURI();
            log.error("è¯·æ±‚åœ°å€'{}',æƒé™æ ¡éªŒå¤±è´¥'{}'", requestURI, e.getMessage());
            return ResponseResult.fail(HttpStatusEnum.FORBIDDEN.getCode(), HttpStatusEnum.FORBIDDEN.getMessage());
        }
    
        /**
         * è¯·æ±‚æ–¹å¼ä¸æ”¯æŒ
         */
        @ExceptionHandler(HttpRequestMethodNotSupportedException.class)
        public ResponseResult handleHttpRequestMethodNotSupported(HttpRequestMethodNotSupportedException e,
                                                              HttpServletRequest request) {
            String requestURI = request.getRequestURI();
            log.error("è¯·æ±‚åœ°å€'{}',ä¸æ”¯æŒ'{}'è¯·æ±‚", requestURI, e.getMethod());
            return ResponseResult.fail(e.getMessage());
        }
    
        /**
         * ä¸šåŠ¡å¼‚å¸¸
         */
        @ExceptionHandler(ServiceException.class)
        public ResponseResult handleServiceException(ServiceException e) {
            log.error(e.getMessage(), e);
            Integer code = e.getCode();
            return ObjectUtil.isNotNull(code) ? ResponseResult.fail(code, e.getMessage()) : ResponseResult.fail(e.getMessage());
        }
    
        /**
         * æ‹¦æˆªæœªçŸ¥çš„è¿è¡Œæ—¶å¼‚å¸¸
         */
        @ExceptionHandler(RuntimeException.class)
        public ResponseResult handleRuntimeException(RuntimeException e, HttpServletRequest request) {
            String requestURI = request.getRequestURI();
            log.error("è¯·æ±‚åœ°å€'{}',å‘ç”ŸæœªçŸ¥å¼‚å¸¸.", requestURI, e);
            return ResponseResult.fail(e.getMessage());
        }
    
        /**
         * ç³»ç»Ÿå¼‚å¸¸
         */
        @ExceptionHandler(Exception.class)
        public ResponseResult handleException(Exception e, HttpServletRequest request) {
            String requestURI = request.getRequestURI();
            log.error("è¯·æ±‚åœ°å€'{}',å‘ç”Ÿç³»ç»Ÿå¼‚å¸¸.", requestURI, e);
            return ResponseResult.fail(e.getMessage());
        }
    
        /**
         * è‡ªå®šä¹‰éªŒè¯å¼‚å¸¸
         */
        @ExceptionHandler(BindException.class)
        public ResponseResult handleBindException(BindException e) {
            log.error(e.getMessage(), e);
            String message = e.getAllErrors().get(0).getDefaultMessage();
            return ResponseResult.fail(message);
        }
    
        /**
         * è‡ªå®šä¹‰éªŒè¯å¼‚å¸¸
         */
        @ExceptionHandler(MethodArgumentNotValidException.class)
        public Object handleMethodArgumentNotValidException(MethodArgumentNotValidException e) {
            log.error(e.getMessage(), e);
            String message = e.getBindingResult().getFieldError().getDefaultMessage();
            return ResponseResult.fail(message);
        }
    
    }
    

#### 4.å…¨å±€å¼‚å¸¸å¤„ç†å®æ“è°ƒè¯•

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/748ef065d94e4611ada91ceb659f8281~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1397&h=790&s=93387&e=png&b=fffefe)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1f709e0bdf849e3a7618b7bea2ecfdd~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1205&h=781&s=202396&e=png&b=2c2c2c)

æ€»ç»“
--

æœ¬æ–‡é€šè¿‡å¤šä¸ªSpringBootå®é™…é¡¹ç›®è¿›è¡Œå½’çº³æ•´ç†ï¼Œä»**ç»Ÿä¸€æ¥å£è¿”å›ç»“æœ**å’Œ**é…ç½®å…¨å±€å¼‚å¸¸å¤„ç†**ä¸¤ä¸ªæ–¹é¢å‡ºå‘ï¼Œä»‹ç»**å¦‚ä½•ä¼˜é›…çš„å°è£…è§„èŒƒåç«¯æ¥å£è¾“å‡º**ï¼Œè¯¦ç»†**åˆ¨æ@RestControllerAdviceå’Œ@ExceptionHandleræ³¨è§£**åŠä½¿ç”¨æ–¹å¼ï¼Œå¢åŠ åç«¯**æœåŠ¡å¥å£®æ€§**å’Œä¸**å‰ç«¯å¯¹æ¥è§„èŒƒæ€§**ï¼Œå¸Œæœ›ç”±æ­¤åŒ–ç¹ä¸ºç®€ï¼Œèƒ½å¤Ÿå¸®åˆ°åšå‹åˆ†æ¯«ã€‚

* * *

### ğŸˆçŒœä½ æƒ³é—®

#### å¦‚ä½•ä¸ç‹—å“¥è”ç³»è¿›è¡Œæ¢è®¨

##### å…³æ³¨å…¬ä¼—å·ã€JavaDogç¨‹åºç‹—ã€‘

å…¬ä¼—å·å›å¤ã€å…¥ç¾¤ã€‘æˆ–è€…ã€åŠ å…¥ã€‘ï¼Œä¾¿å¯æˆä¸ºã€ç¨‹åºå‘˜å­¦ä¹ äº¤æµæ‘¸é±¼ç¾¤ã€‘çš„ä¸€å‘˜ï¼Œé—®é¢˜éšä¾¿é—®ï¼Œç‰›é€¼éšä¾¿å¹ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/655622f81c294f468e50fd7d8423c4bd~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=783&h=370&s=313065&e=png&b=ebf8f3)

**æ­¤ç¾¤ä¼˜åŠ¿ï¼š**

1.  æŠ€æœ¯äº¤æµéšæ—¶æ²Ÿé€š
2.  ä»»ä½•ç§æ´»èµ„æºå…è´¹åˆ†äº«
3.  å®æ—¶ç§‘æŠ€åŠ¨æ€æŠ¢å…ˆçŸ¥æ™“
4.  CSDNèµ„æºå…è´¹ä¸‹è½½
5.  æœ¬äººä¸€åˆ‡æºç å‡ç¾¤å†…å¼€æºï¼Œå¯å…è´¹ä½¿ç”¨

##### 2.è¸©è¸©ç‹—å“¥åšå®¢

[javadog.net](https://www.javadog.net/)

> å¤§å®¶å¯ä»¥åœ¨é‡Œé¢ç•™è¨€ï¼Œéšæ„å‘æŒ¥ï¼Œæœ‰é—®å¿…ç­”

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/71eaf762d0c74a9ab7cc30e49386b7e6~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1920&h=881&s=845434&e=png&b=f5f8fa)

* * *

### ğŸ¯çŒœä½ å–œæ¬¢

#### æ–‡ç« æ¨è

[ã€é¡¹ç›®å®æˆ˜ã€‘SpringBoot+uniapp+uview2æ‰“é€ H5+å°ç¨‹åº+APPå…¥é—¨å­¦ä¹ çš„èŠå¤©å°é¡¹ç›®](https://mp.weixin.qq.com/s/g7AZOWLgW5vcCahyJDEPKA)

[ã€é¡¹ç›®å®æˆ˜ã€‘SpringBoot+uniapp+uview2æ‰“é€ ä¸€ä¸ªä¼ä¸šé»‘çº¢åå•åæ§½å°ç¨‹åº](https://mp.weixin.qq.com/s/t_qwF_HvkdW-6TI3sYUHrA)

[ã€æ¨¡å—åˆ†å±‚ã€‘è¿˜ä¸ä¼šSpringBooté¡¹ç›®æ¨¡å—åˆ†å±‚ï¼Ÿæ¥è¿™æ‰‹æŠŠæ‰‹æ•™ä½ ï¼](https://mp.weixin.qq.com/s/fpkiNR2tj832a6VxZozwDg)

[ã€ChatGPTã€‘æ‰‹æ‘¸æ‰‹ï¼Œå¸¦ä½ ç©è½¬ChatGPT](https://mp.weixin.qq.com/s/9wEelbTN6kaChkCQHmgJMQ)

[ã€ChatGPTã€‘SpringBoot+uniapp+uview2å¯¹æ¥OpenAIï¼Œå¸¦ä½ å¼€å‘ç©è½¬ChatGPT](https://mp.weixin.qq.com/s/b19J36Eo3-ba7bHbWzoZYQ)

* * *

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf72d0753200442c983c87c522aebcec~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=2436&h=1124&s=574642&e=jpg&b=998c7f)

posted on 2023-09-15 14:53Â  [JavaDogç¨‹åºç‹—](https://www.cnblogs.com/javadog-net/)Â  é˜…è¯»(242)Â  è¯„è®º(2)Â  [ç¼–è¾‘](https://i.cnblogs.com/EditPosts.aspx?postid=17705026)Â  [æ”¶è—](javascript:void(0))Â  [ä¸¾æŠ¥](javascript:void(0))