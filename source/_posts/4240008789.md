---
layout: post
title: "å…¨é¢çš„ASP.NET Core Blazorç®€ä»‹å’Œå¿«é€Ÿå…¥é—¨"
date: "2023-06-15T01:13:51.499Z"
---
å…¨é¢çš„ASP.NET Core Blazorç®€ä»‹å’Œå¿«é€Ÿå…¥é—¨
=============================

å‰è¨€
--

Â ã€€ã€€å› ä¸ºå’±ä»¬çš„MongoDBå…¥é—¨åˆ°å®æˆ˜æ•™ç¨‹Webç«¯å‡†å¤‡ä½¿ç”¨Blazoræ¥ä½œä¸ºå‰ç«¯å±•ç¤ºUIï¼Œæœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä»‹ç»Blazoræ˜¯ä¸€ä¸ªæ€æ ·çš„Web UIæ¡†æ¶ï¼Œå…¶ä¼˜åŠ¿å’Œç‰¹ç‚¹åœ¨å“ªï¼Ÿå¹¶å¸¦ä½ å¿«é€Ÿå…¥é—¨ä¸Šæ‰‹ASP.NET Core Blazor(å½“ç„¶è¿™ä¸ªå‰ææ˜¯ä½ è¦æœ‰ä¸€å®šçš„C#ç¼–ç¨‹åŸºç¡€çš„æƒ…å†µï¼Œå‡å¦‚ä½ å®Œå…¨æ²¡æœ‰æ¥è§¦è¿‡C#çš„è¯å»ºè®®ä½ å…ˆä»åŸºæœ¬è¯­æ³•å­¦èµ·)ã€‚

Blazoræ˜¯ä»€ä¹ˆï¼Ÿ
----------

*   Blazoræ˜¯ä¸€ä¸ªä½¿ç”¨ .NETæ¡†æ¶å’ŒC#ç¼–ç¨‹è¯­è¨€Razorè¯­æ³•æ„å»ºWebåº”ç”¨ç¨‹åºçš„UIæ¡†æ¶ï¼Œå®ƒå¯ä»¥ç”¨äºæ„å»ºå•é¡µåº”ç”¨ï¼ˆSPAï¼‰å’Œ WebæœåŠ¡ï¼Œå®ƒä½¿ç”¨ç¼–è¯‘çš„C#æ¥æ“çºµHTML DOMæ¥æ›¿ä»£JavaScriptã€‚Blazor çš„ç›®æ ‡æ˜¯è®©å¼€å‘äººå‘˜ä½¿ç”¨C#ç¼–ç¨‹è¯­è¨€æ¥ç¼–å†™ Web åº”ç”¨ç¨‹åºï¼Œä½¿å¾—C#ç¨‹åºå‘˜å¯ä»¥åœ¨ä¸€ä¸ªç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€ä¸­å®Œæˆæ•´ä¸ªåº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚è¿™æ ·æ—¢å¯ä»¥æé«˜å¼€å‘æ•ˆç‡ï¼Œä¹Ÿå¯ä»¥å‡å°‘å­¦ä¹ æˆæœ¬ã€‚
*   Blazorçš„æ ¸å¿ƒæŠ€æœ¯åŸºäºWebAssemblyï¼Œå®ƒå…è®¸åœ¨æµè§ˆå™¨ä¸­è¿è¡Œç¼–è¯‘åçš„æœ¬åœ°ä»£ç ï¼Œä»è€Œä½¿å¾—.NETè¿è¡Œæ—¶å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚åœ¨Blazor ä¸­ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨Razoræ¨¡æ¿è¯­æ³•æˆ–è€…C#è¯­è¨€æ¥ç¼–å†™Webåº”ç”¨ç¨‹åºçš„é€»è¾‘å’Œç•Œé¢ä»£ç ã€‚Blazor åº”ç”¨ç¨‹åºå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæœåŠ¡ç«¯åº”ç”¨ç¨‹åºåœ¨æœåŠ¡å™¨ç«¯è¿è¡Œï¼Œå¹¶é€šè¿‡ SignalR å®æ—¶é€šä¿¡ã€‚
*   Blazoræä¾›äº†ä¸€äº›å¸¸è§çš„UIç»„ä»¶å’Œå¸ƒå±€æ§ä»¶ï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥å¿«é€Ÿæ­å»º Web åº”ç”¨ç¨‹åºçš„å‰ç«¯ç•Œé¢ã€‚æ­¤å¤–ï¼ŒBlazor è¿˜æ”¯æŒä¾èµ–æ³¨å…¥ã€è·¯ç”±å’Œå¯é‡ç”¨ç»„ä»¶ç­‰åŠŸèƒ½ï¼Œå¢å¼ºäº†åº”ç”¨ç¨‹åºçš„çµæ´»æ€§å’Œå¯é‡ç”¨æ€§ã€‚

> æ€»è€Œè¨€ä¹‹ï¼šBlazoræ˜¯ä¸€ç§æ–°å…´çš„Webåº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œå…·æœ‰å¾ˆå¤§çš„æ½œåŠ›å’Œå‘å±•å‰æ™¯ã€‚Blazoræ˜¯åœ¨.NETå’ŒRazorä¸Šæ„å»ºçš„ç”¨æˆ·ç•Œé¢æ¡†æ¶ï¼Œå®ƒé‡‡ç”¨äº†æœ€æ–°çš„WebæŠ€æœ¯å’Œ.NETæ¡†æ¶ä¼˜åŠ¿ï¼Œå¯ä»¥ä½¿ç”¨C# ç¼–ç¨‹è¯­è¨€ç¼–å†™Web åº”ç”¨ç¨‹åºï¼Œå®ƒä¸ä»…å¯ä»¥æé«˜å¼€å‘æ•ˆç‡ï¼Œè¿˜å¯ä»¥æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå’Œæ›´å¥½çš„å¯ç»´æŠ¤æ€§ã€‚

Blazorçš„ä¼˜åŠ¿å’Œç‰¹ç‚¹
------------

Blazoræ˜¯ä¸€ä¸ªåŸºäº.NETæ¡†æ¶å’Œ C#ç¼–ç¨‹è¯­è¨€æ„å»º Web åº”ç”¨ç¨‹åºçš„ UI æ¡†æ¶ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜åŠ¿å’Œç‰¹ç‚¹ï¼š

*   ç®€åŒ–å¼€å‘æµç¨‹ï¼šåœ¨Blazorä¸­ï¼Œå‰ç«¯å’Œåç«¯éƒ½å¯ä»¥ä½¿ç”¨C#è¿›è¡Œç¼–ç¨‹ï¼Œä½¿å¾—C#ç¨‹åºå‘˜å¯ä»¥åœ¨ä¸€ä¸ªç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€ä¸­å®Œæˆæ•´ä¸ªåº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Œé¿å…äº†å­¦ä¹ å¤šç§è¯­è¨€å’Œæ¡†æ¶çš„éº»çƒ¦ã€‚
*   é«˜æ•ˆçš„æ€§èƒ½ï¼šBlazoråº”ç”¨ç¨‹åºå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨æœåŠ¡ç«¯è¿è¡Œï¼Œå¹¶é€šè¿‡SignalRå®æ—¶é€šä¿¡ï¼Œä»è€Œå¯ä»¥å‡å°‘ç½‘ç»œå»¶è¿Ÿå’Œå¸¦å®½æ¶ˆè€—ï¼Œæé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚
*   å®‰å…¨æ€§å¼ºï¼šBlazor åº”ç”¨ç¨‹åºä¸éœ€è¦åœ¨å®¢æˆ·ç«¯ä¸Šè¿è¡Œä»»ä½•JavaScriptä»£ç ï¼Œç›¸å¯¹äºä¼ ç»Ÿçš„Webåº”ç”¨ç¨‹åºï¼Œå¯ä»¥å¤§å¹…åº¦é™ä½åº”ç”¨ç¨‹åºå—åˆ°è·¨ç«™ç‚¹è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰çš„é£é™©ã€‚
*   æ˜“äºæµ‹è¯•å’Œè°ƒè¯•ï¼šç”±äºBlazoråº”ç”¨ç¨‹åºçš„ä»£ç éƒ½æ˜¯ä½¿ç”¨C#ç¼–å†™çš„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨Visual Studioå’Œå…¶ä»–C#å¼€å‘å·¥å…·å¯¹å…¶è¿›è¡Œæµ‹è¯•å’Œè°ƒè¯•ï¼Œç®€åŒ–äº†å¼€å‘äººå‘˜çš„å·¥ä½œå’Œæé«˜BugæŸ¥æ‰¾æ•ˆç‡ã€‚
*   å¯ä»¥é‡ç”¨ç°æœ‰ä»£ç ï¼šç”±äºBlazorä½¿ç”¨.NETæ¡†æ¶å’ŒC#ç¼–ç¨‹è¯­è¨€ï¼Œå› æ­¤å¯ä»¥é‡ç”¨ç°æœ‰çš„.NETåº“å’Œç»„ä»¶ï¼Œç®€åŒ–äº†å¼€å‘è¿‡ç¨‹å¹¶æé«˜äº†ä»£ç çš„å¤ç”¨æ€§ã€‚
*   å•è¯­è¨€å…¨æ ˆå¼€å‘ï¼šåœ¨ Blazor ä¸­ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨åŒä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼ˆC#ï¼‰æ¥æ„å»º Web åº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä»£ç ï¼Œä»è€Œå®ç°ä¸€ç§å…¨æ ˆå¼€å‘çš„æ–¹å¼ï¼ˆå¦‚æœæ˜¯ä¸€ä¸ªå°é¡¹ç›®å¹¶ä¸”éœ€è¦ä¸€ä¸ªäººåŒæ—¶æ’¸å‰åç«¯ä»£ç ï¼Œç”¨Blazoræ•ˆç‡ä¼šæ›´é«˜ï¼‰ã€‚

Blazorçš„åŠ£åŠ¿
---------

*   æ¡†æ¶ç”Ÿæ€ç›¸å¯¹è¾ƒå¼±ï¼šç›¸æ¯”äºVueã€Reactã€Angularç­‰å‰ç«¯æ¡†æ¶ï¼ŒBlazorçš„ç”Ÿæ€å°šä¸å®Œå…¨ï¼Œç¤¾åŒºèµ„æºå’Œå¼€æºé¡¹ç›®ç›¸å¯¹è¾ƒå°‘ï¼Œè¿™å¯èƒ½ä¼šå¢åŠ å¼€å‘äººå‘˜çš„å­¦ä¹ å’Œè§£å†³é—®é¢˜çš„éš¾åº¦ã€‚
*   ç›®å‰ä»…æ”¯æŒæœ€æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼šè™½ç„¶ Blazor æ”¯æŒå„ç§ä¸»æµæµè§ˆå™¨ï¼Œä½†ç”±äºæ¶‰åŠåˆ° WebAssembly å’Œå…¶ä»–æ–°æŠ€æœ¯ï¼Œä¸€äº›æ—§ç‰ˆæµè§ˆå™¨å¯èƒ½æ— æ³•å®Œå…¨æ”¯æŒ Blazor åº”ç”¨ç¨‹åºã€‚
*   å­¦ä¹ æ›²çº¿è¾ƒé™¡å³­ï¼šBlazoræ˜¯ä¸€ç§å…¨æ–°çš„Webå¼€å‘æŠ€æœ¯ï¼Œå¯èƒ½å¯¹ä¸€äº›é.NETåç«¯å¼€å‘äººå‘˜æ¥è¯´å­˜åœ¨è¾ƒå¤§çš„å­¦ä¹ æ›²çº¿ï¼Œéœ€è¦ä»˜å‡ºæ›´å¤šçš„æ—¶é—´å’Œç²¾åŠ›æ¥å­¦ä¹ å’ŒæŒæ¡ã€‚

Blazoræ”¯æŒçš„å¹³å°
-----------

ä¸‹è¡¨æ‰€ç¤ºçš„æµè§ˆå™¨åœ¨ç§»åŠ¨å¹³å°å’Œæ¡Œé¢å¹³å°ä¸Šå‡æ”¯æŒ Blazor WebAssembly å’Œ Blazor Serverã€‚

æµè§ˆè€…

Version

Apple Safari

å½“å‰ç‰ˆæœ¬+

Google Chrome

å½“å‰ç‰ˆæœ¬+

Microsoft Edge

å½“å‰ç‰ˆæœ¬+

Mozilla Firefox

å½“å‰ç‰ˆæœ¬+

+å½“å‰ç‰ˆæœ¬æŒ‡çš„æ˜¯æµè§ˆå™¨çš„æœ€æ–°ç‰ˆæœ¬ã€‚

å¯¹äºÂ [Blazor Hybrid åº”ç”¨](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hybrid/?view=aspnetcore-7.0)ï¼Œæˆ‘ä»¬æµ‹è¯•å¹¶æ”¯æŒæœ€æ–°çš„å¹³å° Web View æ§ä»¶ç‰ˆæœ¬ï¼š

*   [Windows ä¸Šçš„ Microsoft Edge WebView2](https://learn.microsoft.com/zh-cn/microsoft-edge/webview2/)ğŸ‘‰
*   [Android ä¸Šçš„ Chrome](https://play.google.com/store/apps/details?id=com.android.chrome)ğŸ‘‰
*   [iOS å’Œ macOS ä¸Šçš„ Safari](https://www.apple.com/safari/)ğŸ‘‰

Blazorä¸‰ç§æ‰˜ç®¡æ¨¡å‹åŠå…¶å„è‡ªç‰¹ç‚¹
------------------

### 1ã€Blazor Server

#### ç®€ä»‹ï¼š

ã€€ã€€Blazor Server åº”ç”¨ç¨‹åºåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œå¯äº«å—å®Œæ•´çš„ .NET Core è¿è¡Œæ—¶æ”¯æŒã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æœåŠ¡å™¨ä¸Šå®Œæˆï¼ŒUI/DOM æ›´æ”¹é€šè¿‡ SignalR è¿æ¥å›ä¼ ç»™å®¢æˆ·ç«¯ã€‚è¿™ç§åŒå‘ SignalR è¿æ¥æ˜¯åœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡ä»æµè§ˆå™¨ä¸­åŠ è½½åº”ç”¨ç¨‹åºæ—¶å»ºç«‹çš„ã€‚ ç”±äº .NET ä»£ç å·²ç»åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œå› æ­¤æ‚¨æ— éœ€ä¸ºå‰ç«¯åˆ›å»º APIã€‚æ‚¨å¯ä»¥ç›´æ¥è®¿é—®æœåŠ¡ã€æ•°æ®åº“ç­‰ï¼Œå¹¶åœ¨ä¼ ç»Ÿçš„æœåŠ¡ç«¯æŠ€æœ¯ä¸Šåšä»»ä½•æ‚¨æƒ³åšçš„äº‹æƒ…ã€‚åœ¨å®¢æˆ·ç«¯ä¸Šï¼ŒBlazor è„šæœ¬ (`blazor.server.js`) ä¸æœåŠ¡å™¨å»ºç«‹ SignalR è¿æ¥ã€‚ è„šæœ¬ç”± ASP.NET Core å…±äº«æ¡†æ¶ä¸­çš„åµŒå…¥èµ„æºæä¾›ç»™å®¢æˆ·ç«¯åº”ç”¨ã€‚ å®¢æˆ·ç«¯åº”ç”¨è´Ÿè´£æ ¹æ®éœ€è¦ä¿æŒå’Œè¿˜åŸåº”ç”¨çŠ¶æ€ã€‚

![æµè§ˆå™¨é€šè¿‡ SignalR è¿æ¥ä¸æœåŠ¡å™¨ä¸Šçš„åº”ç”¨è¿›è¡Œäº¤äº’ï¼ˆè¯¥åº”ç”¨æ‰˜ç®¡åœ¨ ASP.NET Core åº”ç”¨å†…éƒ¨ï¼‰ã€‚](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models/_static/blazor-server.png?view=aspnetcore-7.0)

#### Blazor Server æ‰˜ç®¡æ¨¡å‹å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š

*   ä¸‹è½½é¡¹å¤§å°æ˜æ˜¾å°äº Blazor WebAssembly åº”ç”¨ï¼Œä¸”åº”ç”¨åŠ è½½é€Ÿåº¦å¿«å¾—å¤šã€‚
*   åº”ç”¨å¯ä»¥å……åˆ†åˆ©ç”¨æœåŠ¡å™¨åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¯¹ .NET Core API çš„ä½¿ç”¨ã€‚
*   æœåŠ¡å™¨ä¸Šçš„ .NET Core ç”¨äºè¿è¡Œåº”ç”¨ï¼Œå› æ­¤è°ƒè¯•ç­‰ç°æœ‰ .NET å·¥å…·å¯æŒ‰é¢„æœŸæ­£å¸¸å·¥ä½œã€‚
*   æ”¯æŒç˜¦å®¢æˆ·ç«¯ã€‚ ä¾‹å¦‚ï¼ŒBlazor Server åº”ç”¨é€‚ç”¨äºä¸æ”¯æŒ WebAssembly çš„æµè§ˆå™¨ä»¥åŠèµ„æºå—é™çš„è®¾å¤‡ã€‚
*   åº”ç”¨çš„ .NET/C# ä»£ç åº“ï¼ˆå…¶ä¸­åŒ…æ‹¬åº”ç”¨çš„ç»„ä»¶ä»£ç ï¼‰ä¸é€‚ç”¨äºå®¢æˆ·ç«¯ã€‚

#### Blazor Server æ‰˜ç®¡æ¨¡å‹å…·æœ‰ä»¥ä¸‹å±€é™æ€§ï¼š

*   é€šå¸¸å»¶è¿Ÿè¾ƒé«˜ã€‚ æ¯æ¬¡ç”¨æˆ·äº¤äº’éƒ½æ¶‰åŠåˆ°ç½‘ç»œè·ƒç‚¹ã€‚
*   ä¸æ”¯æŒè„±æœºå·¥ä½œã€‚ å¦‚æœå®¢æˆ·ç«¯è¿æ¥å¤±è´¥ï¼Œåº”ç”¨ä¼šåœæ­¢å·¥ä½œã€‚
*   è‹¥è¦ç¼©æ”¾å…·æœ‰è®¸å¤šç”¨æˆ·çš„åº”ç”¨ï¼Œéœ€è¦ä½¿ç”¨æœåŠ¡å™¨èµ„æºå¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥å’Œå®¢æˆ·ç«¯çŠ¶æ€ã€‚
*   éœ€è¦ ASP.NET Core æœåŠ¡å™¨ä¸ºåº”ç”¨æä¾›æœåŠ¡ã€‚ æ— æœåŠ¡å™¨éƒ¨ç½²æ–¹æ¡ˆä¸å¯è¡Œï¼Œä¾‹å¦‚é€šè¿‡å†…å®¹åˆ†å‘ç½‘ç»œ (CDN) ä¸ºåº”ç”¨æä¾›æœåŠ¡çš„æ–¹æ¡ˆã€‚

### 2ã€Blazor WebAssembly

#### ç®€ä»‹ï¼š

ã€€ã€€Blazor WebAssemblyï¼ˆWASMï¼‰åº”ç”¨ç¨‹åºåœ¨æµè§ˆå™¨ä¸­åŸºäºWebAssemblyçš„.NETè¿è¡Œæ—¶è¿è¡Œå®¢æˆ·ç«¯ã€‚Blazoråº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–é¡¹å’Œ.NETè¿è¡Œæ—¶è¢«ä¸‹è½½åˆ°æµè§ˆå™¨ä¸­ã€‚è¯¥åº”ç”¨ç¨‹åºç›´æ¥åœ¨æµè§ˆå™¨çš„UIçº¿ç¨‹ä¸Šæ‰§è¡Œã€‚UIæ›´æ–°å’Œäº‹ä»¶å¤„ç†åœ¨åŒä¸€è¿›ç¨‹ä¸­è¿›è¡Œã€‚åº”ç”¨ç¨‹åºçš„èµ„äº§è¢«ä½œä¸ºé™æ€æ–‡ä»¶éƒ¨ç½²åˆ°èƒ½å¤Ÿä¸ºå®¢æˆ·æä¾›é™æ€å†…å®¹çš„ç½‘ç»œæœåŠ¡å™¨æˆ–æœåŠ¡ä¸Šã€‚å½“Blazor WebAssemblyåº”ç”¨è¢«åˆ›å»ºç”¨äºéƒ¨ç½²ï¼Œè€Œæ²¡æœ‰åç«¯ASP.NET Coreåº”ç”¨ä¸ºå…¶æä¾›æ–‡ä»¶æ—¶ï¼Œè¯¥åº”ç”¨è¢«ç§°ä¸ºç‹¬ç«‹çš„Blazor WebAssemblyåº”ç”¨ã€‚å½“åº”ç”¨ç¨‹åºè¢«åˆ›å»ºç”¨äºéƒ¨ç½²ï¼Œå¹¶æœ‰ä¸€ä¸ªåç«¯åº”ç”¨ç¨‹åºä¸ºå…¶æä¾›æ–‡ä»¶æ—¶ï¼Œè¯¥åº”ç”¨ç¨‹åºè¢«ç§°ä¸ºæ‰˜ç®¡çš„Blazor WebAssemblyåº”ç”¨ç¨‹åºã€‚

![Blazor WebAssemblyï¼šBlazor åº”ç”¨åœ¨æµè§ˆå™¨å†…éƒ¨çš„ UI çº¿ç¨‹ä¸Šè¿è¡Œã€‚](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models/_static/blazor-webassembly.png?view=aspnetcore-7.0)

#### Blazor WebAssembly æ‰˜ç®¡æ¨¡å‹å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š

*   ä»æœåŠ¡å™¨ä¸‹è½½åº”ç”¨åï¼Œæ²¡æœ‰ .NET æœåŠ¡å™¨ç«¯ä¾èµ–é¡¹ï¼Œå› æ­¤ï¼Œå¦‚æœæœåŠ¡å™¨è„±æœºï¼Œåº”ç”¨å°†ä¿æŒæ­£å¸¸è¿è¡Œã€‚
*   å¯å……åˆ†åˆ©ç”¨å®¢æˆ·ç«¯èµ„æºå’ŒåŠŸèƒ½ã€‚
*   å·¥ä½œå¯ä»æœåŠ¡å™¨è½¬ç§»åˆ°å®¢æˆ·ç«¯ã€‚
*   æ— éœ€ ASP.NET Core Web æœåŠ¡å™¨å³å¯æ‰˜ç®¡åº”ç”¨ã€‚ æ— æœåŠ¡å™¨éƒ¨ç½²æ–¹æ¡ˆå¯è¡Œï¼Œä¾‹å¦‚é€šè¿‡å†…å®¹åˆ†å‘ç½‘ç»œ (CDN) ä¸ºåº”ç”¨æä¾›æœåŠ¡çš„æ–¹æ¡ˆã€‚

#### Blazor WebAssembly æ‰˜ç®¡æ¨¡å‹å…·æœ‰ä»¥ä¸‹å±€é™æ€§ï¼š

*   åº”ç”¨ä»…å¯ä½¿ç”¨æµè§ˆå™¨åŠŸèƒ½ã€‚
*   éœ€è¦å¯ç”¨çš„å®¢æˆ·ç«¯ç¡¬ä»¶å’Œè½¯ä»¶ï¼ˆä¾‹å¦‚ WebAssembly æ”¯æŒï¼‰ã€‚
*   ä¸‹è½½é¡¹å¤§å°è¾ƒå¤§ï¼Œåº”ç”¨åŠ è½½è€—æ—¶è¾ƒé•¿ã€‚

Blazor WebAssembly æ”¯æŒé¢„å…ˆ (AOT) ç¼–è¯‘ï¼Œä½ å¯ä»¥ç›´æ¥å°† .NET ä»£ç ç¼–è¯‘åˆ° WebAssembly ä¸­ã€‚ AOT ç¼–è¯‘ä¼šæé«˜è¿è¡Œæ—¶æ€§èƒ½ï¼Œä»£ä»·æ˜¯åº”ç”¨å¤§å°å¢åŠ ã€‚

### 3ã€Blazor Hybrid

#### ç®€ä»‹ï¼š

*   Blazor è¿˜å¯ç”¨äºä½¿ç”¨æ··åˆæ–¹æ³•ç”Ÿæˆæœ¬æœºå®¢æˆ·ç«¯åº”ç”¨ã€‚ æ··åˆåº”ç”¨æ˜¯åˆ©ç”¨ Web æŠ€æœ¯å®ç°å…¶åŠŸèƒ½çš„æœ¬æœºåº”ç”¨ã€‚ åœ¨ Blazor Hybrid åº”ç”¨ä¸­ï¼ŒRazor ç»„ä»¶ä¸ä»»ä½•å…¶ä»– .NET ä»£ç ä¸€èµ·ç›´æ¥åœ¨æœ¬æœºåº”ç”¨ä¸­ï¼ˆè€Œä¸åœ¨ WebAssembly ä¸Šï¼‰è¿è¡Œï¼Œå¹¶é€šè¿‡æœ¬åœ°äº’æ“ä½œé€šé“åŸºäº HTML å’Œ CSS å°† Web UI å‘ˆç°åˆ°åµŒå…¥å¼ Web View æ§ä»¶ã€‚
*   å¯ä»¥ä½¿ç”¨ä¸åŒçš„ .NET æœ¬æœºåº”ç”¨æ¡†æ¶ï¼ˆåŒ…æ‹¬ .NET MAUIã€WPF å’Œ Windows çª—ä½“ï¼‰ç”Ÿæˆ Blazor Hybrid åº”ç”¨ã€‚ Blazor æä¾›Â `BlazorWebView`Â æ§ä»¶ï¼Œå°† Razor ç»„ä»¶æ·»åŠ åˆ°ä½¿ç”¨è¿™äº›æ¡†æ¶ç”Ÿæˆçš„åº”ç”¨ã€‚ é€šè¿‡ç»“åˆä½¿ç”¨ Blazor å’Œ .NET MAUIï¼Œå¯ä»¥ä¾¿æ·åœ°ç”Ÿæˆé€‚ç”¨äºç§»åŠ¨å’Œæ¡Œé¢çš„è·¨å¹³å° Blazor Hybrid åº”ç”¨ï¼Œè€Œå°† Blazor ä¸ WPF å’Œ Windows çª—ä½“é›†æˆå¯ä»¥æ›´å¥½åœ°å®ç°ç°æœ‰åº”ç”¨çš„ç°ä»£åŒ–ã€‚
*   ç”±äº Blazor Hybrid åº”ç”¨æ˜¯æœ¬æœºåº”ç”¨ï¼Œå®ƒä»¬å¯ä»¥æ”¯æŒåªæœ‰ Web å¹³å°æ‰€æ²¡æœ‰çš„åŠŸèƒ½ã€‚ é€šè¿‡æ­£å¸¸çš„ .NET APIï¼ŒBlazor Hybrid åº”ç”¨å¯¹æœ¬æœºå¹³å°åŠŸèƒ½å…·æœ‰å®Œå…¨è®¿é—®æƒé™ã€‚ Blazor Hybrid åº”ç”¨è¿˜å¯ä»¥ä¸ç°æœ‰ Blazor Server æˆ– Blazor WebAssembly åº”ç”¨å…±äº«å’Œé‡å¤ä½¿ç”¨ç»„ä»¶ã€‚ Blazor Hybrid åº”ç”¨ç»“åˆäº† Webã€æœ¬æœºåº”ç”¨å’Œ .NET å¹³å°çš„ä¼˜ç‚¹ã€‚

![å…·æœ‰ .NET å’Œ Blazor çš„æ··åˆåº”ç”¨åœ¨ Web View æ§ä»¶ä¸­å‘ˆç° UIï¼Œå…¶ä¸­ HTML æ–‡æ¡£å¯¹è±¡æ¨¡å‹ (DOM) ä¸æœ¬æœºæ¡Œé¢æˆ–ç§»åŠ¨åº”ç”¨çš„ Blazor å’Œ .NET äº¤äº’ã€‚](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models/_static/hybrid-apps-1.png?view=aspnetcore-7.0)

#### Blazor Hybrid æ‰˜ç®¡æ¨¡å‹å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š

*   é‡å¤ä½¿ç”¨å¯åœ¨ç§»åŠ¨ã€æ¡Œé¢å’Œ Web ä¹‹é—´å…±äº«çš„ç°æœ‰ç»„ä»¶ã€‚
*   åˆ©ç”¨ Web å¼€å‘æŠ€èƒ½ã€ä½“éªŒå’Œèµ„æºã€‚
*   åº”ç”¨å¯¹è®¾å¤‡çš„æœ¬æœºåŠŸèƒ½å…·æœ‰å®Œå…¨è®¿é—®æƒé™ã€‚

#### Blazor Hybrid æ‰˜ç®¡æ¨¡å‹å…·æœ‰ä»¥ä¸‹å±€é™æ€§ï¼š

*   å¿…é¡»ä¸ºæ¯ä¸ªç›®æ ‡å¹³å°ç”Ÿæˆã€éƒ¨ç½²å’Œç»´æŠ¤å•ç‹¬çš„æœ¬æœºå®¢æˆ·ç«¯åº”ç”¨ã€‚
*   ä¸åœ¨æµè§ˆå™¨ä¸­è®¿é—® Web åº”ç”¨ç›¸æ¯”ï¼ŒæŸ¥æ‰¾ã€ä¸‹è½½å’Œå®‰è£…æœ¬æœºå®¢æˆ·ç«¯åº”ç”¨é€šå¸¸éœ€è¦æ›´é•¿çš„æ—¶é—´ã€‚

å¦‚ä½•é€‰æ‹©è¦ä½¿ç”¨çš„æ‰˜ç®¡æ¨¡å‹ï¼Ÿ
-------------

æ ¹æ®åº”ç”¨çš„åŠŸèƒ½è¦æ±‚é€‰æ‹© Blazor æ‰˜ç®¡æ¨¡å‹ã€‚ ä¸‹è¡¨æ˜¾ç¤ºäº†é€‰æ‹©æ‰˜ç®¡æ¨¡å‹çš„ä¸»è¦æ³¨æ„äº‹é¡¹ã€‚

Blazor Hybrid åº”ç”¨åŒ…æ‹¬ .NET MAUIã€WPF å’Œ Windows çª—ä½“æ¡†æ¶åº”ç”¨ã€‚

åŠŸèƒ½

Blazor Server

Blazor WebAssembly (WASM)

Blazor Hybrid

[ä¸ .NET API å®Œå…¨å…¼å®¹](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#complete-net-api-compatibility)

âœ”ï¸æ”¯æŒ

âŒâŒ

âœ”ï¸æ”¯æŒ

[ç›´æ¥è®¿é—®æœåŠ¡å™¨å’Œç½‘ç»œèµ„æº](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#direct-access-to-server-and-network-resources)

âœ”ï¸æ”¯æŒ

âŒä¸æ”¯æŒâ€ 

âŒä¸æ”¯æŒâ€ 

[è¾ƒå°çš„æœ‰æ•ˆè´Ÿè½½ï¼Œè¾ƒå¿«çš„åˆå§‹åŠ è½½é€Ÿåº¦](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#small-payload-size-with-fast-initial-load-time)

âœ”ï¸æ”¯æŒ

âŒâŒ

âŒâŒ

[æ¥è¿‘æœ¬æœºæ‰§è¡Œé€Ÿåº¦](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#near-native-execution-speed)

âœ”ï¸æ”¯æŒ

âœ”ï¸æ”¯æŒâ€¡

âœ”ï¸æ”¯æŒ

[æœåŠ¡å™¨ä¸Šå®‰å…¨ä¸”ä¸“ç”¨çš„åº”ç”¨ä»£ç ](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#app-code-secure-and-private-on-the-server)

âœ”ï¸æ”¯æŒ

âŒä¸æ”¯æŒâ€ 

âŒä¸æ”¯æŒâ€ 

[ä¸‹è½½åå³å¯è„±æœºè¿è¡Œåº”ç”¨](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#run-apps-offline-once-downloaded)

âŒâŒ

âœ”ï¸æ”¯æŒ

âœ”ï¸æ”¯æŒ

[é™æ€ç«™ç‚¹æ‰˜ç®¡](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#static-site-hosting)

âŒâŒ

âœ”ï¸æ”¯æŒ

âŒâŒ

[å°†å¤„ç†è¿‡ç¨‹è½¬ç§»è‡³å®¢æˆ·ç«¯](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#offloads-processing-to-clients)

âŒâŒ

âœ”ï¸æ”¯æŒ

âœ”ï¸æ”¯æŒ

[å¯¹æœ¬æœºå®¢æˆ·ç«¯åŠŸèƒ½å…·æœ‰å®Œå…¨è®¿é—®æƒé™](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#full-access-to-native-client-capabilities)

âŒâŒ

âŒâŒ

âœ”ï¸æ”¯æŒ

[åŸºäº Web çš„éƒ¨ç½²](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/hosting-models?view=aspnetcore-7.0#web-based-deployment)

âœ”ï¸æ”¯æŒ

âœ”ï¸æ”¯æŒ

âŒâŒ

â€ Blazor WebAssembly å’Œ Blazor Hybrid åº”ç”¨å¯ä»¥ä½¿ç”¨åŸºäºæœåŠ¡å™¨çš„ API æ¥è®¿é—®æœåŠ¡å™¨/ç½‘ç»œèµ„æºå¹¶è®¿é—®ä¸“ç”¨å’Œå®‰å…¨çš„åº”ç”¨ä»£ç ã€‚  
â€¡Blazor WebAssembly ä»…é€šè¿‡[é¢„å…ˆ (AOT) ç¼–è¯‘](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/host-and-deploy/webassembly?view=aspnetcore-7.0#ahead-of-time-aot-compilation)è¾¾åˆ°æ¥è¿‘æœ¬æœºæ€§èƒ½ã€‚

> æ€»ä¹‹ï¼ŒBlazor çš„ä¸‰ç§æ¨¡å¼å„æœ‰ç‰¹ç‚¹ï¼Œå¯ä»¥æ ¹æ®åº”ç”¨åœºæ™¯é€‰æ‹©é€‚å½“çš„æ¨¡å¼ã€‚å¦‚æœéœ€è¦è®¿é—®æœåŠ¡å™¨ç«¯èµ„æºæˆ–è€…éœ€è¦å®ç°å®æ—¶é€šä¿¡åŠŸèƒ½ï¼Œå¯ä»¥é€‰æ‹© Server æ¨¡å¼ï¼›å¦‚æœéœ€è¦å®ç°ç¦»çº¿è®¿é—®æˆ–è€…å‡å°‘ç½‘ç»œæµé‡ï¼Œå¯ä»¥é€‰æ‹© WebAssembly æ¨¡å¼ï¼›å¦‚æœéœ€è¦å…¼é¡¾ä¸¤ç§æ¨¡å¼çš„ä¼˜åŠ¿ï¼Œå¯ä»¥é€‰æ‹© Hybrid æ¨¡å¼ã€‚

Razorè¯­æ³•ç®€è¿°
---------

> Blazor æ˜¯ä¸€ç§åŸºäº .NET å¹³å°çš„ Web å¼€å‘æ¡†æ¶ï¼Œå®ƒä½¿ç”¨ C# è¯­è¨€å’Œ Razor è¯­æ³•æ¥ç¼–å†™å‰ç«¯ä»£ç ã€‚

### ä»€ä¹ˆæ˜¯Razorï¼Ÿ

ã€€ã€€Razor æ˜¯ä¸€ç§æ ‡è®°è¯­æ³•ï¼Œç”¨äºå°†åŸºäº .NET çš„ä»£ç åµŒå…¥ç½‘é¡µä¸­ã€‚ Razor è¯­æ³•ç”± Razor æ ‡è®°ã€C# å’Œ HTML ç»„æˆã€‚ åŒ…å« Razor çš„æ–‡ä»¶é€šå¸¸å…·æœ‰Â `.cshtml`Â æ–‡ä»¶æ‰©å±•åã€‚ Razor ä¹Ÿå¯åœ¨Â Razor ç»„ä»¶Â æ–‡ä»¶ (`.razor`) ä¸­æ‰¾åˆ°ã€‚ Razor è¯­æ³•ç±»ä¼¼äºå„ç§ JavaScript å•é¡µåº”ç”¨ç¨‹åº (SPA) æ¡†æ¶ï¼ˆå¦‚ Angularã€Reactã€VueJs å’Œ Svelteï¼‰çš„æ¨¡æ¿åŒ–å¼•æ“ã€‚[æ›´å¤šè¯·æŸ¥çœ‹ASP.NET Core çš„ Razor è¯­æ³•ğŸ‘‰](https://learn.microsoft.com/zh-cn/aspnet/core/mvc/views/razor?view=aspnetcore-6.0)ã€‚

### Razor æ“ä½œç¬¦

Razor æ“ä½œç¬¦æ˜¯ç”¨äºå°† Razor ä»£ç ä¸ HTML å…ƒç´ ç›¸äº’å…³è”çš„è¯­æ³•ã€‚ä¾‹å¦‚ï¼š

*   @ ç¬¦å·ï¼šç”¨äºå°† C# ä»£ç åµŒå…¥åˆ° HTML ä¸­ã€‚
*   @: ç¬¦å·ï¼šç”¨äºè¾“å‡º HTML ç¼–ç çš„æ–‡æœ¬ã€‚
*   @@ ç¬¦å·ï¼šç”¨äºåœ¨ Razor æ¨¡æ¿ä¸­ç¼–å†™ @ ç¬¦å·ã€‚
*   @() ç¬¦å·ï¼šç”¨äºåœ¨ Razor è¡¨è¾¾å¼ä¸­è°ƒç”¨ C# æ–¹æ³•ã€‚

### Razorä»£ç å—

<p>@UserName</p>

@code
{
    private string UserName = "è¿½é€æ—¶å…‰è€…";
}

### éšå¼ Razor è¡¨è¾¾å¼

éšå¼ Razor è¡¨è¾¾å¼ä»¥Â `@`Â å¼€å¤´ï¼Œåè·Ÿ C# ä»£ç ï¼š

<p>@DateTime.Now</p>
<p>@DateTime.IsLeapYear(2023)</p>

### æ˜¾å¼ Razor è¡¨è¾¾å¼

æ˜¾å¼ Razor è¡¨è¾¾å¼ç”±Â `@`Â ç¬¦å·å’Œå¹³è¡¡åœ†æ‹¬å·ç»„æˆã€‚ è‹¥è¦å‘ˆç°ä¸Šä¸€å‘¨çš„æ—¶é—´ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹ Razor æ ‡è®°ï¼š

<p>Last week this time: @(DateTime.Now - TimeSpan.FromDays(7))</p>

### è¡¨è¾¾å¼ç¼–ç 

è®¡ç®—ç»“æœä¸ºå­—ç¬¦ä¸²çš„ C# è¡¨è¾¾å¼é‡‡ç”¨ HTML ç¼–ç ã€‚ è®¡ç®—ç»“æœä¸ºÂ `IHtmlContent`Â çš„ C# è¡¨è¾¾å¼ç›´æ¥é€šè¿‡Â `IHtmlContent.WriteTo`Â å‘ˆç°ã€‚ è®¡ç®—ç»“æœä¸ä¸ºÂ `IHtmlContent`Â çš„ C# è¡¨è¾¾å¼é€šè¿‡Â `ToString`Â è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶åœ¨å‘ˆç°å‰è¿›è¡Œç¼–ç ã€‚

@("<span>Hello World</span>")

è¾“å‡ºï¼š

HTML åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºä¸ºçº¯æ–‡æœ¬ï¼š
<span>Hello World</span>

### æ¡ä»¶åˆ¤æ–­ @if, else if, else, and @switch

`@if`Â æ§åˆ¶ä½•æ—¶è¿è¡Œä»£ç ï¼š

@if (value % 2 == 0)
{
    <p>The value was even.</p>
}

`else`Â å’ŒÂ `else if`Â ä¸éœ€è¦Â `@`Â ç¬¦å·ï¼š

@if (value % 2 == 0)
{
    <p>The value was even.</p>
}
else if (value >= 1337)
{
    <p>The value is large.</p>
}
else
{
    <p>The value is odd and small.</p>
}

ä»¥ä¸‹æ ‡è®°å±•ç¤ºå¦‚ä½•ä½¿ç”¨ switch è¯­å¥ï¼š

@switch (value)
{
    case 1:
        <p>The value is 1!</p>
        break;
    case 1337:
        <p>Your number is 1337!</p>
        break;
    default:
        <p>Your number wasn't 1 or 1337.</p>
        break;
}

### è¯­å¥å¾ªç¯ @for, @foreach, @while, and @do while

å¯ä»¥ä½¿ç”¨å¾ªç¯æ§åˆ¶è¯­å¥å‘ˆç°æ¨¡æ¿åŒ– HTMLã€‚ è‹¥è¦å‘ˆç°ä¸€ç»„äººå‘˜ï¼š

@{
    var people = new Person\[\]
    {
          new Person("Weston", 33),
          new Person("Johnathon", 41),
          ...
    };
}

æ”¯æŒä»¥ä¸‹å¾ªç¯è¯­å¥ï¼š

@for

@for (var i = 0; i < people.Length; i++)
{
    var person = people\[i\];
    <p>Name: @person.Name</p>
    <p>Age: @person.Age</p>
}

@foreach

@foreach (var person in people)
{
    <p>Name: @person.Name</p>
    <p>Age: @person.Age</p>
}

@while

@{ var i = 0; }
@while (i < people.Length)
{
    var person = people\[i\];
    <p>Name: @person.Name</p>
    <p>Age: @person.Age</p>

    i++;
}

@do while

@{ var i = 0; }
@do
{
    var person = people\[i\];
    <p>Name: @person.Name</p>
    <p>Age: @person.Age</p>

    i++;
} while (i < people.Length);

### å¤åˆè¯­å¥ @using

åœ¨ C# ä¸­ï¼Œusing è¯­å¥ç”¨äºç¡®ä¿é‡Šæ”¾å¯¹è±¡ã€‚ åœ¨ Razor ä¸­ï¼Œå¯ä½¿ç”¨ç›¸åŒçš„æœºåˆ¶æ¥åˆ›å»ºåŒ…å«é™„åŠ å†…å®¹çš„ HTML å¸®åŠ©ç¨‹åºã€‚ åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼ŒHTML å¸®åŠ©ç¨‹åºä½¿ç”¨ @using è¯­å¥å‘ˆç° <form> æ ‡è®°ï¼š

@using (Html.BeginForm())
{
    <div>
        Email: <input type="email" id="Email" value=""\>
        <button>Register</button>
    </div>
}

### @try, catch, finally

å¼‚å¸¸å¤„ç†ä¸ C# ç±»ä¼¼ï¼š

@try
{
    throw new InvalidOperationException("You did something invalid.");
}
catch (Exception ex)
{
    <p>The exception message: @ex.Message</p>
}
finally
{
    <p>The finally statement.</p>
}

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613200806912-1304781250.gif)

> [æ›´å¤šRazorè¯­æ³•è¯·æŸ¥çœ‹ASP.NET Core çš„ Razor è¯­æ³•ğŸ‘‰](https://learn.microsoft.com/zh-cn/aspnet/core/mvc/views/razor?view=aspnetcore-6.0)ã€‚[https://learn.microsoft.com/zh-cn/aspnet/core/mvc/views/razor?view=aspnetcore-6.0](https://learn.microsoft.com/zh-cn/aspnet/core/mvc/views/razor?view=aspnetcore-6.0)

æ–°å»ºZeroBlazorç©ºç™½è§£å†³æ–¹æ¡ˆ
------------------

### 1ã€å¯åŠ¨ Visual Studio 2022é€‰æ‹©åˆ›å»ºæ–°é¡¹ç›®

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613222142148-1047243327.png)

### Â 2ã€æœç´¢â€œç©ºç™½è§£å†³æ–¹æ¡ˆâ€œå¹¶åˆ›å»º

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613222315448-1872230299.png)

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613222329066-427952892.png)

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613222357274-1618153122.png)

ä½¿ç”¨VS 2022å¿«é€Ÿåˆ›å»ºBlazor Serveråº”ç”¨
----------------------------

### 1ã€åœ¨ZeroBlazorè§£å†³æ–¹æ¡ˆä¸­æ·»åŠ æ–°é¡¹ç›®

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613222504965-508286576.png)

### Â 2ã€æ·»åŠ æ–°é¡¹ç›®ä¸­æœç´¢â€œBlazor Server åº”ç”¨â€è¿›è¡Œåˆ›å»º

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613222758742-530199246.png)

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613222854654-1096835900.png)

### 3ã€æ¡†æ¶é€‰æ‹©â€œ.NET 7.0 (æ ‡å‡†æœŸé™æ”¯æŒ)â€ï¼Œç„¶åå•å‡»â€œåˆ›å»ºâ€æŒ‰é’®

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613223142025-522206422.png)

### 4ã€åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ä»‹ç»

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613223738746-1462892327.png)

*   Program.cs æ˜¯å¯åŠ¨æœåŠ¡å™¨ä»¥åŠåœ¨å…¶ä¸­é…ç½®åº”ç”¨æœåŠ¡å’Œä¸­é—´ä»¶çš„åº”ç”¨çš„å…¥å£ç‚¹ã€‚
*   App.razor ä¸ºåº”ç”¨çš„æ ¹ç»„ä»¶ã€‚
*   PagesÂ å­˜æ”¾åº”ç”¨ç¨‹åºçš„ Razor é¡µé¢ï¼Œæ¯ä¸ª Razor é¡µé¢éƒ½å¯¹åº”ç€ä¸€ä¸ªç»„ä»¶ï¼Œç”¨äºå‘ˆç°åº”ç”¨ç¨‹åºçš„ UI å…ƒç´ ã€‚
*   SharedÂ å­˜æ”¾å¤šä¸ª Razor é¡µé¢æˆ–ç»„ä»¶ä¹‹é—´å…±äº«çš„ç»„ä»¶ã€å¸ƒå±€å’Œå…¶ä»–è§†å›¾å…ƒç´ ç­‰ã€‚
*   wwwroot è¯¥æ–‡ä»¶å¤¹åŒ…å«é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€å­—ä½“ã€å›¾æ ‡ã€CSS å’Œ JavaScript æ–‡ä»¶ç­‰ã€‚
*   BlazorAppSample.csprojÂ åº”ç”¨ç¨‹åºçš„é¡¹ç›®æ–‡ä»¶ï¼Œç”¨äºæŒ‡å®šä¾èµ–é¡¹ã€ç¼–è¯‘é€‰é¡¹å’Œå‘å¸ƒé€‰é¡¹ç­‰ã€‚
*   Properties ç›®å½•ä¸­çš„ launchSettings.json æ–‡ä»¶ä¸ºæœ¬åœ°å¼€å‘ç¯å¢ƒå®šä¹‰ä¸åŒçš„é…ç½®æ–‡ä»¶è®¾ç½®ã€‚åˆ›å»ºé¡¹ç›®æ—¶ä¼šè‡ªåŠ¨åˆ†é…ç«¯å£å·å¹¶å°†å…¶ä¿å­˜åœ¨æ­¤æ–‡ä»¶ä¸Šã€‚

### 5ã€è¿è¡Œåº”ç”¨

å•å‡» Visual Studio è°ƒè¯•å·¥å…·æ ä¸­çš„â€œå¼€å§‹è°ƒè¯•â€æŒ‰é’®(ç»¿è‰²ç®­å¤´)ä»¥è¿è¡Œåº”ç”¨ï¼ŒæŸ¥çœ‹è¿è¡Œæ•ˆæœã€‚

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613224548437-1179032748.png)

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613224603712-877641510.png)

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°æ‰€æœ‰æ ‡å‡†çš„ CSS å’Œ JavaScript æ–‡ä»¶éƒ½ä¸‹è½½åˆ°äº†å®¢æˆ·ç«¯ï¼Œå¹¶é€šè¿‡ Web Sockets å»ºç«‹äº†ä¸€ä¸ª SignalR è¿æ¥ã€‚

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613230139872-434426999.png)

ä½¿ç”¨VS 2022å¿«é€Ÿåˆ›å»ºBlazor WebAssemblyåº”ç”¨
---------------------------------

### 1ã€åœ¨ZeroBlazorè§£å†³æ–¹æ¡ˆä¸­æ·»åŠ æ–°é¡¹ç›®

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613222504965-508286576.png)

### 2ã€æ·»åŠ æ–°é¡¹ç›®ä¸­æœç´¢â€œBlazor WebAssembly åº”ç”¨â€è¿›è¡Œåˆ›å»º

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613230348447-116315794.png)

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613230503193-60315146.png)

### 3ã€æ¡†æ¶é€‰æ‹©â€œ.NET 7.0 (æ ‡å‡†æœŸé™æ”¯æŒ)â€ï¼Œç„¶åå•å‡»â€œåˆ›å»ºâ€æŒ‰é’®

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613230542094-1841239528.png)

### 4ã€åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ä»‹ç»

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613230642903-1967065459.png)

*   Program.cs æ˜¯å¯åŠ¨æœåŠ¡å™¨ä»¥åŠåœ¨å…¶ä¸­é…ç½®åº”ç”¨æœåŠ¡å’Œä¸­é—´ä»¶çš„åº”ç”¨çš„å…¥å£ç‚¹ã€‚å®ƒåˆ›å»ºäº†WebAssemblyHostBuilderå¹¶å¯åŠ¨å®ƒã€‚
*   App.razoræ˜¯åº”ç”¨ç¨‹åºçš„å¯åŠ¨è·¯ç”±é¡µé¢ï¼Œé‡Œé¢è§„å®šäº†é»˜è®¤Layoutã€‚
*   PagesÂ å­˜æ”¾åº”ç”¨ç¨‹åºçš„ Razor é¡µé¢ï¼Œæ¯ä¸ª Razor é¡µé¢éƒ½å¯¹åº”ç€ä¸€ä¸ªç»„ä»¶ï¼Œç”¨äºå‘ˆç°åº”ç”¨ç¨‹åºçš„ UI å…ƒç´ ã€‚
*   SharedÂ å­˜æ”¾å…¬å…± Razor é¡µé¢æˆ–ç»„ä»¶ä¹‹é—´å…±äº«çš„ç»„ä»¶ã€å¸ƒå±€å’Œå…¶ä»–è§†å›¾å…ƒç´ ç­‰ã€‚
*   wwwroot è¯¥æ–‡ä»¶å¤¹åŒ…å«é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€å­—ä½“ã€å›¾æ ‡ã€CSS å’Œ JavaScript æ–‡ä»¶ç­‰ã€‚
*   BlazorWasmSample.csprojÂ åº”ç”¨ç¨‹åºçš„é¡¹ç›®æ–‡ä»¶ï¼Œç”¨äºæŒ‡å®šä¾èµ–é¡¹ã€ç¼–è¯‘é€‰é¡¹å’Œå‘å¸ƒé€‰é¡¹ç­‰ã€‚
*   Properties ç›®å½•ä¸­çš„ launchSettings.json æ–‡ä»¶ä¸ºæœ¬åœ°å¼€å‘ç¯å¢ƒå®šä¹‰ä¸åŒçš„é…ç½®æ–‡ä»¶è®¾ç½®ã€‚åˆ›å»ºé¡¹ç›®æ—¶ä¼šè‡ªåŠ¨åˆ†é…ç«¯å£å·å¹¶å°†å…¶ä¿å­˜åœ¨æ­¤æ–‡ä»¶ä¸Šã€‚

### 5ã€è¿è¡Œåº”ç”¨

å•å‡» Visual Studio è°ƒè¯•å·¥å…·æ ä¸­çš„â€œå¼€å§‹è°ƒè¯•â€æŒ‰é’®(ç»¿è‰²ç®­å¤´)ä»¥è¿è¡Œåº”ç”¨ï¼ŒæŸ¥çœ‹è¿è¡Œæ•ˆæœã€‚

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613224548437-1179032748.png)

æ­£å¦‚æˆ‘ä»¬çœ‹åˆ°çš„ä¸€æ ·Blazor WebAssemblyåº”ç”¨ç¨‹åºé¦–æ¬¡å¯åŠ¨ä¼šæ¯”è¾ƒæ…¢ï¼Œå› ä¸ºå®ƒä¼šåœ¨å®¢æˆ·ç«¯ä¸‹è½½åº”ç”¨ç¨‹åºåŠå…¶æ‰€æœ‰ä¾èµ–é¡¹ï¼Œä½ å¯ä»¥F12æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼Œä¼šçœ‹åˆ°å®¢æˆ·ç«¯ä¸‹è½½äº†å¤§é‡dllæ–‡ä»¶ï¼ˆ**åªä¼šåœ¨ç¬¬ä¸€æ¬¡æµè§ˆæ—¶ä¸‹è½½**ï¼‰ã€‚

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613232334893-917436086.png)

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613233059729-1043214801.png)

ä»¥ä¸Šæ‰€æœ‰dllæ–‡ä»¶åªä¼šåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ä¸‹è½½ï¼Œç„¶åå®ƒä»¬ä¼šè¢«ç¼“å­˜åœ¨æµè§ˆå™¨ä¸­ã€‚å¦‚æœä½ å†æ¬¡åˆ·æ–°é¡µé¢ï¼Œå°†ä¼šçœ‹åˆ°è¿™æ­¤åŠ è½½ä¸‹è½½çš„æ–‡ä»¶å¾ˆå°‘ï¼Œè€Œä¸”è¿è¡Œæ—¶ä¸å†éœ€è¦ç½‘ç»œï¼Œè¿™æ ·åœ¨æ–­ç½‘ç¯å¢ƒæˆ–æ²¡æœ‰ç½‘ç»œçš„ç¦»çº¿ä¸‹ï¼Œä»ç„¶å¯ä»¥è¿è¡Œï¼Œå†æ¬¡è¿è¡Œæ—¶çš„æƒ…å†µï¼š

![](https://img2023.cnblogs.com/blog/1336199/202306/1336199-20230613233154189-1815526999.png)

è¯¾å¤–çŸ¥è¯†æ‹“å±•
------

### WebAssemblyæ˜¯ä»€ä¹ˆï¼Ÿ

ã€€ã€€WebAssemblyï¼ˆç¼©å†™ä¸ºâ€œWasmâ€ï¼‰æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†ï¼Œæ—¨åœ¨æä¾›ä¸€ç§é«˜æ•ˆä¸”å¯ç§»æ¤çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œä»¥è¿è¡Œè·¨å¹³å°çš„åº”ç”¨ç¨‹åºã€‚ä¸ JavaScript ä¸åŒï¼ŒWebAssembly ä¸æ˜¯ä¸€ç§é«˜çº§è„šæœ¬è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§å¯ç§»æ¤çš„äºŒè¿›åˆ¶æ ¼å¼ï¼ˆä½çº§æŒ‡ä»¤é›†ï¼‰ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æ˜¯æä¾›ä¸€ç§æ›´é«˜æ•ˆå’Œå¯ç§»æ¤çš„ç¼–ç¨‹è¯­è¨€ï¼Œä»¥ä¾¿äºåœ¨ Web å¹³å°ä¸Šè¿›è¡Œè¿è¡Œã€‚å¯ä»¥å°†å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚C++ã€C#ã€Golangã€Rustç­‰ï¼‰çš„ä»£ç ç¼–è¯‘æˆ WebAssemblyæ ¼å¼ï¼Œå¯ä»¥å®ç°æ¯” JavaScript æ›´é«˜æ•ˆçš„è¿è¡Œé€Ÿåº¦ï¼Œå¹¶ä¸”å‡å°‘äº†ä»£ç å¤§å°å’Œç½‘ç»œå¸¦å®½çš„æ¶ˆè€—ã€‚ä¸ä¼ ç»Ÿçš„æµè§ˆå™¨æ’ä»¶ç›¸æ¯”ï¼ŒWebAssembly è¿˜å…·æœ‰æ›´å¥½çš„æ€§èƒ½å’Œæ›´é«˜çš„å®‰å…¨æ€§ã€‚

ç›®å‰ï¼ŒWebAssembly å¯ä»¥åœ¨ä¸»æµçš„ Web æµè§ˆå™¨ï¼ˆå¦‚ Chromeã€Firefoxã€Safari å’Œ Edgeï¼‰ä¸Šè¿è¡Œï¼Œå¹¶ä¸”è¢«è¶Šæ¥è¶Šå¤šçš„ Web åº”ç”¨ç¨‹åºæ‰€é‡‡ç”¨ã€‚WebAssembly è¿˜æä¾›äº†ä¸ JavaScript ç›¸äº’æ“ä½œçš„åŠŸèƒ½ï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥è½»æ¾åœ°åœ¨ç°æœ‰çš„ Web åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ WebAssemblyã€‚

### SPA å•é¡µé¢åº”ç”¨ç¨‹åºæ˜¯ä»€ä¹ˆï¼Ÿ

ã€€ã€€SPAï¼ˆsingle-page applicationï¼‰ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯å•é¡µåº”ç”¨`SPA`æ˜¯ä¸€ç§ç½‘ç»œåº”ç”¨ç¨‹åºæˆ–ç½‘ç«™çš„æ¨¡å‹ï¼Œå®ƒé€šè¿‡åŠ¨æ€é‡å†™å½“å‰é¡µé¢æ¥ä¸ç”¨æˆ·äº¤äº’ï¼Œè¿™ç§æ–¹æ³•é¿å…äº†é¡µé¢ä¹‹é—´åˆ‡æ¢æ‰“æ–­ç”¨æˆ·ä½“éªŒåœ¨å•é¡µåº”ç”¨ä¸­ï¼Œæ‰€æœ‰å¿…è¦çš„ä»£ç ï¼ˆ`HTML`ã€`JavaScript`å’Œ`CSS`ï¼‰éƒ½é€šè¿‡å•ä¸ªé¡µé¢çš„åŠ è½½è€Œæ£€ç´¢ï¼Œæˆ–è€…æ ¹æ®éœ€è¦ï¼ˆé€šå¸¸æ˜¯ä¸ºå“åº”ç”¨æˆ·æ“ä½œï¼‰åŠ¨æ€è£…è½½é€‚å½“çš„èµ„æºå¹¶æ·»åŠ åˆ°é¡µé¢é¡µé¢åœ¨ä»»ä½•æ—¶é—´ç‚¹éƒ½ä¸ä¼šé‡æ–°åŠ è½½ï¼Œä¹Ÿä¸ä¼šå°†æ§åˆ¶è½¬ç§»åˆ°å…¶ä»–é¡µé¢ä¸¾ä¸ªä¾‹å­æ¥è®²å°±æ˜¯ä¸€ä¸ªæ¯å­ï¼Œæ—©ä¸Šè£…çš„ç‰›å¥¶ï¼Œä¸­åˆè£…çš„æ˜¯å¼€æ°´ï¼Œæ™šä¸Šè£…çš„æ˜¯èŒ¶ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå˜çš„å§‹ç»ˆæ˜¯æ¯å­é‡Œçš„å†…å®¹ï¼Œè€Œæ¯å­å§‹ç»ˆæ˜¯é‚£ä¸ªæ¯å­ç»“æ„å¦‚ä¸‹å›¾ï¼ˆæˆ‘ä»¬ç†ŸçŸ¥çš„JSæ¡†æ¶å¦‚`react`,`vue`,`angular`,`ember`éƒ½å±äº`SPA`ï¼‰ã€‚

![](https://static.vue-js.com/df14a5a0-3ac6-11eb-85f6-6fac77c0c9b3.png)

Blazor UIç»„ä»¶åº“æ¨è
--------------

> Â [å€¼å¾—æ¨èçš„Blazor UIç»„ä»¶åº“ğŸ‘‰](https://www.cnblogs.com/Can-daydayup/p/17439106.html)

Blazorç›¸å…³å­¦ä¹ æ•™ç¨‹
------------

*   [å¾®è½¯å®˜æ–¹æ•™ç¨‹ASP.NET Core BlazorğŸ‘‰](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/?view=aspnetcore-7.0)
*   [å…¨é¢çš„ASP.NET Core Blazorç®€ä»‹å’Œå¿«é€Ÿå…¥é—¨ğŸ‘‰](https://www.cnblogs.com/Can-daydayup/p/17157143.html)
*   [Blazor Serverå’ŒWebAssemblyåº”ç”¨ç¨‹åºå…¥é—¨æŒ‡å—ğŸ‘‰](https://www.cnblogs.com/ittranslator/p/a-beginners-guide-to-blazor-server-and-webassembly-applications.html)
*   [Blazoræ•™ç¨‹ - ç”Ÿæˆç¬¬ä¸€ä¸ª Blazor åº”ç”¨ğŸ‘‰](https://dotnet.microsoft.com/zh-cn/learn/aspnet/blazor-tutorial/run)
*   [ç”ŸæˆBlazorå¾…åŠäº‹é¡¹åˆ—è¡¨åº”ç”¨ğŸ‘‰](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/tutorials/build-a-blazor-app?view=aspnetcore-6.0&pivots=server)
*   [ä½¿ç”¨Blazorçš„ASP.NET Core SignalRğŸ‘‰](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/tutorials/build-a-blazor-app?view=aspnetcore-6.0&pivots=server)
*   [ä½¿ç”¨ Blazor æ„å»º Web åº”ç”¨ç¨‹åºğŸ‘‰](https://learn.microsoft.com/zh-cn/training/paths/build-web-apps-with-blazor/?view=aspnetcore-6.0)

å‚è€ƒæ–‡ç« 
----

[å¾®è½¯å®˜æ–¹æ•™ç¨‹ASP.NET Core Blazor](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/?view=aspnetcore-7.0)

[Blazor VS ä¼ ç»ŸWebåº”ç”¨ç¨‹åº](https://zhuanlan.zhihu.com/p/343079368)

[Blazor Server å’Œ WebAssembly åº”ç”¨ç¨‹åºå…¥é—¨æŒ‡å—](https://www.cnblogs.com/ittranslator/p/a-beginners-guide-to-blazor-server-and-webassembly-applications.html)

[ä»€ä¹ˆæ˜¯SPAå•é¡µé¢åº”ç”¨](https://www.cnblogs.com/xiaozhuangge/p/15396609.html)

> ä½œè€…ï¼š[è¿½é€æ—¶å…‰è€…](https://www.cnblogs.com/Can-daydayup/)
> 
> ä½œè€…ç®€ä»‹ï¼šä¸€ä¸ªçƒ­çˆ±ç¼–ç¨‹ï¼Œå–„äºåˆ†äº«ï¼Œå–œæ¬¢å­¦ä¹ ã€æ¢ç´¢ã€å°è¯•æ–°äº‹ç‰©ï¼Œæ–°æŠ€æœ¯çš„ç¨‹åºçŒ¿ã€‚
> 
> æœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡è¿æ¥ï¼Œå¦åˆ™ä¿ç•™è¿½ç©¶æ³•å¾‹è´£ä»»çš„æƒåˆ©ã€‚å¦‚æœè¯¥ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©çš„è¯ï¼Œå¯ä»¥ç‚¹ä¸€ä¸‹å³ä¸‹è§’çš„[ã€â™¥æ¨èâ™¥ã€‘](javascript:void(0))ï¼Œå¸Œæœ›èƒ½å¤ŸæŒç»­çš„ä¸ºå¤§å®¶å¸¦æ¥å¥½çš„æŠ€æœ¯æ–‡ç« ï¼Œæ–‡ä¸­å¯èƒ½å­˜åœ¨æè¿°ä¸æ­£ç¡®æˆ–é”™è¯¯çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£ã€è¡¥å……ï¼Œä¸èƒœæ„Ÿæ¿€ ï¼