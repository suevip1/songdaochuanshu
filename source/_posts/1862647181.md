---
layout: post
title: "Arrays.asList()ï¼šä½¿ç”¨æŒ‡å—"
date: "2023-09-20T00:57:16.900Z"
---
Arrays.asList()ï¼šä½¿ç”¨æŒ‡å—
====================

Arrays.asList() æ˜¯ä¸€ä¸ª Java çš„é™æ€æ–¹æ³•ï¼Œå®ƒå¯ä»¥æŠŠä¸€ä¸ªæ•°ç»„æˆ–è€…å¤šä¸ªå‚æ•°è½¬æ¢æˆä¸€ä¸ª List é›†åˆã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥ä½œä¸ºæ•°ç»„å’Œé›†åˆä¹‹é—´çš„æ¡¥æ¢ï¼Œæ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨é›†åˆçš„ä¸€äº›æ–¹æ³•å’Œç‰¹æ€§ã€‚æœ¬æ–‡å°†ä»‹ç» Arrays.asList() çš„è¯­æ³•ã€åº”ç”¨åœºæ™¯ã€å‘ç‚¹å’Œæ€»ç»“ã€‚

*   è¯­æ³•
*   åº”ç”¨åœºæ™¯
*   å‘ç‚¹
*   æ€»ç»“

è¯­æ³•
--

Arrays.asList() çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

    public static <T> List<T> asList(T... a)
    

è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªæ³›å‹å‚æ•° Tï¼Œè¡¨ç¤ºæ•°ç»„æˆ–è€…å‚æ•°çš„ç±»å‹ã€‚T å¿…é¡»æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œä¸èƒ½æ˜¯ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œä¾‹å¦‚ int, double, char ç­‰ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„æ•°ç»„ï¼ŒArrays.asList() ä¼šæŠŠå®ƒå½“ä½œä¸€ä¸ª Object ç±»å‹çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯æŠŠå®ƒçš„æ¯ä¸ªå…ƒç´ å½“ä½œ Object ç±»å‹ã€‚è¿™æ ·å°±ä¼šå¯¼è‡´è¿”å›çš„ List åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå°±æ˜¯åŸå§‹æ•°ç»„æœ¬èº«ã€‚

Arrays.asList() è¿”å›çš„ List æ˜¯ä¸€ä¸ª Arrays ç±»çš„å†…éƒ¨ç±»ï¼Œå®ƒæŒæœ‰ä¸€ä¸ªå¯¹åŸå§‹æ•°ç»„çš„å¼•ç”¨ã€‚è¿™æ„å‘³ç€å¯¹ List çš„ä¿®æ”¹ä¼šåæ˜ åˆ°æ•°ç»„ä¸Šï¼Œåä¹‹äº¦ç„¶ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ª List çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½è¿›è¡Œå¢åŠ æˆ–è€…åˆ é™¤çš„æ“ä½œï¼Œå¦åˆ™ä¼šæŠ›å‡º UnsupportedOperationException å¼‚å¸¸ã€‚

Arrays.asList() è¿”å›çš„ List æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œå¹¶ä¸”å®ç°äº† RandomAccess æ¥å£ï¼Œè¡¨ç¤ºå®ƒæ”¯æŒéšæœºè®¿é—®ã€‚

åº”ç”¨åœºæ™¯
----

Arrays.asList() å¯ä»¥ç”¨åœ¨ä»¥ä¸‹å‡ ç§åœºæ™¯ä¸­ï¼š

*   å½“æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªä¸éœ€è¦æ”¹å˜å¤§å°æˆ–è€…å†…å®¹çš„ List é›†åˆæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Arrays.asList() æ¥å¿«é€Ÿåœ°åˆå§‹åŒ–ä¸€äº›å…ƒç´ ã€‚ä¾‹å¦‚ï¼š

    // ä½¿ç”¨ Arrays.asList() åˆ›å»ºä¸€ä¸ªä¸å¯å˜çš„ List
    List<String> list = Arrays.asList("a", "b", "c");
    System.out.println(list); // [a, b, c]
    

*   å½“æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç©ºçš„æˆ–è€…å•å…ƒç´ çš„ List é›†åˆæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Arrays.asList() æ¥ç®€åŒ–ä»£ç ã€‚ä¾‹å¦‚ï¼š

    // ä½¿ç”¨ Arrays.asList() åˆ›å»ºä¸€ä¸ªä¸å¯å˜çš„ç©º List
    List<String> emptyList = Arrays.asList();
    System.out.println(emptyList); // []
    
    // ä½¿ç”¨ Arrays.asList() åˆ›å»ºä¸€ä¸ªä¸å¯å˜çš„å•å…ƒç´  List
    List<String> singletonList = Arrays.asList("a");
    System.out.println(singletonList); // [a]
    

*   å½“æˆ‘ä»¬éœ€è¦ä»ä¸€ä¸ªæ•°ç»„æˆ–è€…å…¶ä»–é›†åˆç±»åˆ›å»ºä¸€ä¸ªä¸å¯å˜çš„ List é›†åˆæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Arrays.asList() æ¥æ–¹ä¾¿åœ°è½¬æ¢ã€‚ä¾‹å¦‚ï¼š

    // ä½¿ç”¨ Arrays.asList() ä»æ•°ç»„åˆ›å»ºä¸€ä¸ªä¸å¯å˜çš„ List
    String[] array = {"a", "b", "c"};
    List<String> listFromArray = Arrays.asList(array);
    System.out.println(listFromArray); // [a, b, c]
    
    // ä½¿ç”¨ Arrays.asList() ä»å…¶ä»–é›†åˆç±»åˆ›å»ºä¸€ä¸ªä¸å¯å˜çš„ List
    Set<String> set = new HashSet<>();
    set.add("a");
    set.add("b");
    set.add("c");
    List<String> listFromSet = Arrays.asList(set.toArray(new String[0]));
    System.out.println(listFromSet); // [a, b, c]
    

*   å½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€äº›é›†åˆç±»çš„æ–¹æ³•æˆ–è€…ç‰¹æ€§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Arrays.asList() æ¥æŠŠæ•°ç»„è½¬æ¢æˆé›†åˆã€‚ä¾‹å¦‚ï¼š

    // ä½¿ç”¨ Arrays.asList() æŠŠæ•°ç»„è½¬æ¢æˆé›†åˆï¼Œå¹¶ä½¿ç”¨ Collections ç±»çš„æ–¹æ³•
    String[] array = {"a", "b", "c"};
    List<String> list = Arrays.asList(array);
    Collections.sort(list); // å¯¹é›†åˆè¿›è¡Œæ’åº
    System.out.println(list); // [a, b, c]
    Collections.reverse(list); // å¯¹é›†åˆè¿›è¡Œåè½¬
    System.out.println(list); // [c, b, a]
    Collections.shuffle(list); // å¯¹é›†åˆè¿›è¡Œéšæœºæ‰“ä¹±
    System.out.println(list); // [b, a, c] æˆ–è€…å…¶ä»–éšæœºé¡ºåº
    
    // ä½¿ç”¨ Arrays.asList() æŠŠæ•°ç»„è½¬æ¢æˆé›†åˆï¼Œå¹¶ä½¿ç”¨ Stream API
    String[] array = {"a", "b", "c"};
    List<String> list = Arrays.asList(array);
    list.stream().forEach(System.out::println); // å¯¹é›†åˆè¿›è¡Œéå†å¹¶æ‰“å°æ¯ä¸ªå…ƒç´ 
    list.stream().map(String::toUpperCase).forEach(System.out::println); // å¯¹é›†åˆè¿›è¡Œæ˜ å°„å¹¶æ‰“å°æ¯ä¸ªå…ƒç´ çš„å¤§å†™å½¢å¼
    list.stream().filter(s -> s.startsWith("a")).forEach(System.out::println); // å¯¹é›†åˆè¿›è¡Œè¿‡æ»¤å¹¶æ‰“å°ä»¥ a å¼€å¤´çš„å…ƒç´ 
    

å‘ç‚¹
--

Arrays.asList() ä¹Ÿæœ‰ä¸€äº›å‘ç‚¹ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š

*   Arrays.asList() ä¸æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„ï¼Œå› ä¸ºå®ƒåªèƒ½æ¥å— Object ç±»å‹çš„å‚æ•°æˆ–è€…æ•°ç»„ã€‚åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ int, double, char ç­‰ï¼‰ä¸æ˜¯ Object çš„å­ç±»ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ä½œä¸º Arrays.asList() çš„å‚æ•°ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„ï¼ŒArrays.asList() ä¼šæŠŠå®ƒå½“ä½œä¸€ä¸ª Object ç±»å‹çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯æŠŠå®ƒçš„æ¯ä¸ªå…ƒç´ å½“ä½œ Object ç±»å‹ã€‚è¿™æ ·å°±ä¼šå¯¼è‡´è¿”å›çš„ List åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå°±æ˜¯åŸå§‹æ•°ç»„æœ¬èº«ã€‚

å¦‚æœæƒ³è¦æŠŠä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„è½¬æ¢æˆ Listï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š

*   ä½¿ç”¨å¾ªç¯éå†æ•°ç»„ï¼Œå¹¶æŠŠæ¯ä¸ªå…ƒç´ æ·»åŠ åˆ° List ä¸­ã€‚è¿™æ ·å¯ä»¥åˆ©ç”¨è‡ªåŠ¨è£…ç®±ï¼ˆautoboxingï¼‰çš„ç‰¹æ€§ï¼ŒæŠŠåŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢æˆå¯¹åº”çš„åŒ…è£…ç±»ï¼ˆå¦‚ Integer, Double, Character ç­‰ï¼‰ã€‚
*   ä½¿ç”¨ Java 8 ä¸­çš„ Stream APIï¼Œå¯ä»¥ç”¨ä¸€è¡Œä»£ç å®ç°æ•°ç»„åˆ° List çš„è½¬æ¢ã€‚å¯ä»¥ä½¿ç”¨ Arrays.stream() æˆ–è€… IntStream.of() ç­‰æ–¹æ³•ï¼Œç„¶åè°ƒç”¨ boxed() å’Œ collect() æ–¹æ³•ã€‚
*   ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚ Guava æˆ–è€… Apache Commons Langï¼Œå®ƒä»¬æä¾›äº†ä¸€äº›å·¥å…·ç±»å’Œæ–¹æ³•æ¥å¤„ç†åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„å’Œé›†åˆã€‚

ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    // ä½¿ç”¨å¾ªç¯éå†æ•°ç»„ï¼Œå¹¶æŠŠæ¯ä¸ªå…ƒç´ æ·»åŠ åˆ° List ä¸­
    int[] array = {1, 2, 3};
    List<Integer> list = new ArrayList<>();
    for (int num : array) {
        list.add(num); // åˆ©ç”¨è‡ªåŠ¨è£…ç®±
    }
    System.out.println(list); // [1, 2, 3]
    
    // ä½¿ç”¨ Stream API å®ç°æ•°ç»„åˆ° List çš„è½¬æ¢
    int[] array = {1, 2, 3};
    List<Integer> list = Arrays.stream(array).boxed().collect(Collectors.toList());
    System.out.println(list); // [1, 2, 3]
    
    // ä½¿ç”¨ Guava å®ç°æ•°ç»„åˆ° List çš„è½¬æ¢
    int[] array = {1, 2, 3};
    List<Integer> list = Ints.asList(array);
    System.out.println(list); // [1, 2, 3]
    

*   Arrays.asList() è¿”å›çš„ List æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½å¯¹å®ƒè¿›è¡Œå¢åŠ æˆ–è€…åˆ é™¤çš„æ“ä½œï¼Œå¦åˆ™ä¼šæŠ›å‡º UnsupportedOperationException å¼‚å¸¸ã€‚è¿™æ˜¯å› ä¸º Arrays.asList() è¿”å›çš„ List æ˜¯ä¸€ä¸ª Arrays ç±»çš„å†…éƒ¨ç±»ï¼Œå®ƒæ²¡æœ‰å®ç° add() å’Œ remove() ç­‰æ–¹æ³•ã€‚

å¦‚æœæƒ³è¦åˆ›å»ºä¸€ä¸ªå¯å˜çš„ List é›†åˆï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š

*   ä½¿ç”¨ ArrayList çš„æ„é€ å™¨ï¼Œå¹¶æŠŠ Arrays.asList() ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚è¿™æ ·å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ ArrayList å¯¹è±¡ï¼Œå¹¶å¤åˆ¶åŸå§‹æ•°ç»„ä¸­çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼š

    // ä½¿ç”¨ ArrayList çš„æ„é€ å™¨åˆ›å»ºä¸€ä¸ªå¯å˜çš„ List
    String[] array = {"a", "b", "c"};
    List<String> list = new ArrayList<>(Arrays.asList(array));
    System.out.println(list); // [a, b, c]
    list.add("d"); // å¯ä»¥å¢åŠ å…ƒç´ 
    System.out.println(list); // [a, b, c, d]
    

*   ä½¿ç”¨ Java 8 ä¸­çš„ Stream APIï¼Œå¯ä»¥ç”¨ä¸€è¡Œä»£ç å®ç°æ•°ç»„åˆ° List çš„è½¬æ¢ã€‚å¯ä»¥ä½¿ç”¨ Arrays.stream() æˆ–è€… IntStream.of() ç­‰æ–¹æ³•ï¼Œç„¶åè°ƒç”¨ collect() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š

    // ä½¿ç”¨ Stream API å®ç°æ•°ç»„åˆ° List çš„è½¬æ¢
    int[] array = {1, 2, 3};
    List<Integer> list = Arrays.stream(array).boxed().collect(Collectors.toList());
    System.out.println(list); // [1, 2, 3]
    list.add(4); // å¯ä»¥å¢åŠ å…ƒç´ 
    System.out.println(list); // [1, 2, 3, 4]
    

æ€»ç»“
--

Arrays.asList() æ˜¯ä¸€ä¸ªç®€å•è€Œæœ‰ç”¨çš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠæ•°ç»„è½¬æ¢æˆ List é›†åˆã€‚ä½†æ˜¯å®ƒä¹Ÿæœ‰ä¸€äº›é™åˆ¶å’Œæ³¨æ„äº‹é¡¹ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®å…·ä½“çš„éœ€æ±‚å’Œåœºæ™¯æ¥é€‰æ‹©åˆé€‚çš„æ–¹æ³•ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œè°¢è°¢æ‚¨çš„é˜…è¯»ã€‚ğŸ˜Š

> å…³æ³¨å…¬ä¼—å·ã€waynblogã€‘æ¯å‘¨åˆ†äº«æŠ€æœ¯å¹²è´§ã€å¼€æºé¡¹ç›®ã€å®æˆ˜ç»éªŒã€å›½å¤–ä¼˜è´¨æ–‡ç« ç¿»è¯‘ç­‰ï¼Œæ‚¨çš„å…³æ³¨å°†æ˜¯æˆ‘çš„æ›´æ–°åŠ¨åŠ›ï¼