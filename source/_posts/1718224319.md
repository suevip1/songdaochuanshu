---
layout: post
title: "åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (27) ä½¿ç”¨JWTä¿æŠ¤æ¥å£"
date: "2023-05-04T01:05:35.573Z"
---
åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (27) ä½¿ç”¨JWTä¿æŠ¤æ¥å£
==========================================

å‰è¨€
--

è¿™æ˜¯StarBlogç³»åˆ—åœ¨2023å¹´çš„ç¬¬äºŒç¯‡æ›´æ–°ğŸ˜‚

è¿™å‡ ä¸ªæœˆéƒ½åœ¨å¿™ï¼Œæ›´æ–°å˜å¾—å¾ˆä¸å‹¤å¿«ï¼Œä½†æ˜¯æ‹–ç€ä¸æ›´æ–°æˆ‘çš„å¿ƒé‡Œæ›´æ…Œï¼Œå¾ˆä¹…æ²¡å†™ï¼Œè¦å¼€å¤´å°±å˜å¾—å¾ˆéš¾ğŸ˜‘

è¯´å›æ­£é¢˜ï¼Œä¹‹å‰çš„æ–‡ç« é‡Œï¼Œæˆ‘ä»¬å·²ç»æŠŠåšå®¢å…³é”®çš„æ¥å£éƒ½å¼€å‘å®Œæˆäº†ï¼Œä½†è¿˜å°‘äº†ä¸€ä¸ªæœ€å…³é”®çš„ã€Œè®¤è¯æˆæƒã€ï¼Œå°‘äº†è¿™ä¸œè¥¿ï¼Œç½‘ç«™å°±è·Ÿç­›å­ä¸€æ ·ï¼Œè°éƒ½å¯ä»¥æ¥æ·»åŠ å’Œåˆ é™¤æ•°æ®ï¼Œä¹±å¥—äº†~

å…³äºã€Œè®¤è¯æˆæƒã€çš„çŸ¥è¯†ï¼Œä¼šæ¯”è¾ƒå¤æ‚ï¼Œè¦å­¦ä¹ è¿™å—çš„è¯ï¼Œå»ºè®®åˆ†å‡ æ­¥ï¼š

*   åŸºç¡€æ¦‚å¿µ
*   AspNetCore çš„ Identity æ¡†æ¶
*   å…¶ä»–æ¡†æ¶ï¼Œå¦‚ IdentityServer

å…³äºåŸºç¡€æ¦‚å¿µå¯ä»¥çœ‹çœ‹æˆ‘ä¹‹å‰å†™çš„è¿™ç¯‡: [Asp-Net-Coreå­¦ä¹ ç¬”è®°ï¼šèº«ä»½è®¤è¯å…¥é—¨](https://www.cnblogs.com/deali/p/15851620.html)

> PSï¼šIdentity æ¡†æ¶çš„è¿˜æ²¡å†™å¥½ğŸ˜‚

ä¸ºäº†é¿å…å½“å¤è¯»æœºï¼Œæœ¬æ–‡å°±ä¸æ¶‰åŠå¤ªå¤šæ¦‚å¿µçš„ä¸œè¥¿äº†ï¼Œå»ºè®®å…ˆçœ‹å®Œä¸Šé¢é‚£ç¯‡å†æ¥å¼€å§‹ä½¿ç”¨JWT~

JWT
---

å‰é¢ä»‹ç»æ–‡ç« çš„CRUDæ¥å£æ—¶ï¼Œæ¶‰åŠåˆ°ä¿®æ”¹çš„æ¥å£ï¼Œéƒ½åŠ äº† `[Authorize]` ç‰¹æ€§ï¼Œè¡¨ç¤ºéœ€è¦ç™»å½•æ‰èƒ½è®¿é—®ï¼Œæœ¬æ–‡å°±ä»¥æœ€ç®€å•çš„æ–¹å¼æ¥å®ç°è¿™ä¸ªç™»å½•è®¤è¯åŠŸèƒ½ã€‚

åœ¨ AspNetCore ä¸­ï¼Œä½¿ç”¨ JWT çš„å·¥ä½œæµç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼š

*   JWTå°±æ˜¯ä¸€ä¸ªBase64ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œåˆ†ä¸º head/payload/sign ä¸‰ä¸ªéƒ¨åˆ†ï¼ˆsignç­¾åæ˜¯ä½¿ç”¨ç‰¹å®šç§˜é’¥ç”Ÿæˆçš„ï¼Œåˆ«äººæ— æ³•ä¼ªé€ ï¼Œæ‰€ä»¥å°±ç®—ä¿®æ”¹äº†payloadéƒ¨åˆ†çš„ä¿¡æ¯ï¼Œåç«¯æ ¡éªŒä¹Ÿä¸ä¼šé€šè¿‡ï¼‰
*   ç”¨æˆ·ç™»å½•æ—¶ï¼Œåç«¯å¯ä»¥åœ¨é‡Œé¢å­˜ä¸€äº›ç±»ä¼¼ç”¨æˆ·IDã€é‚®ç®±ã€æ‰‹æœºå·ä¹‹ç±»çš„æ•°æ®ï¼Œç„¶åæŠŠè¿™ä¸²ä¸œè¥¿è¿”å›ç»™å‰ç«¯å­˜å‚¨ï¼Œæ³¨æ„ä¸è¦æŠŠä¸èƒ½è¢«å®¢æˆ·ç«¯çŸ¥é“çš„ä¿¡æ¯æ”¾åœ¨é‡Œé¢ï¼ˆä¹Ÿå¯ä»¥å¯¹payloadè¿›è¡ŒåŠ å¯†ï¼‰
*   ä¹‹åè°ƒç”¨éœ€è¦ç™»å½•çš„æ¥å£æ—¶ï¼Œéƒ½è¦å¸¦ä¸Šè¿™ä¸ªJWTï¼ˆä¸€èˆ¬æ˜¯æ”¾åœ¨ HTTP Header é‡Œé¢ï¼‰
*   è¿™ä¸²ä¸œè¥¿åªæœ‰åç«¯èƒ½è§£æï¼Œåç«¯æ‹¿åˆ°ä¹‹åå°±çŸ¥é“ç”¨æˆ·çš„èº«ä»½äº†

JWT è¿˜æœ‰å…¶ä»–ä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚è¯´æ˜¯æ²¡æœ‰çŠ¶æ€çš„ï¼Œè¿™å°±å¾ˆç¬¦åˆæˆ‘ä»¬ç”¨çš„ RESTFul æ¥å£äº†ï¼Œä¸åƒä¼ ç»Ÿä½¿ç”¨ session å’Œ cookies é‚£æ ·ï¼Œ**åŸç‰ˆ JWT** åªè¦ç­¾å‘ä¹‹åï¼Œåœ¨æœ‰æ•ˆæœŸç»“æŸå‰å°±ä¸èƒ½å–æ¶ˆï¼Œç”¨æˆ·ä¹Ÿæ²¡æ³•æ³¨é”€ï¼Œä¸ºäº†é¿å…æ³„éœ² JWT token å¯¼è‡´å®‰å…¨é—®é¢˜ï¼Œä¸€èˆ¬è¿‡æœŸæ—¶é—´éƒ½è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚_ï¼ˆè¿™ä¸ªä¸èƒ½å–æ¶ˆçš„é—®é¢˜ï¼Œä¹Ÿæ˜¯å¯ä»¥é€šè¿‡æ›²çº¿æ•‘å›½è§£å†³çš„ï¼Œä¸è¿‡ä¸åœ¨æœ¬æ–‡çš„è®¨è®ºèŒƒå›´å“ˆï¼‰_

åˆæ­¥æ¥è§¦ JWT
--------

OKï¼Œè¯´äº†é‚£ä¹ˆå¤šï¼Œè¿˜æ˜¯å¼€å§‹æ¥å†™ä»£ç å§

### ç”Ÿæˆ JWT

è¦ç”Ÿæˆçš„è¯å¾ˆç®€å•ï¼Œä¸éœ€è¦ä»€ä¹ˆé¢å¤–çš„é…ç½®ï¼Œå‡ è¡Œä»£ç å°±æå®šäº†

    public LoginToken GenerateLoginToken(User user) {
      var claims = new List<Claim> {
        new(JwtRegisteredClaimNames.Sub, user.Id), // User.Identity.Name
        new(JwtRegisteredClaimNames.GivenName, user.Name),
        new(JwtRegisteredClaimNames.Jti, Guid.NewGuid().ToString()), // JWT ID
      };
      var key = new SymmetricSecurityKey(Encoding.UTF8.GetBytes("jwt key"));
      var signCredential = new SigningCredentials(key, SecurityAlgorithms.HmacSha256);
      var jwtToken = new JwtSecurityToken(
        issuer: "jwt issuer ç­¾å‘è€…",
        audience: "jwt audience æ¥å—è€…",
        claims: claims,
        expires: DateTime.Now.AddDays(7),
        signingCredentials: signCredential);
    
      return new LoginToken {
        Token = new JwtSecurityTokenHandler().WriteToken(jwtToken),
        Expiration = TimeZoneInfo.ConvertTimeFromUtc(jwtToken.ValidTo, TimeZoneInfo.Local)
      };
    }
    

æœ€å¼€å§‹çš„ `claims` å°±æ˜¯å‰é¢è¯´çš„åç«¯å¾€JWTé‡Œé¢å­˜çš„æ•°æ®

> _"The set of claims associated with a given entity can be thought of as a key. The particular claims define the shape of that key; much like a physical key is used to open a lock in a door. In this way, claims are used to gain access to resources."_ from [MSDN](https://msdn.microsoft.com/en-us/library/system.identitymodel.claims.claim(v=vs.110).aspx#Anchor_5)

`Claim` çš„æ„é€ æ–¹æ³•å¯ä»¥æ¥æ”¶ `key` å’Œ `value` å‚æ•°ï¼Œéƒ½æ˜¯å­—ç¬¦ä¸²

å¯¹äº `key` ï¼Œ.Net æä¾›äº†ä¸€äº›å¸¸é‡ï¼Œåœ¨ `JwtRegisteredClaimNames` å’Œ `ClaimTypes` ç±»é‡Œè¾¹ï¼Œè¿™ä¿©çš„åŒºåˆ«å°±æ˜¯åè€…æ˜¯è€çš„ï¼Œä¸€èˆ¬åœ¨Windowsä½“ç³»ä¸‹ä½¿ç”¨ï¼Œæ¯”å¦‚è¯´åŒæ ·æ˜¯ `Name` è¿™ä¸ª key

*   `ClaimTypes.Name = "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"`
*   `JwtRegisteredClaimNames.Name = "name"`

æˆ‘ä»¬æ˜¯åœ¨ JWT é‡Œé¢è®¾ç½® Claimï¼Œç”¨ `JwtRegisteredClaimNames` å°±å¥½äº†

å‚è€ƒï¼š[https://stackoverflow.com/questions/50012155/jwt-claim-names](https://stackoverflow.com/questions/50012155/jwt-claim-names)

### ä» JWT ä¸­è¯»å–ä¿¡æ¯

ä¹Ÿå°±æ˜¯è¯»å–æ”¾åœ¨é‡Œé¢çš„å„ä¸ª Claim

åœ¨æ­£ç¡®é…ç½® `Authentication` æœåŠ¡å’Œ `JwtBearer` ä¹‹åï¼Œå·²ç™»å½•çš„å®¢æˆ·ç«¯è¯·æ±‚è¿‡æ¥ï¼Œåç«¯å¯ä»¥åœ¨ Controller é‡Œé¢æ‹¿åˆ° JWT æ•°æ®

åƒè¿™æ ·

    var name = HttpContext.User.FindFirst(JwtRegisteredClaimNames.Name)?.Value;
    

è¿˜å¯ä»¥ç”¨ `System.Security.Claims.PrincipalExtensions` çš„æ‰©å±•æ–¹æ³• `FindFirstValue` ç›´æ¥æ‹¿åˆ°å­—ç¬¦ä¸²å€¼ã€‚

> åæ§½ï¼šå¦‚æœå¯¹åº”çš„ Claim ä¸å­˜åœ¨çš„è¯ï¼Œè¿™ä¸ªæ‰©å±•æ–¹æ³•è¿”å›çš„å€¼æ˜¯ `null`ï¼Œä½†ä¸çŸ¥é“ä¸ºå•¥ï¼Œä»–æºç ç”¨çš„æ˜¯ `string` ä½œä¸ºè¿”å›å€¼ç±»å‹ï¼Œè€Œä¸æ˜¯ `string?` ï¼ŒçœŸæ˜¯ä»¤äººé—æ†¾

ä½¿ç”¨ JWT ä¿æŠ¤æ¥å£
-----------

äº†è§£ JWT çš„ä½¿ç”¨æ–¹å¼ä¹‹åï¼Œç»ˆäºå¯ä»¥æŠŠ JWT åº”ç”¨åˆ°åšå®¢é¡¹ç›®ä¸­äº†~

### é…ç½®JWTå‚æ•°

ä¸ºäº†é¿å…ç¡¬ç¼–ç ï¼Œæˆ‘ä»¬æŠŠ JWT éœ€è¦çš„ `Issuer`, `Audience`, `Key` ä¸‰ä¸ªå‚æ•°å†™åœ¨é…ç½®é‡Œé¢

å½¢å¼å¦‚ä¸‹

    "Auth": {
      "Jwt": {
        "Issuer": "starblog",
        "Audience": "starblog-admin-ui",
        "Key": "F2REaFzQ6xA9k77EUDLf9EnjK5H2wUot"
      }
    }
    

æ¥ç€éœ€è¦å®šä¹‰ä¸€ä¸ªç±»æ¥æ–¹ä¾¿æ˜ å°„é…ç½®ã€‚

åœ¨ `StarBlog.Web/Models/Config` ä¸‹æ·»åŠ  `Auth.cs`

    public class Auth {
      public Jwt Jwt { get; set; }
    }
    
    public class Jwt {
      public string Issuer { get; set; }
      public string Audience { get; set; }
      public string Key { get; set; }
    }
    

æ³¨å†Œä¸€ä¸‹

    builder.Services.Configure<Auth>(configuration.GetSection(nameof(Auth)));
    

### é…ç½® Authentication æœåŠ¡

è¿™éƒ¨åˆ†ä»£ç æ¯”è¾ƒå¤šï¼Œå†™æˆæ‰©å±•æ–¹æ³•ï¼Œé¿å… `Program.cs` æ–‡ä»¶ä»£ç å¤ªå¤š

æ·»åŠ  `StarBlog.Web/Extensions/ConfigureAuth.cs` æ–‡ä»¶

    public static class ConfigureAuth {
      public static void AddAuth(this IServiceCollection services, IConfiguration configuration) {
        services.AddScoped<AuthService>();
        services.AddAuthentication(options => {
          options.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;
          options.DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme;
        })
          .AddJwtBearer(options => {
            var authSetting = configuration.GetSection(nameof(Auth)).Get<Auth>();
            options.TokenValidationParameters = new TokenValidationParameters {
              ValidateAudience = true,
              ValidateLifetime = true,
              ValidateIssuer = true,
              ValidateIssuerSigningKey = true,
              ValidIssuer = authSetting.Jwt.Issuer,
              ValidAudience = authSetting.Jwt.Audience,
              IssuerSigningKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(authSetting.Jwt.Key)),
              ClockSkew = TimeSpan.Zero
            };
          });
      }
    }
    

ç„¶ååœ¨ `Program.cs` é‡Œï¼Œéœ€è¦ä½¿ç”¨è¿™ä¸ªæ‰©å±•æ–¹æ³•æ¥æ³¨å†ŒæœåŠ¡

    builder.Services.AddAuth(builder.Configuration);
    

è¿˜å¾—é…ç½®ä¸€ä¸‹ä¸­é—´ä»¶ï¼Œè¿™ä¸ªé¡ºåºå¾ˆé‡è¦ï¼Œéœ€è¦ä½¿ç”¨èº«ä»½è®¤è¯ä¿æŠ¤çš„æ¥å£æˆ–èµ„æºï¼Œå¿…é¡»æ”¾åˆ°è¿™ä¿© `Auth...` ä¸­é—´ä»¶çš„åé¢ã€‚

    app.UseRouting();
    app.UseAuthentication();
    app.UseAuthorization();
    // ...
    app.MapControllerRoute(...);
    app.Run();
    

### å°è£…ç™»å½•é€»è¾‘

è¿˜æ˜¯é‚£å¥è¯ï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨balabalaâ€¦â€¦

æ–°å»º `StarBlog.Web/Services/AuthService.cs` æ–‡ä»¶

    public class AuthService {
      private readonly Auth _auth;
      private readonly IBaseRepository<User> _userRepo;
    
      public AuthService(IOptions<Auth> options, IBaseRepository<User> userRepo) {
        _auth = options.Value;
        _userRepo = userRepo;
      }
    
      public LoginToken GenerateLoginToken(User user) {
        var claims = new List<Claim> {
          new(JwtRegisteredClaimNames.Sub, user.Id), // User.Identity.Name
          new(JwtRegisteredClaimNames.GivenName, user.Name),
          new(JwtRegisteredClaimNames.Jti, Guid.NewGuid().ToString()), // JWT ID
        };
        var key = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(_auth.Jwt.Key));
        var signCredential = new SigningCredentials(key, SecurityAlgorithms.HmacSha256);
        var jwtToken = new JwtSecurityToken(
          issuer: _auth.Jwt.Issuer,
          audience: _auth.Jwt.Audience,
          claims: claims,
          expires: DateTime.Now.AddDays(7),
          signingCredentials: signCredential);
    
        return new LoginToken {
          Token = new JwtSecurityTokenHandler().WriteToken(jwtToken),
          Expiration = TimeZoneInfo.ConvertTimeFromUtc(jwtToken.ValidTo, TimeZoneInfo.Local)
        };
      }
    }
    

å› ä¸ºç¯‡å¹…å…³ç³»ï¼ŒåªæŠŠå…³é”®çš„ç”Ÿæˆ JWT ä»£ç è´´å‡ºæ¥ï¼Œè¿˜æœ‰ä¸€äº›è·å–ç”¨æˆ·ä¿¡æ¯å•¥çš„ä»£ç ï¼Œè¿˜ä¸æ˜¯æœ€ç»ˆç‰ˆæœ¬ï¼Œæ¥ä¸‹æ¥éšæ—¶ä¼šä¿®æ”¹ï¼Œè€Œä¸”ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±æ²¡æœ‰æ”¾å‡ºæ¥~

å†æ¥å†™ä¸ªç™»å½•æ¥å£

æ·»åŠ  `StarBlog.Web/Apis/AuthController.cs` æ–‡ä»¶

    [ApiController]
    [Route("Api/[controller]")]
    [ApiExplorerSettings(GroupName = ApiGroups.Auth)]
    public class AuthController : ControllerBase {
      private readonly AuthService _authService;
    
      public AuthController(AuthService authService) {
        _authService = authService;
      }
    
      /// <summary>
      /// ç™»å½•
      /// </summary>
      [HttpPost]
      [ProducesResponseType(typeof(ApiResponse<LoginToken>), StatusCodes.Status200OK)]
      public async Task<ApiResponse> Login(LoginUser loginUser) {
        var user = await _authService.GetUserByName(loginUser.Username);
        if (user == null) return ApiResponse.Unauthorized("ç”¨æˆ·åä¸å­˜åœ¨");
        if (loginUser.Password != user.Password) return ApiResponse.Unauthorized("ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯");
        return ApiResponse.Ok(_authService.GenerateLoginToken(user));
      }
    }
    

ä¹‹åæˆ‘ä»¬è¯·æ±‚è¿™ä¸ªæ¥å£ï¼Œå¦‚æœç”¨æˆ·åå’Œå¯†ç æ­£ç¡®çš„è¯ï¼Œå°±å¯ä»¥æ‹¿åˆ° JWT token å’Œè¿‡æœŸæ—¶é—´

    {
      "statusCode": 200,
      "successful": true,
      "message": "Ok",
      "data": {
        "token": "eyJhbGciOiJIUzI1NiIsInR123I6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRlYWxpIiwibmFC1kYJ9.DaJEmBAVdXks8MOedVee4xxrB-RvUSg2wIJGc30HGkk",
        "expiration": "2023-05-04T22:29:04+08:00"
      },
      "errorData": null
    }
    

æ¥ä¸‹æ¥ï¼Œè¯·æ±‚æ·»åŠ äº† `[Authorize]` çš„æ¥å£æ—¶ï¼Œéœ€è¦åœ¨ HTTP header é‡Œé¢åŠ ä¸Šï¼š

    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR123I6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRlYWxpIiwibmFC1kYJ9.DaJEmBAVdXks8MOedVee4xxrB-RvUSg2wIJGc30HGkk
    

é…ç½®swaggeræ”¯æŒ
-----------

åŠ äº† `[Authorize]` ä¹‹åï¼Œåœ¨swaggeré‡Œå°±æ²¡æ³•è°ƒè¯•æ¥å£äº†ï¼Œå¾—ç”¨ postman ä¹‹ç±»çš„å·¥å…·ï¼Œæ·»åŠ  HTTP header

ä¸è¿‡swaggerè¿™ä¹ˆå¥½ç”¨çš„å·¥å…·è‚¯å®šä¸ä¼šé‚£ä¹ˆè ¢ï¼Œå®ƒæ˜¯å¯ä»¥é…ç½®æ”¯æŒ JWT çš„

æ·»åŠ  nuget åŒ… `Swashbuckle.AspNetCore.Filters`

ç„¶åç¼–è¾‘ `StarBlog.Web/Extensions/ConfigureSwagger.cs` æ¥é…ç½®ä¸€ä¸‹ï¼ˆä¸Šä¸€ç¯‡å…³äºswaggerçš„è¿˜æ²¡å¿˜è®°å§ï¼Ÿï¼‰

åœ¨ `AddSwaggerGen` é‡Œé¢ï¼Œæ·»åŠ é…ç½®ä»£ç 

    var security = new OpenApiSecurityScheme {
      Description = "JWTæ¨¡å¼æˆæƒï¼Œè¯·è¾“å…¥ \"Bearer {Token}\" è¿›è¡Œèº«ä»½éªŒè¯",
      Name = "Authorization",
      In = ParameterLocation.Header,
      Type = SecuritySchemeType.ApiKey
    };
    options.AddSecurityDefinition("oauth2", security);
    options.AddSecurityRequirement(new OpenApiSecurityRequirement {{security, new List<string>()}});
    options.OperationFilter<AddResponseHeadersFilter>();
    options.OperationFilter<AppendAuthorizeToSummaryOperationFilter>();
    options.OperationFilter<SecurityRequirementsOperationFilter>();
    

æå®šã€‚è¿™æ ·swaggeré¡µé¢å³ä¸Šè§’å°±å¤šäº†ä¸ªé”å¤´å›¾æ ‡ï¼Œç‚¹å‡»å°±å¯ä»¥è¾“å…¥ JWT token

![](https://img2023.cnblogs.com/blog/866942/202305/866942-20230503224652543-1178494148.png)

ä¸è¿‡æœ‰ä¸€ç‚¹ä¸æ–¹ä¾¿çš„æ˜¯ï¼Œæ¯ä¸ªæ¥å£åˆ†ç»„éƒ½è¦è¾“å…¥ä¸€æ¬¡ï¼Œåˆ‡æ¢äº†å°±å¾—é‡æ–°è¾“å…¥äº†â€¦

ä½†è‡³å°‘ä¸ç”¨postmanäº†~

å‚è€ƒèµ„æ–™
----

*   [https://stackoverflow.com/questions/50012155/jwt-claim-names](https://stackoverflow.com/questions/50012155/jwt-claim-names)
*   [https://stackoverflow.com/questions/47923652/what-is-the-best-practice-for-fetching-user-data-after-validating-jwt-in-net-co](https://stackoverflow.com/questions/47923652/what-is-the-best-practice-for-fetching-user-data-after-validating-jwt-in-net-co)
*   [https://github.com/mattfrear/Swashbuckle.AspNetCore.Filters](https://github.com/mattfrear/Swashbuckle.AspNetCore.Filters)

ç³»åˆ—æ–‡ç« 
----

*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (1) ä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å†™ä¸€ä¸ªåšå®¢ï¼Ÿ](https://www.cnblogs.com/deali/p/16104454.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (2) ç¯å¢ƒå‡†å¤‡å’Œåˆ›å»ºé¡¹ç›®](https://www.cnblogs.com/deali/p/16172342.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (3) æ¨¡å‹è®¾è®¡](https://www.cnblogs.com/deali/p/16180920.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (4) markdownåšå®¢æ‰¹é‡å¯¼å…¥](https://www.cnblogs.com/deali/p/16211720.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (5) å¼€å§‹æ­å»ºWebé¡¹ç›®](https://www.cnblogs.com/deali/p/16276448.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (6) é¡µé¢å¼€å‘ä¹‹åšå®¢æ–‡ç« åˆ—è¡¨](https://www.cnblogs.com/deali/p/16286780.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (7) é¡µé¢å¼€å‘ä¹‹æ–‡ç« è¯¦æƒ…é¡µé¢](https://www.cnblogs.com/deali/p/16293309.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (8) åˆ†ç±»å±‚çº§ç»“æ„å±•ç¤º](https://www.cnblogs.com/deali/p/16307604.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (9) å›¾ç‰‡æ‰¹é‡å¯¼å…¥](https://www.cnblogs.com/deali/p/16328825.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (10) å›¾ç‰‡ç€‘å¸ƒæµ](https://www.cnblogs.com/deali/p/16335162.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (11) å®ç°è®¿é—®ç»Ÿè®¡](https://www.cnblogs.com/deali/p/16349155.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (12) Razoré¡µé¢åŠ¨æ€ç¼–è¯‘](https://www.cnblogs.com/deali/p/16391656.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (13) åŠ å…¥å‹æƒ…é“¾æ¥åŠŸèƒ½](https://www.cnblogs.com/deali/p/16421699.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (14) å®ç°ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½](https://www.cnblogs.com/deali/p/16441294.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (15) ç”Ÿæˆéšæœºå°ºå¯¸å›¾ç‰‡](https://www.cnblogs.com/deali/p/16457314.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (16) ä¸€äº›æ–°åŠŸèƒ½ (ç›‘æ§/ç»Ÿè®¡/é…ç½®/åˆå§‹åŒ–)](https://www.cnblogs.com/deali/p/16523157.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (17) è‡ªåŠ¨ä¸‹è½½æ–‡ç« é‡Œçš„å¤–éƒ¨å›¾ç‰‡](https://www.cnblogs.com/deali/p/16586437.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (18) å®ç°æœ¬åœ°Typoraæ–‡ç« æ‰“åŒ…ä¸Šä¼ ](https://www.cnblogs.com/deali/p/16758878.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (19) Markdownæ¸²æŸ“æ–¹æ¡ˆæ¢ç´¢](https://www.cnblogs.com/deali/p/16834452.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (20) å›¾ç‰‡æ˜¾ç¤ºä¼˜åŒ–](https://www.cnblogs.com/deali/p/16929677.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (21) å¼€å§‹å¼€å‘RESTFulæ¥å£](https://www.cnblogs.com/deali/p/16989798.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (22) å¼€å‘åšå®¢æ–‡ç« ç›¸å…³æ¥å£](https://www.cnblogs.com/deali/p/16991279.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (23) æ–‡ç« åˆ—è¡¨æ¥å£åˆ†é¡µã€è¿‡æ»¤ã€æœç´¢ã€æ’åº](https://www.cnblogs.com/deali/p/16992573.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (24) ç»Ÿä¸€æ¥å£æ•°æ®è¿”å›æ ¼å¼](https://www.cnblogs.com/deali/p/16995384.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (25) å›¾ç‰‡æ¥å£ä¸æ–‡ä»¶ä¸Šä¼ ](https://www.cnblogs.com/deali/p/16999818.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (26) é›†æˆSwaggeræ¥å£æ–‡æ¡£](https://www.cnblogs.com/deali/p/17093390.html)
*   åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (27) ä½¿ç”¨JWTä¿æŠ¤æ¥å£

å¾®ä¿¡å…¬ä¼—å·ï¼šã€Œç¨‹åºè®¾è®¡å®éªŒå®¤ã€ ä¸“æ³¨äºäº’è”ç½‘çƒ­é—¨æ–°æŠ€æœ¯æ¢ç´¢ä¸å›¢é˜Ÿæ•æ·å¼€å‘å®è·µï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æœºå™¨å­¦ä¹ ä¸æ•°æ®åˆ†æç®—æ³•ã€ç§»åŠ¨ç«¯å¼€å‘ã€Linuxã€Webå‰åç«¯å¼€å‘ç­‰ï¼Œæ¬¢è¿ä¸€èµ·æ¢è®¨æŠ€æœ¯ï¼Œåˆ†äº«å­¦ä¹ å®è·µç»éªŒã€‚